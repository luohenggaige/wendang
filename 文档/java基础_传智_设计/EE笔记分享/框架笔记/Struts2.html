<html>
<head>
  <title>Evernote Export</title>
  <basefont face="楷体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: 楷体;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="1921"/>
<h1>01 Servlet的缺点</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b><font color="#1C3387">1、Servlet的缺点</font></b></div><div><font color="#E30000">&lt;1&gt;一般情况下一个请求对应一个servle</font><span style="color: rgb(227, 0, 0);">t，即使通过在请求后面添加method参数的</span><span style="color: rgb(227, 0, 0);">方法使一个servlet可以处理多个</span><span style="color: rgb(227, 0, 0);">请求，也要写很多的if…else语句，代码非常拥挤。</span></div><div><font color="#E30000">&lt;2&gt;在web.xml中，配置servlet非常麻烦，并且不适合团队开发。</font></div><div><font color="#E30000">&lt;3&gt;servlet中doGet和doPost方法中的两个参数request,response对容器具有严重的依赖性。</font></div><div><font color="#E30000">&lt;4&gt;如果页面上表单中的元素非常复杂，那么在servlet的方法中获取表单元素的数据的操作比较繁琐。</font></div><div><font color="#E30000">&lt;5&gt;在servlet中完成类似用户的注册、启动日志、验证权限、上传图片、保存用户等AOP编程很麻烦。</font></div><div><font color="#E30000">&lt;6&gt;servlet是单线程的，只要在servlet中的属性中声明一个数据，那么这个数据就是全局性的，就会存在线程安全问题。</font></div><div><font color="#E30000">&lt;7&gt;在servlet中处理异常的问题，如果servlet中有5个方法，那么这5个方法都必须单独进行try…catch操作。</font></div><div><font color="#E30000"><br></font></div><div><font color="#328712"><b>记忆点：servlet数量、web.xml、容器依赖、表单数据、AOP、线程安全、异常处理</b></font></div></div>
</div>
<hr>
<a name="1477"/>
<h1>02 模拟实现*service.do?method=*请求的处理过程，重构Servlet</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div><b style="color: rgb(28, 51, 135);">2、模拟实现*service.do?method=*请求的处理过程，重构Servlet</b></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b><br></b></font></div><div><img src="Struts2_files/Image.png" type="image/png" height="216" style="cursor: default;cursor: default;cursor: default;" width="871"/></div><div><span style="color: rgb(227, 0, 0);">cn.itheima.config.ServiceConfig.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ServiceConfig {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>static</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Map&lt;String,String&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>serviceMap</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HashMap&lt;String,String&gt;();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>static</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">{</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>serviceMap</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;MyService&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.service.MyService&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0);">cn.itheima.filter.ServletFilter.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ServletFilter</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Filter {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">destroy() {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">doFilter(ServletRequest req, ServletResponse resp,</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">FilterChain</span> <span style="font-size: 10pt;">chain)</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">IOException, ServletException {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#6A0081">            </font><font color="#328712">String returnPath;</font></span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            HttpServletRequest request = (HttpServletRequest)req;</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            HttpServletResponse response = (HttpServletResponse)resp;</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            String uri = request.getRequestURI();</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            String[] splits = uri.split(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            String requestUri = splits[splits.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">length</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">-1];</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            String serviceName = requestUri.substring(0,requestUri.indexOf(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;.&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">));</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            String serviceClass = ServiceConfig.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>serviceMap</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.get(serviceName);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">{</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  Class clazz = Class.</span> <span style="font-size: 10pt;"><i>forName</i></span><span style="font-size: 10pt;">(serviceClass);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  MyService myService = (MyService)clazz.newInstance();</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  String methodName = request.getParameter(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;method&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  Method method = clazz.getMethod(methodName, HttpServletRequest.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">, HttpServletResponse.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  returnPath = (String)method.invoke(myService, request, response);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  request.getRequestDispatcher(returnPath).forward(request, response);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">(Exception e) {</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  e.printStackTrace();</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">init(FilterConfig arg0)</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ServletException {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0);">cn.itheima.service.MyService.java</span></div><div align="left"><font color="#41007D"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">MyService {</span></font></font></div><div align="left"><font color="#41007D" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(65, 0, 125);"><span style="font-size: 10pt;">      </span></font><font color="#41007D"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">String</span> <span style="font-size: 10pt;">insert(HttpServletRequest request,HttpServletResponse response){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;insert method is invoked&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212);"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">&quot;index.jsp&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#41007D" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0);">web.xml</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">web-app</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;2.4&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">xmlns</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">xmlns:xsi</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">xsi:schemaLocation</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://java.sun.com/xml/ns/j2ee</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span></font></font>&gt;</div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">servletFilter</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-name</span></font>&gt;</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">cn.itheima.filter.ServletFilter</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-class</span></font>&gt;</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">servletFilter</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-name</span></font>&gt;</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">url-pattern</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">*.do</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">url-pattern</span></font>&gt;</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file-list</span></font></font>&gt;</div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file</span></font></font>&gt;<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font></font>&lt;/<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file-list</span></font></font>&gt;</div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">web-app</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><br></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">insert method is invoked</span></font></div><div align="left"><font face="Courier New" size="2"><br></font></div><div align="left"><span style="text-align: -webkit-auto;"><font color="#328712"><b>记忆点：Map、Filter、反射</b></font></span></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">优点总结</span><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">：</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">1、所有的请求都经过*.do。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">2、service中的方法可以动态调用。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">3、完成了转发和重定向。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">4、整个框架中只需要一个try…catch…捕捉异常。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">5、不用再写任何的servlet，这样在web.xml中写的代码就很少了。</span></div></div></div><br></div><div><b style="color: rgb(50, 135, 18);">记忆点：请求统一、service方法动态调用、转发和重定向、异常处理、web.xml</b></div></div>
</div>
<hr>
<a name="1057"/>
<h1>03 搭建struts2开发环境</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b><font color="#1C3387">3、搭建struts2开发环境</font></b></div><div><font color="#E30000">&lt;1&gt;创建一个web工程，<b>修改项目编码为UTF-8。</b></font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">&lt;2&gt;导入Jar包。</font></div><div><font color="#E30000">支持文件上传的jar包 commons-fileupload-1.2.2.jar、commons-io-2.0.1.jar</font></div><div><font color="#E30000">日志包 commons-logging-1.1.x.jar</font></div><div><font color="#E30000">支持freemarker的jar包（UI语言） freemarker-2.3.18.jar</font></div><div><font color="#E30000">支持ognl表达式包 ognl-3.0.4.jar</font></div><div><font color="#E30000">struts2核心包 struts2-core-2.3.1.2.jar</font></div><div><font color="#E30000">webwork类库 xwork-core-2.3.1.2.jar</font></div><div><font color="#E30000"><br></font></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;3&gt;编写web.xml</span></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">web-app</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;2.4&quot;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">xmlns</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">xmlns:xsi</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">xsi:schemaLocation</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://java.sun.com/xml/ns/j2ee</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left" style="text-align: -webkit-left;"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">       </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts2</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-name</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">       </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-mapping</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">       </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts2</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-name</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">       </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">url-pattern</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/*</span></font>&lt;/<font face="Courier New" size="2"><span style="font-size: 10pt;">url-pattern</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">filter-mapping</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file-list</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file</span></font></font>&gt;<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font></font>&lt;/<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file-list</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">web-app</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left" style="text-align: -webkit-left;"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;4&gt;配置struts.xml</span></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font>&gt;</div><div align="left"><font color="#6A0081" face="Courier New" size="2"><br></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><div>    <font color="#328712"> <span style="font-family: 'Courier New'; font-size: 13px;">&lt;!-- package为包，name为包的名字，是惟一的，定义的包必须继承struts-default包，否则将会失去struts2提供的一切功能 --&gt;</span></font></div></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorld&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font>&gt;</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- action用来描述一个类，name为类的名称，与url相对应，class为类的全名 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorldAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.action.HelloWorldAction&quot;</span></font>&gt;</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- result为结果，name的内容和当前请求action方法的返回值对应，type属性可以不写，默认为dispatcher --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;index&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font>&lt;/<font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div></div></div><div><font color="#E30000">&lt;5&gt;创建cn.itheima.action.HelloWorldAction.java</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HelloWorldAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Action {</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String execute()</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Exception {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;index&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;6&gt;创建test.jsp</span></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font></font>&gt;<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'test.jsp' starting page</span></font></font>&lt;/<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#6A0081">      </font><font color="#328712">我的第一个struts2应用：helloWorld</font></span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">a</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">href</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">${pageContext.request.contextPath }</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/helloWorldAction.action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">测试</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">a</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">&lt;7&gt;配置dtd（如果是第一次使用struts的时候）</font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">dtd文件所在的位置为struts-2.3.1.2/src/main/resources/struts-2.3.dtd。</font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">注：struts.xml文件中的dtd文件版本必须与导入的dtd文件版本一致，否则无法生效。</font></div><br></div><div align="left"><font color="#328712"><b>记忆点：建项目、导jar包、web.xml、struts.xml（dtd）、action类，jsp</b></font></div></div>
</div>
<hr>
<a name="1915"/>
<h1>04 名称空间不为/的情况</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left"><div><b><font color="#1C3387">4、名称空间不为/的情况</font></b></div></div><div align="left"><font color="#E30000">Struts.xml</font></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorld&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorldAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.action.HelloWorldAction&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;index&quot;</span></font></font>&gt;<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font></font>&lt;/<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 名称空间与访问的url相对应，package可以继承自己创建的包 --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;hello&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/base&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorld&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">访问路径：</span><span style="text-align: -webkit-auto;"><font color="#E30000">http://localhost:8080/first_struts/base/helloWorldAction.action</font></span></div><div><img src="Struts2_files/Image [1].png" type="image/png" style="cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">总结：如果package上加上了不为/的名称空</span><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">间</span><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">，那么最后跳转到</span><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">jsp也必须放到与名称空间名字相对应的文件夹中。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">这时候有两种处理方式，第一种就是创建一个与名称空间对应的文件夹并且将jsp文件放进去。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">第二种就是修改访问jsp的路径为：</span><font color="#6A0081"><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">result</span></font> <font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">name</span></font> <font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;index&quot;</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&gt;</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">../index.jsp</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&lt;/</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">result</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div style="text-align: -webkit-auto;"><font color="#E30000"><br></font></div><div style="text-align: -webkit-auto;"><font color="#E30000">注：名称空间是package标签中的属性，在写名称空间的时候，一定要加上&quot;/&quot;。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000"><br></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">如果在一个url中有好几层命名空间：</span><span style="text-align: -webkit-auto;"><font color="#E30000">http://localhost:8080/first_struts/base/aaaa/bbbbb/helloWorldAction.action，</font></span><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">那么查找步骤为：</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">1、会去base/aaaa/bbbb下查找有没有相对应的helloWorldAction，如果找到，则执行。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">2、如果找不到，则会去base/aaaa下查找，如果找到，则执行。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">3、按照这样的查找方法，直到查找到根目录下，如果还没有找到，则报错，没有找到相应的action。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="text-align: -webkit-auto;"><font color="#328712"><b>记忆点：JSP、两种处理方式、多级名称空间</b></font></span></div><br></div></div></div>
</div>
<hr>
<a name="1655"/>
<h1>05 Struts2的配置文件</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left"><div align="left"><div><span style="text-align: -webkit-auto;"><b><font color="#1C3387">5、Struts2的配置文件</font></b></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">tomcat服务器启动的时候，会去classpath下加载三个配置文件：struts-default.xml,struts-plugin.xml,struts.xml。因为三个xml文件的dtd约束是一致的，所以后者内容可以覆盖前者。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div></div></div><div align="left"><font color="#E30000">注：</font></div><div align="left"><font color="#E30000">&lt;1&gt;在struts-default.xml中名为struts-default的包中定义了Struts2提供的结果集与拦截器。</font></div><div align="left"><font color="#E30000">&lt;2&gt;一个包中可以写多个action。</font></div><div align="left"><font color="#E30000">&lt;3&gt;在一个包中可以写结果集和拦截器。</font></div><div align="left"><font color="#E30000">&lt;4&gt;struts2提供的struts-plugin.xml文件的功能在于为扩展struts2功能提供插件接口。在struts2的src/plugins目录下就提供了很多的插件。</font></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#328712"><b>记忆点：三个配置文件</b></font></div></div>
</div>
<hr>
<a name="965"/>
<h1>06 ActionSupport</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;"><font color="#1C3387"><b>6、ActionSupport</b></font></span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">在写Action类的时候可以继承ActionSuport，它继承自Action接口，此接口中定义了很多常量，例如SUCCESS、ERROR等。并且ActionSupport类提供了validateable（验证）、TextProvider（国际化）等功能，所以在写action的时候最好继承ActionSupport。</span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">注：action标签中的class属性可以不写，因为action标签肯定在一个包中，该包继承了struts-default，在此包中，有一段配置： </span></div><div align="left" style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;">&lt;</span><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">default-class-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;com.opensymphony.xwork2.ActionSupport&quot;</span></font></font><span style="text-align: -webkit-auto;">/&gt;</span></div><div align="left" style="text-align: -webkit-left;"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">如果在action标签中没有class属性，则默认查找ActionSupport，并且执行execute方法，返回值为success。所以可以找到对应结果集，跳转到某个jsp页面中。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">例：Struts.xml</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;defaultAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;defaultAction&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;success&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font>&lt;/<font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><div><span style="text-align: -webkit-auto;"><font color="#328712"><b>记忆点：常量、验证、国际化、默认action</b></font></span></div></div></div></div>
</div>
<hr>
<a name="712"/>
<h1>07 在struts.xml文件中引入其他配置文件</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>7、在struts.xml文件中引入其他配置文件</b></font></div><div><span style="color: rgb(227, 0, 0);">cn.itheima.include.IncludeAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">IncludeAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">@Override</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">execute</span><span style="font-size: 10pt;">()</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Exception {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;include action&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts-include.xml </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;include&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;includeAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.include.IncludeAction&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;success&quot;</span></font></font>&gt;<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font></font>&lt;/<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts.xml </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 采用下面这种方式，可以在加载struts.xml文件的时候，struts-include.xml文件也能被加载进来 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">include</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">file</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn/itheima/include/struts-include.xml&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">include</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><br></div><div align="left"><div><span style="text-align: -webkit-auto;"><font color="#328712"><b>记忆点：&lt;include file/&gt;</b></font></span></div></div></div></div>
</div>
<hr>
<a name="723"/>
<h1>08 结果类型</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;"><font color="#1C3387"><b>8、结果类型</b></font></span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts2对response的类型进行了重构，从而实现了dispatcher、redirect、redirectAction等多种响应处理方式，action的默认结果类型是dispatcher。</span></div><div><font color="#E30000">当结果类型为dispatcher的时候，jsp页面可以从request域中获取action放在request域中的值。如果结果类型为redirect的时候，则获取不到。</font></div><div><font color="#E30000">cn.itheima.action.HelloWorldAction.java</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HelloWorldAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Action {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String execute()</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Exception {</span></font></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#6A0081">           </font><font color="#328712"><b> ServletActionContext.</b></font></span><font color="#328712"><b> <span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">().setAttribute(</span></b></font></font><font color="#328712"><b><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorld&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorld&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></b></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;index&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><br></font></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts.xml</span></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;hello&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/base&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorldAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.action.HelloWorldAction&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left" style="text-align: -webkit-left;"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">                  </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;index&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;redirect&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font>&lt;/<font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left" style="text-align: -webkit-left;"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">base/index.jsp </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font></font>&gt;<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'index.jsp' starting page</span></font></font>&lt;/<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#6A0081">     </font><font color="#328712"> ${helloWorld }</font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><br></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">结果类型为redirectAction的情况 </span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts.xml</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">       </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">include</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">file</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn/itheima/include/struts-include.xml&quot;</span></font></font>&gt;<font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">include</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;hello&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/base&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;helloWorldAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.action.HelloWorldAction&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">                  </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;index&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;redirectAction&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;actionName&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">includeAction</span></font>&lt;/<font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;namespace&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">/</span></font>&lt;/<font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;method&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">execute</span></font>&lt;/<font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;‘</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">’</span></font></font></div><div align="left" style="text-align: -webkit-auto;"><div><font color="#328712"><b>记忆点：结果集类型、request值、redirectAction</b></font></div></div></div></div></div>
</div>
<hr>
<a name="2202"/>
<h1>09 Struts2的优点：</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;"><b><font color="#1C3387">9、Struts2的优点：</font></b></span></div><div><font color="#E30000">&lt;1&gt;在web.xml中只需要配置一个过滤器就可以了。</font></div><div><font color="#E30000">&lt;3&gt;在配置文件中有了包的概念以及继承包的功能。</font></div><div><font color="#E30000">&lt;4&gt;对结果集做了一些封装：dispatcher、redirect、redirectAction。</font></div></div>
</div>
<hr>
<a name="2201"/>
<h1>10 struts2中的通配符映射</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>10、struts2中的通配符映射</b></font></div><div><font color="#E30000">&lt;1&gt;如果action配置的时候没有指定method，那么就会默认执行execute方法。如果指定了method，那么就会执行到指定的那个方法。但是这种方法不好，因为只能指定一个方法执行。</font></div><div><font color="#E30000">struts-pattern.xml</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pattern&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;patternAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.pattern.PatternAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pattern&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><br></font></div><div align="left"><font color="#328712">也可以不配置method属性，通过http://localhost:8080/first_struts/patternAction!pattern.action的方式访问某个方法。但是这种方式已经不建议使用。</font></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#E30000">&lt;2&gt;可以通过下面这种方式执行指定的action的pattern方法。或者不配置method属性，而是使用！的方式执行某个action中的pattern方法。</font></div><div align="left"><font color="#E30000">struts-pattern.xml</font></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pattern&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.pattern.PatternAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pattern&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;3&gt;通过下面这种方式，可以根据action的name属性决定应该执行哪个method。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts-pattern.xml</span></div></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pattern&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;Pattern_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.pattern.PatternAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><br></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;4&gt;通过下面这种方式，可以根据action的name属性下划线后面的内容决定应该执行哪个方法。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts-pattern.xml</span></div></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pattern&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;*_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.pattern.PatternAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{2}&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">可以通过struts2的通配符映射建立在项目开发中的约束。</span></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font></font><span style="text-align: -webkit-auto;">&gt;</span></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pattern&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.pattern.PatternAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">{1}.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">注：&lt;1&gt;通配符映射的范围是package。&lt;2&gt;除了bean，constant，include以外，其他内容都在包里。</span></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000"><br></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#328712"><b>记忆点：执行action中方法的三种方式。</b></font></div></div></div></div></div></div></div>
</div>
<hr>
<a name="1309"/>
<h1>11 Struts2的存数据方式-值栈</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>11、Struts2的存数据方式-值栈</b></font></div><div><span style="color: rgb(227, 0, 0);">struts2存放数据的方式是采用值栈，显示数据是使用ognl表达式。</span></div><div><span style="color: rgb(227, 0, 0);">①获取值栈的三种方式</span></div><div><span style="color: rgb(227, 0, 0);">注：&lt;1&gt;ValueStack是一个接口，在struts2中使用OGNL表达式实际上是使用实现了ValueStack接口的类OgnlValueStack。</span></div><div><span style="color: rgb(227, 0, 0);">&lt;2&gt;ValueStack贯穿整个action的生命周期。每一个action实例都拥有一个ValueStack对象。其中保存了当前action对象和其他相关对象。</span></div><div><span style="color: rgb(227, 0, 0);">&lt;3&gt;Struts2把ValueStack对象保存在名为struts.valueStack的request域中。</span></div><div><font color="#E30000"><br>
cn.itheima.valueStack.ValueStackAction.java</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ValueStackAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String valueStack()</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Exception {</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#6A0081"> </font><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">//获取值栈</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式一</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            ValueStack</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">valueStack1</span> <span style="font-size: 10pt;">= ActionContext.</span><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack();</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">valueStack1</span><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式二</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            ValueStack valueStack2 = ServletActionContext.</span><span style="font-size: 10pt;"><i>getValueStack</i></span><span style="font-size: 10pt;">(ServletActionContext.</span> <span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">());</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(valueStack2);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式三</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ValueStack valueStack3 = (ValueStack)ServletActionContext.</span><span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">().getAttribute(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts.valueStack&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(valueStack3);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0);">struts-valuestack.xml</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;valuestack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;valueStackAction_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.valuestack.ValueStackAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts.xml</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font><span style="text-align: -webkit-auto;">&gt;</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">include</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">file</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn/itheima/valuestack/struts-valuestack.xml&quot;</span></font>&gt;<font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">include</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div style="text-align: -webkit-auto;"><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">com.opensymphony.xwork2.ognl.OgnlValueStack@6030f9</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">com.opensymphony.xwork2.ognl.OgnlValueStack@6030f9</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">com.opensymphony.xwork2.ognl.OgnlValueStack@6030f9</span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div style="text-align: -webkit-auto;"><font color="#E30000">②下面两张图显示了值栈的结构：</font></div><div style="text-align: -webkit-auto;"><img src="Struts2_files/Image [2].png" type="image/png" height="421" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1309"/></div><div style="text-align: -webkit-auto;"><img src="Struts2_files/Image [3].png" type="image/png" height="468" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="958"/></div><div style="text-align: -webkit-auto;"><br></div><div style="text-align: -webkit-auto;"><div><span style="color: rgb(227, 0, 0);">注：</span><span style="color: rgb(227, 0, 0);">&lt;1&gt;把数据存放在ValueStack中的时候，应该使ValueStack中的root和Ognl中的_root保持数据的同步。</span></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">③将键值对数据放入域内</font></div><div><font color="#E30000">注：ServletActionContext就是struts2与servlet通信的接口，如果在action中的方法中准备两个参数：request、response，这样就会导致action与servlet容器相关了，这样不利于测试。action为了与servlet交互，并且还要与servlet容器松耦合，所以采用了ServletActionContext这种方式与servlet交互。</font></div><div><font color="#E30000">cn.itheima.valuestack.ValueStackAction.java</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ValueStackAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><br></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String putDataToScope(){</span></font></font></div><div align="left"><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            ValueStack valueStack1 = ActionContext.</span><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack();</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ServletActionContext.</span> <span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">().setAttribute(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;request&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;request&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ServletActionContext.</span> <span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">().getSession().setAttribute(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;session&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;session&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ServletActionContext.</span> <span style="font-size: 10pt;"><i>getServletContext</i></span><span style="font-size: 10pt;">().setAttribute(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;context&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;context&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//可以通过在下面设置断点，观察域中的数据</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(valueStack1);</span></font></font></div><div align="left"><font color="#41007D"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">④将键值对数据放入map栈中</span></div></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.valuestack.ValueStackAction.java</span></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ValueStackAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String putDataToMap(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式一</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            ValueStack valueStack = ActionContext.</span><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack();</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.getContext().put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式二</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ActionContext.</span><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//其实ActionContext中有一个属性是context，其实它就是Map类型</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [4].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">⑤把数据存入对象栈中</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.valuestack.ValueStackAction.java</span></div><div align="left"><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ValueStackAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String putDataToObjectStack(){</span></font></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#6A0081">           </font><font color="#328712"> ValueStack valueStack = ActionContext.</font></span><font color="#328712"><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//增：</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//由于CompoundRoot类继承了ArrayList，在List中，add方法就是将指定的元素添加到列表的尾部，所以下面的aaaa元素也是放在对象栈的底部</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.getRoot().add(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aaaa&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//通过下面这两种方式就可以将aaaa元素放在栈首</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式一</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.getRoot().add(0,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aaaa&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式二</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//其实push方法内部调用的就是add(0,*)</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.push(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cc&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">//通过下面这种方式可以将键值对数据放入对象栈中</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//在set方法中，首先判断对象栈首是不是map类型，如果不是则创建，并且压入栈顶，然后将数据放入map中</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.set(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;key&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;value&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#6A0081">           </font><font color="#328712"> </font></span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">//查</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//通过下面这两种方式就可以得到对象栈栈顶的元素</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式一</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.getRoot().get(0);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式二</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//其实peek方法调用的就是get(0)</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.peek();</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//删</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//通过下面这两种方式可以移除栈顶元素值</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式一</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.getRoot().remove(0);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//方式二</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            valueStack.</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">pop</span><span style="font-size: 10pt;">();</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(219, 235, 204); background-position: initial initial; background-repeat: initial initial;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(219, 235, 204); background-position: initial initial; background-repeat: initial initial;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(219, 235, 204); background-position: initial initial; background-repeat: initial initial;"><i>SUCCESS</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(219, 235, 204); background-position: initial initial; background-repeat: initial initial;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div></div></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div style="text-align: -webkit-auto;"><font color="#E30000">将数据放入对象栈尾的效果图：</font></div><div><img src="Struts2_files/Image [5].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">将键值对放入对象栈尾的效果图：</span></div><div><img src="Struts2_files/Image [6].png" type="image/png" height="227" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="638"/></div><div><br></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">⑥Struts2数据结构关系图：</span></div><div style="text-align: -webkit-auto;"><img src="Struts2_files/Image [7].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div style="text-align: -webkit-auto;"><br></div><br></div><div align="left"><font color="#328712"><b>记忆点：valuestack生命周期、三种获取方式、OgnlValueStack结构、ServletActionCotext的作用、放入map栈的两种方式、对象栈的几种操作</b></font></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="349"/>
<h1>12 Struts2的取数据方式-OGNL表达式</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">12、Struts2的取数据方式-OGNL表达式</b></div><div><span style="color: rgb(227, 0, 0);">①如果访问的是map栈，也就是OGNL上下文和action上下文，那么访问的时候应该加上#，#相当于ActionContext.getContext()。</span></div><div><span style="color: rgb(227, 0, 0);">名称        作用                                                  例子</span></div><div><span style="color: rgb(227, 0, 0);">paramters    包含当前Http请求的Map                                 #paramters.id[0]=request.getParameter(&quot;id&quot;)</span></div><div><span style="color: rgb(227, 0, 0);">request     包含当前HttpServletRequest属性的Map                   #request.username/</span><span style="color: rgb(227, 0, 0);">#request['username']</span><span style="color: rgb(227, 0, 0);">=request.getParamter(&quot;username&quot;);</span></div><div><span style="color: rgb(227, 0, 0);">session     包含当前HttpSession属性的Map</span>                          <span style="color: rgb(227, 0, 0);">#session.username/</span><span style="color: rgb(227, 0, 0);">#session</span><span style="color: rgb(227, 0, 0);">['</span><span style="color: rgb(227, 0, 0);">username'</span><span style="color: rgb(227, 0, 0);">]</span><span style="color: rgb(227, 0, 0);">=session.getParamter(&quot;username&quot;);</span></div><div><span style="color: rgb(227, 0, 0);">application 包含当前ServletContext属性的Map                       </span><span style="color: rgb(227, 0, 0);">#application.username/</span><span style="color: rgb(227, 0, 0);">#application</span><span style="color: rgb(227, 0, 0);">['</span><span style="color: rgb(227, 0, 0);">username'</span><span style="color: rgb(227, 0, 0);">]</span><span style="color: rgb(227, 0, 0);">=</span><span style="color: rgb(227, 0, 0);">application</span><span style="color: rgb(227, 0, 0);">.getParamter(&quot;username&quot;);</span></div><div><span style="color: rgb(227, 0, 0);">attr        用于按照request&gt;session&gt;application顺序访问其属性</span></div><div><font color="#E30000">cn.itheima.ognl.ognlAction.java </font></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String putDataToScope(){</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ServletActionContext.</span> <span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">().setAttribute(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;request1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;request1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ServletActionContext.</span> <span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">().getSession().setAttribute(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;session1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;session1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ServletActionContext.</span> <span style="font-size: 10pt;"><i>getServletContext</i></span><span style="font-size: 10pt;">().setAttribute(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;context1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;context1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//将一个普通的键值对数据放入map栈中</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts-ognl.xml </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;ognl&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;ognlAction_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.ognl.OgnlAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">testOgnl.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- s:property的作用就是输出value中的ognl表达式的结果 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      request域中的值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#request.request1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      session域中的值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#session.session1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      application域中的值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#application.context1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      map栈中的值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#map1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div></div></div><div><br></div><div><span style="color: rgb(227, 0, 0);">执行结果：</span></div><div><img src="Struts2_files/Image [8].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">②OGNL会设定一个对象(root对象)，在struts2中根对象就是CompoundRoot，或者为OgnlValueStack中的root，通常被叫做(ValueStack)值栈或者对象栈，如果要访问根对象的属性，则可以省略#，直接访问对象的属性即可。</font></div><div><font color="#E30000">cn.itheima.ognl.Person.java</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Long</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Long</span> <span style="font-size: 10pt;">getPid() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setPid(</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Long</span> <span style="font-size: 10pt;">pid) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= pid;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getPname() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setPname(String pname) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= pname;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">cn.itheima.ognl.OgnlAction.java </font></div><div align="left"><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String putDataToObjectStack(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          Person person =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">          person.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          person.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">getValueStack</span> <span style="font-size: 10pt;">().set(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().push(person);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div></div></div><div><font color="#E30000"><br></font></div><div><span style="color: rgb(227, 0, 0);">testOgnl.jsp </span></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 通过s:debug可以在页面上打印出值栈中的数据分布情况 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      栈顶的元素：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 如果想要使用s:property获取值，那么必须有get方法 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      pid的值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      pname的值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 把对象栈中key值为map1的value的值输出 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      获取对象栈的中map值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [9].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><img src="Struts2_files/Image [10].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">③</span><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">如果对象栈中存在属性，而属性名称相同的有好几个值，ognl表达式会从栈顶开始查找，直到找到第一个为止。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">例如：有三个同一个类或者不同类的不同对象压入对象栈中，并且他们拥有相同的属性，这时候只会取栈顶的拥有待访问属性的对象的属性值。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String putDataToObjectStack(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">          person1.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">          ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().push(person1);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">          person2.setPid(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">          ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().push(person2);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      栈顶的元素：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      pid的值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      pname的值：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div style="text-align: -webkit-auto;"><font color="#E30000">执行结果：</font></div><div style="text-align: -webkit-auto;"><img src="Struts2_files/Image [11].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div style="text-align: -webkit-auto;"><br></div><div style="text-align: -webkit-auto;"><div><span style="color: rgb(227, 0, 0);">如果想要访问指定的对象栈中的某个对象的某个属性值，可以采用Map的形式进行存储。 </span></div></div></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String putDataToObjectStack(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">          person1.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ActionContext.</span><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">set</span><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;person1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,person1);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">          person2.setPid(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            ActionContext.</span><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">set</span><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;person2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,person2);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [12].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">④还可以利用ognl表达式构造map，如#{'foo1':'bar1','foo2':'bar2'}，这种用法经常用在给radio，checkbox等标签赋值上。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:radio</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">list</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">#{'foo1':'bar1','foo2':'bar2'}</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;sex&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">label</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;性别&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:radio</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div></div><div align="left"><img src="Struts2_files/Image [13].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">String</span> <span style="font-size: 10pt;">showMap(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          Map&lt;</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">String</span><span style="font-size: 10pt;">,</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">String</span> <span style="font-size: 10pt;">&gt; map =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HashMap&lt;</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">String</span> <span style="font-size: 10pt;">,</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">String</span><span style="font-size: 10pt;">&gt;();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          map.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;male&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;男&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          map.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;female&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;女&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">          ServletActionContext.</span> <span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">().setAttribute(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, map);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:radio</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">list</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#request.map&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;sex&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">label</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;性别&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:radio</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [14].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">⑤“%”符号的用途是在标签的属性值被理解为字符串类型时，使用%{}从而让标签知道是Ognl表达式。</span></div><div style="text-align: -webkit-auto;"><font color="#E30000">cn.itheima.ognl.OgnlAction.java </font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">showValueInText</span><span style="font-size: 10pt;">(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aa&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aaa&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:textfield</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#aa&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;name&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:textfield</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [15].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">testOgnl.jsp</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:textfield</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;%{#aa}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;name&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:textfield</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [16].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">⑥$主要有两个用途：</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">   用于在国际化资源文件中引用Ognl表达式</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">   在struts2的配置文件中引用Ognl表达式（在配置文件中可以用%代替$）</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showValueInText(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;testOgnl&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;testOgnl.jsp&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts-ognl.xml</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;ognl&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;ognlAction_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.ognl.OgnlAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#6A0081">   </font><font color="#328712">               </font></span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">${#testOgnl}</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><br></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">注：&lt;1&gt;struts2的Ognl表达式提供了回显功能，前提是回显的属性值在对象栈中。<br>
testOgnl.jsp </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:textfield</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;testOgnl&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:textfield</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [17].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;2&gt;利用setValue方法可以改变对象栈中的属性值，当提交一个请求的时候，当前请求的action在对象栈中，所以action中的属性是直接暴露在对象栈中的，也就是说可以直接访问action中的属性，并且还可以改变action中属性的值。（注意：属性必须有set和get方法）</span></div><div style="text-align: -webkit-auto;"><div><span style="color: rgb(227, 0, 0);">cn.itheima.ognl.OgnlAction.java </span></div></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showValueInText(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">ActionContext</span><span style="font-size: 10pt;">.</span><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().set(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aa&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aaaa&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">ActionContext</span><span style="font-size: 10pt;">.</span><span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().setValue(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aa&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;bbbb&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:textfield</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;%{aa}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:textfield</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [18].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><br></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="1585"/>
<h1>13 UI标签</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">13、UI标签</b></div><div><span style="color: rgb(227, 0, 0);">&lt;1&gt;UI标签在html文件中表现为一个表单元素。</span></div><div><span style="color: rgb(227, 0, 0);">&lt;2&gt;使用struts2的UI标签的好处是可以进行表单的回显。</span></div><div><span style="color: rgb(227, 0, 0);">&lt;3&gt;标签的属性可以被赋值为一个静态的值，或者一个OGNL表达式。</span></div><div><font color="#E30000">&lt;4&gt;在struts.xml文件中可以使用constant的配置覆盖掉default.properties文件中的内容。</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">constant</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;struts.ui.theme&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;simple&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">constant</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">如果不加上面这句话，那么struts2会自动在页面上加一些table...为了避免这种情况的发生，所以上面的配置必须加。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkbox</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;mycheckbox&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;true&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">label</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aaa&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">fieldValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkbox</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkbox</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;mycheckbox&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;true&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">label</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;bbb&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">fieldValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;2&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkbox</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkbox</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;mycheckbox&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;true&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">label</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;ccc&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">fieldValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;3&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkbox</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果： </span></div></div><div align="left"><img src="Struts2_files/Image [19].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">   </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkboxlist</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">list</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{'篮球','足球','排球','羽毛球'}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;hobby&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">label</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;爱好&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{'篮球','足球'}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkboxlist</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><div><br><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><img src="Struts2_files/Image [20].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:select</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">list</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{'篮球','足球','排球','羽毛球'}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;hobby&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">label</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;爱好&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [21].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div style="text-align: -webkit-auto;"><div><span style="color: rgb(227, 0, 0);">cn.itheima.ognl.OgnlAction.java </span></div></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">showSelect</span><span style="font-size: 10pt;">(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         List&lt;Person&gt; personList =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ArrayList&lt;Person&gt;();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPid(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person1);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person2);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;personList&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, personList);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            list属性：数据的来源</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            listKey相当于option元素中的value属性的值</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            listValue相当于option元素中要显示的值</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            headerKey是最上面的option元素的value的值</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            headerValue是最上面的option元素的要显示的值</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">       --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:select</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">list</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#personList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">listKey</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">listValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">headerKey</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">headerValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;姓名&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;person&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div></div><div><img src="Struts2_files/Image [22].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><img src="Struts2_files/Image [23].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000"><br></font></div><div style="text-align: -webkit-auto;"><div><font color="#E30000">cn.itheima.ognl.OgnlAction.java </font></div></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showSelect(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         List&lt;Person&gt; personList =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ArrayList&lt;Person&gt;();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPid(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person1);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person2);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;personList&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, personList);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().push(person2);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            通过name的值进行回显，但是回显的值必须在对象栈中</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">       --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:select</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">list</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#personList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">listKey</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">listValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">headerKey</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">headerValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;姓名&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [24].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkboxlist</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">list</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#personList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">listKey</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">listValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:checkboxlist</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><br></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [25].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><br></div></div></div></div></div></div></div>
</div>
<hr>
<a name="274"/>
<h1>14 控制标签</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>14、控制标签</b></font></div><div><font color="#E30000">&lt;1&gt;Iterator标签</font></div><div><font color="#E30000">此标签用于对集合进行迭代。这里的集合包括：list、set和数组</font></div><div><font color="#E30000">属性：Value 可选属性，指定被迭代的集合。如果没有设置该属性，则使用对象栈顶的集合。</font></div><div><font color="#E30000">Var 可选属性，引用变量的名称。</font></div><div><font color="#E30000">Status 可选属性，该属性指定迭代时IteratorStatus实例。该实例包括如下的方法：</font></div><div><font color="#E30000">int getCount();int getIndex();boolean isEven();boolean isOdd();boolean isFirst();boolean isLast();</font></div><div><font color="#E30000">cn.itheima.ognl.OgnlAction.java </font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showSelect(){</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         List&lt;Person&gt; personList =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ArrayList&lt;Person&gt;();</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPid(1L);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPid(2L);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person1);</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person2);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;personList&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, personList);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  s:iterator标签是用于迭代的标签，value是要迭代的对象</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  当前正在迭代的元素在栈顶，当这个标签结束以后，栈顶关于该标签的数据就被清除了</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  所以如果在s:iterator内设置&lt;s:debug/&gt;，可以看到栈顶相关的数据。如果在s:iterator之后设置就看不到了。</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">             --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#personList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [26].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showSelect(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         List&lt;Person&gt; personList =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ArrayList&lt;Person&gt;();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPid(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person1);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person2);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().getValueStack().push(personList);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 如果value属性值不写，默认访问栈顶的元素 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712">   </font><font color="#6A0081">        </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [27].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showSelect(){</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         List&lt;Person&gt; personList =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ArrayList&lt;Person&gt;();</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPid(1L);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person2</span> <span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person2</span><span style="font-size: 10pt;">.setPid(2L);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person2</span><span style="font-size: 10pt;">.setPname(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(person1);</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person2</span><span style="font-size: 10pt;">);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;personList&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,personList);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><br></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- var就是给当前正在迭代的元素起了一个名字为pList，然后放到map栈中，并且在s:iterator结束之后，var仍然在map栈中，并不释放 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#personList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">var</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#pList.pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#pList.pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712">     </font><font color="#6A0081">      </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [28].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">count</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">even</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">odd</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#6A0081"> </font><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- status就是获取正在遍历的当前的元素的一些属性的对象，</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  它被放入到map栈中，key值就是s:iterator的status属性指定的值</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  count 遍历了多少数据了</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  index 正在遍历的索引值</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  even 是否为偶数</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  odd 是否为奇数</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">             --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#personList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">var</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">status</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;st&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#pList.pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#pList.pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.count&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.index&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.even&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.odd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div style="text-align: -webkit-auto;"><img src="Struts2_files/Image [29].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div style="text-align: -webkit-auto;"><br></div><div style="text-align: -webkit-auto;"><div><span style="color: rgb(227, 0, 0);">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">style</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text/css&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.odd</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">{</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">background-color</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">:</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">red</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.even</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">{</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">background-color</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">:</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">blue</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">style</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">count</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">even</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">odd</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#personList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">var</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">status</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;st&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.even?'even':'odd'&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#pList.pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#pList.pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.count&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.index&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.even&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#st.odd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712">      </font><font color="#6A0081">     </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [30].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showSelect(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Map&lt;String,Person&gt; map =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HashMap&lt;String,Person&gt;();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPid(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person3 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person3.setPid(3L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person3.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq3&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person4 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person4.setPid(4L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person4.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq4&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         map.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;p1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, person1);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         map.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;p2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, person2);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         map.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;p3&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, person3);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         map.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;p4&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, person4);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;map&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, map);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><br></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">key</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#6A0081"> </font><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 如果迭代的是一个map，当前正在迭代的元素是entry(key,value) --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#map&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;key&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;value.pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;value.pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712">         </font><font color="#6A0081">  </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [31].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java</span></div><div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showSelect(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person[] persons =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person[4];</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">setPid</span><span style="font-size: 10pt;">(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person2.</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">setPid</span><span style="font-size: 10pt;">(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person3 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person3.</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">setPid</span><span style="font-size: 10pt;">(3L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person3.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq3&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person4 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person4.</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">setPid</span><span style="font-size: 10pt;">(4L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person4.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq4&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         persons[0] = person1;</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         persons[1] = person2;</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         persons[2] = person3;</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         persons[3] = person4;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;persons&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, persons);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#persons&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">           </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [32].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java</span></div><div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showSelect(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         List&lt;Map&lt;String,</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">Person</span><span style="font-size: 10pt;">&gt;&gt; personList =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ArrayList&lt;Map&lt;String,</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span><span style="font-size: 10pt;">&gt;&gt;();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Map&lt;String,</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span><span style="font-size: 10pt;">&gt; personsMap =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HashMap&lt;String,</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span><span style="font-size: 10pt;">&gt;();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span> <span style="font-size: 10pt;">person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span> <span style="font-size: 10pt;">();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span> <span style="font-size: 10pt;">person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span> <span style="font-size: 10pt;">();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPid(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span> <span style="font-size: 10pt;">person3 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span> <span style="font-size: 10pt;">();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person3.setPid(3L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person3.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq3&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span> <span style="font-size: 10pt;">person4 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">Person</span> <span style="font-size: 10pt;">();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person4.setPid(4L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person4.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq4&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         personsMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;p1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, person1);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         personsMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;p2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, person2);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         personsMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;p3&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, person3);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         personsMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;p4&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, person4);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         personList.add(personsMap);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;personList&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, personList);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">key</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#personList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 由于上面的s:iterator对list进行遍历并且遍历出来的结果放入了对象栈的栈顶，所以下面的s:iterator不用写value，直接取就可以了 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;key&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;value.pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;value.pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [33].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;2&gt;if…else标签</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.ognl.OgnlAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">OgnlAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String showSelect(){</span></font></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#6A0081">        </font> <font color="#328712">Person[] persons =</font></span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person[4];</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person1 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPid(1L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person1.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq1&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person2 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPid(2L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person2.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq2&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person3</span> <span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person3</span><span style="font-size: 10pt;">.setPid(3L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person3</span><span style="font-size: 10pt;">.setPname(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq3&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         Person person4 =</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         person4.setPid(4L);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         person4.setPname(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;wq4&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         persons[0] = person1;</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         persons[1] = person2;</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         persons[2] =</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person3</span><span style="font-size: 10pt;">;</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">         persons[3] = person4;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">         ActionContext.</span> <span style="font-size: 10pt;"><i>getContext</i></span><span style="font-size: 10pt;">().put(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;persons&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">, persons);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">description</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#persons&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><div align="left"><font color="#328712"><span style="text-align: -webkit-auto;">     </span><span style="text-align: -webkit-auto;">     </span><span style="text-align: -webkit-auto;">     </span><span style="text-align: -webkit-auto;">     </span><span style="text-align: -webkit-auto;">     </span><span style="text-align: -webkit-auto;">     </span><span style="text-align: -webkit-auto;">     </span><span style="text-align: -webkit-auto;">  </span><span style="font-family: 'Courier New'; font-size: 10pt; text-align: -webkit-auto;">&lt;!-- 如果超级链接要加入一个参数</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                          如果是struts2.1，正确的写法是*?pid=%{pid}，错误的写法是*.action?pid=%{pid}</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                          如果是struts2.3，则都可以</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                     --&gt;</span></font></div></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&lt;</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">s:a</span></font> <font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">href</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;df.action?pid='%{pid}'&quot;</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&gt;</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">删除</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&lt;/</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">s:a</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==4&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    最后一位学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    中间的学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712">        </font><font color="#6A0081">   </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [34].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><img src="Struts2_files/Image [35].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">description</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#persons&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                              ${pid }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:a</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">href</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;df.action?pid='%{pid}'&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">删除</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:a</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==4&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    最后一位学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    中间的学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712"> </font> <font color="#6A0081">         </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><div><br><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [36].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">description</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#persons&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                              ${pid }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                          struts2标签内部不能嵌套EL表达式</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                     --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:a</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">href</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">df.action?pid=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">${pid}</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">删除</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:a</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==4&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    最后一位学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    中间的学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712">         </font><font color="#6A0081">  </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><div><br><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [37].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">description</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#persons&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                              ${pid }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                          普通HTML元素中嵌套EL表达式是可以的</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                     --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">a</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">href</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">df.action?pid=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">${pid}</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">删除</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">a</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==4&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    最后一位学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    中间的学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712">        </font><font color="#6A0081">   </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [38].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pid</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pname</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">description</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#persons&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                              ${pid }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pname&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                          普通HTML元素中不能嵌套ognl表达式</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                     --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                                    </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">a</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">href</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;df.action?pid=%{pid}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">删除</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">a</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:if</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pid==4&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    最后一位学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:elseif</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    中间的学生</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:else</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><font color="#328712"> </font> <font color="#6A0081">         </font></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:debug</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">table</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [39].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">总结：</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;1&gt;ognl表达式和EL表达式是可以嵌套使用的，限于标签外部。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;2&gt;在struts2标签中只能使用ognl表达式。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">&lt;3&gt;在html标签中，只能使用EL表达式。</span></div><br></div></div></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="950"/>
<h1>15 其他标签</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>15、其他标签</b></font></div><div><span style="color: rgb(227, 0, 0);">&lt;s:url/&gt;标签</span></div><div><span style="color: rgb(227, 0, 0);">testOgnl.jsp</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 如果url标签不写var属性，则url标签输出url的路径。如果写上var变量，则会在ognlContext中出现相应的key值：myurl。</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            所以在程序的最后一行引用了#myurl变量从而得到路径。 --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:url</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;df.action&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/ognl&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">var</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myurl&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--Param是传递的参数。</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  需要注意的是value=&quot;%{'zd'}&quot;，但是value=&quot;zd&quot;是不行的，这种写法会去栈顶查找zd，所以s:url标签就相当于声明一个url，然后在外部使用</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:param</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aaa&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;12&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:param</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:param</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;bbb&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;%{'bbbb'}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:param</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:url</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">a</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">href</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#myurl&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">test</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">a</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div><br></div><div><span style="color: rgb(227, 0, 0);">&lt;s:set/&gt;标签</span></div><div><span style="color: rgb(227, 0, 0);">var 变量的名字，name、id与var表达的含义是一样的，Var已经取代了name，id</span></div><div><span style="color: rgb(227, 0, 0);">Scope 指定变量被放置的范围，该属性可以接受application、session、request、page或Action。如果没有设置该属性，则默认会放在action中。</span></div><div><span style="color: rgb(227, 0, 0);">Value 赋值给变量的值。如果没有设置该属性，则将ValueStack栈顶的值赋给变量。</span></div><div><font color="#E30000">testOgnl.jsp</font></div><div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testOgnl.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:set</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">scope</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;request&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;%{'abc'}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">var</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;set&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:set</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;#request.set&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><br></div></div>
</div>
<hr>
<a name="1285"/>
<h1>16 拦截器</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;"><font color="#1C3387"><b>16、拦截器</b></font></span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">在项目中，如果一个方法中的内容太杂，例如：</span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">1、只要涉及到保存到数据库表中的内容就会用到servlet的request的方法，而这个逻辑不一样就是页面上的表单的数据不一样。</span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">2、文件上传的逻辑是一样的，但是文件不一样。</span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">3、开启日志，如果是servlet，每一个servlet都得开启日志。</span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">等等问题。</span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">总结：如果在一个servlet的方法中，上述的情况都遇到了，那么上述的需求的实现都必须写在servlet相应的方法。</span></div><div style="text-align: -webkit-left;"><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">像这种能够重复利用的功能，可以写在拦截器里。</span></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">拦截器就是一个类，只要该类实现了Interceptor接口，该类就是拦截器。</font></div><div><font color="#E30000">拦截器栈就是把很多个拦截器组织在一起，就成为栈了。</font></div><div><font color="#E30000"><br></font></div><div><span style="color: rgb(227, 0, 0);">InterceptorAction.java</span></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">InterceptorAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String test(){</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;action&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left" style="text-align: -webkit-left;"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left" style="text-align: -webkit-left;"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">MyInterceptor.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">MyInterceptor</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Interceptor {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">destroy() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;destroy&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">init() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;init&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String intercept(ActionInvocation invocation)</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Exception {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aaaa&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//如果不写invocation.invoke()这句代码，那么Action的代码就不会再执行了</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">invocation.invoke();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div><div><font color="#E30000">struts-interceptor.xml</font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;interceptor&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptors</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 声明拦截器 --&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myInterceptor&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.interceptor.MyInterceptor&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-stack</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- interceptor-ref既能引用拦截器，也能引用拦截器栈 --&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;defaultStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myInterceptor&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-stack</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptors</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  struts2容器在启动的时候，会加载两个部分</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  * struts2内部的拦截器</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  * 自定义的拦截器myInterceptor</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">             --&gt;</span></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">default-interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">default-interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;InterceptorAction_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.interceptor.InterceptorAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left" style="text-align: -webkit-left;"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [40].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">注：拦截器和action是完全松耦合的。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">可以通过拦截器的标签为拦截器传递属性值，前提是拦截器类提供了针对此属性的set方法。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">MyInterceptor.java </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">MyInterceptor</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Interceptor {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">aa</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getAa() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">aa</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setAa(String aa) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">aa</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= aa;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">destroy() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">println</span><span style="font-size: 10pt;">(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;destroy&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">init() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">println</span><span style="font-size: 10pt;">(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;init&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String intercept(ActionInvocation invocation)</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Exception {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">println</span><span style="font-size: 10pt;">(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">aa</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">invocation.invoke();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">struts-interceptor.xml </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;interceptor&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptors</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myInterceptor&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.interceptor.MyInterceptor&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;aa&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">aaaaa</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-stack</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;defaultStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myInterceptor&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-stack</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptors</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">default-interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">default-interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;interceptorAction_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.interceptor.InterceptorAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [41].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">注：如果有多个拦截器，那么它们的执行顺序是和它们的声明顺序相对应的。</span></div><div style="text-align: -webkit-auto;"><font color="#E30000">一个包如果继承了另一个包，那么也就继承了那个包里面所有的拦截器。</font></div></div></div></div></div>
</div>
<hr>
<a name="788"/>
<h1>17 属性驱动与模型驱动</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>17、属性驱动与模型驱动</b></font></div><div><span style="color: rgb(227, 0, 0);">InterceptorAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">InterceptorAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getUsername() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setUsername(String username) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= username;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      } 、                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getPassword() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setPassword(String password) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= password;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String test(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;username = &quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">+</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password = &quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">+</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">password</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0);">testInterceptor.jsp </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testInterceptor.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">form</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;interceptorAction_test.action&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;post&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      姓名：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;username&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      密码：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;submit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">form</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [42].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">属性驱动：</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">* 在action中设置属性，属性的名称和页面上表单的name属性的名称保持一致。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">* 在action中的属性，必须有set和get方法。</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">* 好处：这样设计可以保证action与servlet容器松耦合</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">负责属性驱动功能的拦截器ParameterInterceptor的内部实现功能为：</span></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;1&gt;获取页面中表单的值，并且封装成map。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;2&gt;取出map中的数据，并且通过valueStack.setValue的方式对值栈中的action的各个属性进行赋值。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000"><br></font></div><div style="text-align: -webkit-auto;"><font color="#E30000">Person.java</font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person {</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getUsername() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setUsername(String username) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= username;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getPassword() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setPassword(String password) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= password;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div><div style="text-align: -webkit-auto;"><font color="#E30000">InterceptorAction.java</font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">InterceptorAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ModelDriven&lt;Person&gt; {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person getPerson() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setPerson(Person person) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= person;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String test(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;username = &quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">+</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.getUsername());</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password = &quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">+</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.getPassword());</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Person getModel() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">person</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div><div style="text-align: -webkit-auto;"><font color="#E30000">执行结果：</font></div><div style="text-align: -webkit-auto;"><img src="Struts2_files/Image [43].png" type="image/png" style="cursor: default;cursor: default;"/></div><div style="text-align: -webkit-auto;"><font color="#E30000">模型驱动：如果在页面上的表单中，如果表单的内容很多并且使用属性驱动，这个时候就会在action中写很多属性和属性的set、get方法，这样写代码结构很不好。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">采用属性驱动的action必须实现ModelDriver，负责模型驱动功能的ModelDriverInterceptor会通过getModel方法得到javabean，并且放置在栈顶。javabean的属性就会曝光，然后利用ParameterInterceptor完成从页面到model的赋值。由此可以看出，拦截器的配置顺序是由他们功能的依赖顺序决定的，不能乱放。</font></div></div></div>
</div>
<hr>
<a name="1003"/>
<h1>18 struts2提供的其他的拦截器</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b><font color="#1C3387">18、struts2提供的其他的拦截器</font></b></div><div><font color="#E30000">MethodFilterInterceptor继承自AbstractInterceptor，它有一个includeMethods，表示对哪些方法进行拦截。</font></div><div><font color="#E30000">①TokenInterceptor</font></div><div><font color="#E30000">TokenAction.java</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">TokenAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String token() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;token&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><font color="#E30000">struts-token.xml</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;token&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">            </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptors</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-stack</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;tokenStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;defaultStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;token&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                                    includeMethods防止指定的方法重复提交，如果要写很多方法，用逗号隔开</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                               --&gt;</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                              </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;includeMethods&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">token</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">param</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                        </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptor-stack</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">interceptors</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">default-interceptor-ref</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;tokenStack&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">default-interceptor-ref</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;tokenAction_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.token.TokenAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- TokenInterceptor拦截器在处理不合理的重复提交后，会返回一个invalid.token，所以下面的结果集将跳转到错误页面 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;invalid.token&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">error.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><font color="#E30000">error.jsp</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'error.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:actionerror</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><font color="#E30000">testToken.jsp</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testInterceptor.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">form</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;tokenAction_token.action&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;post&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      姓名：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;username&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712">      <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">s:token</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:token</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      密码：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;submit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">form</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><font color="#E30000">执行结果：</font></div><div><img src="Struts2_files/Image [44].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0);">之所以会出现上面的提示，是因为TokenInterceptor内部，key为struts.message.invalid.token对应的value已经进行了默认设置了。可以通过国际化覆盖它。</span></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><span style="color: rgb(227, 0, 0);">struts.xml</span></div><div align="left"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">constant</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts.ui.theme&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;simple&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">constant</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 通过设置struts.custom.i18n.resources，设置国际化资源文件的存放位置 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">constant</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts.custom.i18n.resources&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">value</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.resource.token&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">constant</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">include</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">file</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn/itheima/token/struts-token.xml&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">include</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.resource.token.properties</span></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">struts.messages.invalid.token=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">\u4E0D\u5141\u8BB8\u91CD\u590D\u63D0\u4EA4\uFF01\uFF01\uFF01</span></font></font></div><div align="left"><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [45].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">总结：通过struts2的TokenInterceptor做防止表单重复提交的步骤为：</span></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;1&gt;在JSP页面中：在form表单中，有&lt;s:token&gt;&lt;/s:token&gt;</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;2&gt;在拦截器中引入token拦截器</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;3&gt;在结果集中，invalid.token是固定的写法。<br></font><div><span style="color: rgb(227, 0, 0);">&lt;4&gt;提示信息的页面error.jsp。使用&lt;s:actionerror/&gt;就可以报错了。</span></div></div><div style="text-align: -webkit-auto;"><div><span style="color: rgb(227, 0, 0);">&lt;5&gt;在struts2的配置文件中配置国际化资源文件。key值struts.messages.invalid.token是固定的。</span></div></div><div style="text-align: -webkit-auto;"><font color="#E30000"><br></font></div><div style="text-align: -webkit-auto;"><font color="#E30000">②validate</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">ActionSupport中提供了validate方法，可以在自己的action中覆盖此方法。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">ValidateAction.java</font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ValidateAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getUsername() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setUsername(String username) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= username;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getPassword() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setPassword(String password) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= password;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String testValidate() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//覆盖ActionSupport的validate方法的方式在客户端访问每个方法的情况下都会验证</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">validate(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.equals(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">)){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//addFieldError方法其实就是将表单字段名和错误信息存入到一个Map&lt;String,List&lt;string&gt;&gt;中</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.addFieldError(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;username&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;用户名不能为空!&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.equals(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">)){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.addFieldError(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;密码不能为空!&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>else</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.length() &lt; 6){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.addFieldError(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;密码长度不能小于6位!&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">//下面这种方式只对客户端访问testValidate方法的时候才会执行验证操作</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">validateTestValidate(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.equals(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">)){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.addFieldError(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;username&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;用户名不能为空!&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.equals(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">)){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.addFieldError(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;密码不能为空!&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>else</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.length() &lt; 6){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.addFieldError(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;密码长度不能小于6位!&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div><div style="text-align: -webkit-auto;"><font color="#E30000">struts-validate.xml</font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;validate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;validateAction_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.validate.ValidateAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">                  </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 一旦验证出错，那么就会返回一个input的字符串，下面的结果集负责处理这种情况 --&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;input&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">validate.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div style="text-align: -webkit-auto;"><font color="#E30000">validate.jsp</font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">taglib</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uri</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/struts-tags&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">prefix</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;s&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'testInterceptor.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">   </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">form</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;validateAction_testValidate.action&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;post&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      姓名：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;username&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      密码：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;password&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:fielderror</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:fielderror</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;submit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">form</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div></div></div></div><div style="text-align: -webkit-auto;"><font color="#E30000">执行结果：</font></div><div style="text-align: -webkit-auto;"><img src="Struts2_files/Image [46].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div style="text-align: -webkit-auto;"><div><span style="color: rgb(227, 0, 0);">总结：</span></div></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;1&gt;在页面中用&lt;s:fieldError/&gt;标签显示错误信息，但是该标签必须写在form中。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;2&gt;在action中写validate方法，在执行addFieldError方法的时候，第一个参数的名称应该与表单中的名称对应。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;3&gt;在配置文件中配置，如果报错了，当验证结束后返回input的情况。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;4&gt;第二步中也可以写validateXxx，Xxx为当前请求的action中的方法。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000"><br></font></div><div style="text-align: -webkit-auto;"><font color="#E30000">③利用Struts2提供的FileUploadInterceptor拦截器执行文件上传操作</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">upload.jsp</font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">page</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">HTML</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">My JSP 'upload.jsp' starting page</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">meta</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">form</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;uploadAction_upload.action&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">enctype</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;multipart/form-data&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;post&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            要上传的文件：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;file&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;upload&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">input</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;submit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">form</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div style="text-align: -webkit-auto;"><font color="#E30000"><br></font></div><div style="text-align: -webkit-auto;"><font color="#E30000">UploadAction.java</font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">@SuppressWarnings</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;serial&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">)</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">UploadAction</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ActionSupport {</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">File</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">upload</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uploadContentType</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uploadFileName</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">File getUpload() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">upload</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setUpload(File upload) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">upload</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= upload;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getUploadContentType() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uploadContentType</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setUploadContentType(String uploadContentType) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">uploadContentType</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= uploadContentType;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String getUploadFileName() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uploadFileName</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setUploadFileName(String uploadFileName) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">uploadFileName</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= uploadFileName;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">String upload()</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">Exception {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            String path = ServletActionContext.</span><span style="font-size: 10pt;"><i>getServletContext</i></span><span style="font-size: 10pt;">().getRealPath(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/upload&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            File</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">destFile</span> <span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">File(path,</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">uploadFileName</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            FileUtils.</span> <span style="font-size: 10pt;"><i>copyFile</i></span><span style="font-size: 10pt;">(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">upload</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">,</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">destFile</span> <span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div><div style="text-align: -webkit-auto;"><font color="#E30000">struts-upload.xml</font></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">xml</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;upload&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;uploadAction_*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.upload.UploadAction&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;input&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">error.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">执行结果：</span></div><div><img src="Struts2_files/Image [47].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">错误信息国际化配置：</span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><img src="Struts2_files/Image [48].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><img src="Struts2_files/Image [49].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0);">总结：使用struts2提供的FileUploadInterceptor做文件上传的步骤：</span></div><div><font color="#E30000">&lt;1&gt;在页面中：&lt;s:form enctype=&quot;multipart/form-data&quot;/&gt;multipart/form-data就是要把上传的文件变成二进制流。</font></div><div><font color="#E30000">&lt;2&gt;在UploadAction中，有个属性为File，该属性的名称和页面上相应的name属性名称要一致</font></div><div><font color="#E30000">&lt;3&gt;该File属性必须有get和set方法。</font></div><div><font color="#E30000">&lt;4&gt;把上传的文件传到指定的目录中。</font></div></div></div></div></div></div></div>
</div>
<hr>
<a name="1119"/>
<h1>19 类型转换</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>19、类型转换</b></font></div><div><font color="#E30000">案例一：</font></div><div><font color="#E30000">testConverter.jsp </font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@ </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">page </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">DOCTYPE </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">HTML </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">My JSP 'testConverter.jsp' starting page</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">form </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;converterAction_test.action&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;post&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            年龄：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">input </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;age&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            姓名：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">input </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;name&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            出生日期：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">input </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;birthday&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">input </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;submit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">form</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-left;"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left" style="text-align: -webkit-left;"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.converter.struts-converter.xml</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">xml </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">DOCTYPE </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">package </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;converter&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">action </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;converterAction_*&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.converter.ConverterAction&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.converter.ConverterAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ConverterAction </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> ActionSupport {</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">age</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">Date </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">birthday</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String getAge() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;">age</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setAge(String age) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">age</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= age;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String getName() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setName(String name) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= name;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">Date getBirthday() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;">birthday</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setBirthday(Date birthday) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">birthday</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= birthday;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String test(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> <b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">birthday</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.converter.DateConverter.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">DateConverter </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">StrutsTypeConverter</span> <span style="font-size: 10pt;">{</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">@Override</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">Object convertFromString(Map context, String[] values, Class toClass) {</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            String dateStr = values[2];</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            SimpleDateFormat sdf = </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">SimpleDateFormat(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;yyyyMMdd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>try</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">{</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">sdf.parse(dateStr);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            } </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>catch</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">(ParseException e) {</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">                  e.printStackTrace();</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>null</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">@Override</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String convertToString(Map context, Object o) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>null</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">src/xwork-conversion.properties</span></div><div align="left"><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">java.util.Date=</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">cn.itheima.converter.DateConverter</span></font></font></div></div><div align="left"><div style="text-align: -webkit-auto;"><br></div><div style="text-align: -webkit-auto;"><div><span style="color: rgb(227, 0, 0);">案例二：</span></div><div><span style="color: rgb(227, 0, 0);">cn.itheima.converter.User.java </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">User {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String getUsername() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><u>setUsername</u></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">(String username) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">username</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= username;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String getPassword() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setPassword(String password) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">password</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= password;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.converter.UserConverter.java </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">UserConverter </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> StrutsTypeConverter {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#6A0081"> </font><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">@Override</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">Object convertFromString(Map context, String[] values, Class toClass) {</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            String up = values[0];</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            String[] ss = up.split(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;,&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            User user = </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">User();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            user.setUsername(ss[0]);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            user.setPassword(ss[1]);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">user;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">@Override</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String convertToString(Map context, Object o) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">// </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>TODO</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> Auto-generated method stub</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>null</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.converter.ConverterAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ConverterAction </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">User </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">user</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">User getUser() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;">user</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setUser(User user) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">user</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= user;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String test2(){</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.println(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> <b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">user</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.getUsername() + </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;:&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">+ </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">user</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">.getPassword());</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">src/xwork-conversion.properties</span></div><div align="left"><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">cn.itheima.converter.User=</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">cn.itheima.converter.UserConverter</span></font></font></div></div></div><div align="left"><div><br></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">案例三：</span></div><div style="text-align: -webkit-auto;"><div align="left"><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">testConverter.jsp</span></div></div></div></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@ </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">page </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">DOCTYPE </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">HTML </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">My JSP 'testConverter.jsp' starting page</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">title</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">form </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">action</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;converterAction_test3.action&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;post&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            用户名和密码：</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">input </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;users&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">br</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">input </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;submit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">form</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div></div></div></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.converter.ListConverter.java </span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ListConverter </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> StrutsTypeConverter {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;">@</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><u>Override</u></span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">Object convertFromString(Map context, String[] values, Class toClass) {</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            String up = values[0];</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            String[] ss = up.split(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;,&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            User user = </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">User();</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            List&lt;User&gt; </span><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">users</span><span style="font-size: 10pt;"> = </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> ArrayList&lt;User&gt;();</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            user.setUsername(ss[0]);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            user.setPassword(ss[1]);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            </span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">users</span><span style="font-size: 10pt;">.add(user);</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">users</span><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">@Override</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String convertToString(Map context, Object o) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>null</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.converter.ConverterAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ConverterAction </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(106, 0, 129);"><span style="font-size: 10pt;">      </span></font><font color="#328712"> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>private</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">List&lt;User&gt; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">users</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">List&lt;User&gt; getUsers() {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;">users</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">setUsers(List&lt;User&gt; users) {</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">users</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">= users;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String test3(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>for</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">(User </span><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">user</span><span style="font-size: 10pt;"> : </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">users</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  System.</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.println(</span><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">user</span><span style="font-size: 10pt;">.getUsername() + </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;:&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">+ </span><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">user</span><span style="font-size: 10pt;">.getPassword());</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            }</span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>SUCCESS</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div></div></div></div><div style="text-align: -webkit-auto;"><div align="left"><font color="#008080" face="Courier New" size="2"><br></font></div></div></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">总结：如果不做类型转化，action中的属性只能接受表单中一般数据（基本类型的数据）。但是如果有日期类型。例如，页面上有数据，在后台要用list来接受，这种情况struts2默认就不支持的。这个时候需要类型转化。</span></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;1&gt;在src目录下有一个配置文件xwork-conversion.properties</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">其中key值代表转化后的类型，该类型在action中的属性中出现。value代表一个类，该类实现了转化的逻辑。</font></div><div style="text-align: -webkit-auto;"><font color="#E30000">&lt;2&gt;写转化类，</font><span style="color: rgb(227, 0, 0);">这个转化类必须继承StrutsTypeConverter。</span></div></div></div></div></div></div>
</div>
<hr>
<a name="697"/>
<h1>20 自定义结果集</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>20、自定义结果集</b></font></div><div><span style="color: rgb(227, 0, 0);">结果集包括两种，一种是刷新类型的结果集，一种是无刷新类型的结果集。刷新类型的结果集在struts2的配置文件中配置result中间的内容，无刷新的结果集则不需要配置。</span></div><div><span style="color: rgb(227, 0, 0);"><img src="Struts2_files/Image [50].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></span></div><div><span style="color: rgb(227, 0, 0);">Struts2中有一个</span><span style="color: rgb(227, 0, 0);">接口，叫做Result。StrutsResultSupport实现了Result接口。</span></div><div><span style="color: rgb(227, 0, 0);">由上图可以看到StrutsResultSupport实现了Result，并且通过模板设计模式，调用了一个交给子类来实现的方法doExecute，并且将获得的标签中间的内容作为参数传递进去。</span></div><div><span style="color: rgb(227, 0, 0);">ServletDispatcherResult类继承了StrutsResultSupport，直接进行了转发操作，因此它就就成了一个转发类型的结果集。所以，我们可以自己写一个结果集，这个结果集如果是无刷新类型的结果集，可以实现Result，也可以继承StrutsResultSupport（获得了标签体内容，但是并不做任何操作）。这个结果集如果是刷新类型的结果集，可以继承StrutsResultSupport，并且利用获得的标签体做自己想要做的操作。</span></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><span style="color: rgb(227, 0, 0);">MyResult.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">MyResult </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> StrutsResultSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">@Override</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>protected</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">doExecute(String finalLocation, ActionInvocation invocation)</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">Exception {</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            HttpServletRequest request = ServletActionContext.</span><span style="font-size: 10pt;"><i>getRequest</i></span><span style="font-size: 10pt;">();</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            HttpServletResponse response = ServletActionContext.</span><span style="font-size: 10pt;"><i>getResponse</i></span><span style="font-size: 10pt;">();</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            RequestDispatcher dispatcher = request.getRequestDispatcher(finalLocation);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">            dispatcher.forward(request, response);</span></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><span style="color: rgb(227, 0, 0);">ResultAction.java</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ResultAction </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> ActionSupport {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(212, 212, 212);">String</span><span style="font-size: 10pt;"> test(){</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212);"><b>return</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">&quot;testmyresult&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212);">;</span></font></font></div><div align="left"><font color="#328712" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><font color="#E30000">struts-result.xml</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">xml </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">DOCTYPE </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">struts </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">package </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;result&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">namespace</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;/&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">extends</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;struts-default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result-types</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result-type </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myresult&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.result.MyResult&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result-type</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result-types</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">action </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;ResultAction_*&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.result.ResultAction&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myresult&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;testmyresult&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><font color="#E30000">index.jsp</font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;%@ </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">page </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">language</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">import</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;java.util.*&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">pageEncoding</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">%&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">DOCTYPE </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">HTML </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">PUBLIC </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;pragma&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cache-control&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;no-cache&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">meta </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;expires&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">content</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">   </span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">head</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size: 10pt;">      欢迎光临！</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">body</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">html</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div><br></div><div><span style="color: rgb(227, 0, 0);">总结：</span></div><div><span style="color: rgb(227, 0, 0);">写自定义结果集的步骤：</span></div><div><font color="#E30000">&lt;1&gt;写一个类，该类有两种实现方式：1、实现Result接口 2、继承StrutsResultSupport</font></div><div><font color="#E30000">&lt;2&gt;配置文件中：</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result-types</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result-type </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myresult&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.result.MyResult&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result-type</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result-types</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><font color="#E30000">&lt;3&gt;使用自定义结果集：</font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">action </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;ResultAction_*&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;cn.itheima.result.ResultAction&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">method</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;{1}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">result </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">type</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;myresult&quot; </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;testmyresult&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">result</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"> <span style="font-size: 10pt;">action</span></font><font face="Courier New" size="2" style="text-align: -webkit-auto;"><span style="font-size: 10pt;">&gt;</span></font></font></div></div>
</div>
<hr>
<a name="715"/>
<h1>999 Struts2基础知识</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 15px;"><font color="#E30000">1、(重点)Struts2的优点<b>：</b></font></div><div style="font-size: 15px;"><font color="#E30000">&lt;1&gt;Struts2属于无侵入式设计，Struts1却属于侵入式设计。因为，Struts1的应用依赖于Servlet API和Struts API，而Struts2却不依赖它们。</font></div><div style="font-size: 15px;"><font color="#E30000">注：Struts1中的Action的execute方法有四个参数：ActionMapping、ActionForm、HttpServletRequest、HttpServletResponse，这就决定了Struts1的应用依赖于Servlet API和Struts API，而Struts2的Action的方法中却无需任何参数。</font></div><div style="font-size: 15px;"><font color="#E30000">&lt;2&gt;Struts2提供了拦截器，利用拦截器可以进行AOP编程，例如实现如权限拦截等功能。</font></div><div style="font-size: 15px;"><font color="#E30000">&lt;3&gt;Struts2提供了类型转换器，我们可以把特殊的请求参数转换成需要的类型，在Struts1中，如果要实现同样的功能，就必须向Struts1的底层实现BeanUtils注册类型转换器才行。</font></div><div><font color="#E30000">&lt;4&gt;Struts2提供支持多种表现层技术，如：JSP、freemarker、Velocity等。</font></div><div><font color="#E30000">&lt;5&gt;Struts2的输入校验可以对指定方法进行校验，解决了Struts1长久之痛。</font></div><div><font color="#E30000">&lt;6&gt;提供了全局范围、包范围和Action范围的国际化资源文件管理的实现。</font></div><div><font color="#E30000"><br></font></div><font color="#E30000" style="font-size: 15px;">小知识：Struts2是在WebWork2基础上发展而来的，它也属于MVC。</font><div><font color="#E30000"><br></font></div><div><font color="#E30000">2、搭建Struts2开发环境三部曲：</font></div><div><font color="#E30000">&lt;1&gt;找到开发Struts2应用需要使用到的jar文件。</font></div><div><font color="#E30000">&lt;2&gt;编写Struts2的配置文件。</font></div><div><font color="#E30000">&lt;3&gt;在web.xml中加入Struts2 MVC框架启动配置。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000"><br></font></div></div>
</div></body></html> 