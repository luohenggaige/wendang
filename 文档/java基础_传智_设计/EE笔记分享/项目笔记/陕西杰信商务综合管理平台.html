<html>
<head>
  <title>Evernote Export</title>
  <basefont face="楷体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: 楷体;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="242"/>
<h1>01 陈子枢老师程序员工作经验谈</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b><font color="#1C3387">1、怎样顺利找到工作，并稳稳当当坐下来呢?</font></b><div><font color="#E30000">①如何通过面试？</font></div><div><font color="#E30000">答：态度要积极，要听话、积极并且有热情。</font></div><div><font color="#E30000">    </font><span style="color: rgb(227, 0, 0);">表达能力要良好，能够流利介绍个人情况，例如工作情况，为何离职等。</span></div><div><font color="#E30000">   </font> <font color="#E30000">专业基础要扎实，包括理论知识、J2EE基础知识并且能够熟练使用开发工具。</font></div><div><font color="#E30000">    </font><span style="color: rgb(227, 0, 0);">项目能力要展示出来，需要介绍项目背景，介绍核心业务模块及设计上的难点（特色、亮点）并且表述在项目中的工作职责及成就。</span></div><div><font color="#E30000">②如何通过试用期？</font></div><div><font color="#E30000">答：注重团队协作，要跟团队领导和同事打成一片。</font></div><div><font color="#E30000">    快速适应岗位要求，要动手能力强，快速、高质量完成领导交给的任务，熟悉业务、编写文档，并且能够培训客户。</font></div><div><font color="#E30000">③如何升职加薪？</font></div><div><font color="#E30000">答：要能够独当一面，业务要精通，能够独立完成项目，技术难点要能够攻克或者能够当小组长带新人。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>2、架构重要吗？</b></font></div><div><font color="#E30000">企业经过长年积累，都有资深的程序人员，都有成型的开发框架，这些框架基本在主流框架上做封装，我们开发人员第一要务就是在这些框架上来实现用户需求。所以，在学习框架的时候要学习其中的思想，从而能够举一反三，不要拘泥于任何具体的框架。</font></div><div><font color="#1C3387"><br></font></div><div><b><font color="#1C3387">3、编码是程序员的所有工作吗？</font></b></div><div><font color="#E30000">初级程序员要求：业务（30%）、编码（25%）、沟通（20%）、设计（10%）、文档（10%）。</font></div><div><font color="#E30000">所谓的项目经验=业务+设计思路，</font><span style="color: rgb(227, 0, 0);">所以程序员要认识到编码只是工作的一部分，要多熟悉业务，要注重设计并且加强沟通，提升自己写文档的能力。</span></div></div>
</div>
<hr>
<a name="258"/>
<h1>02 学习项目预热阶段</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、如何学习此项目？</b></font><div><font color="#E30000">①通过此项目，熟悉项目开发流程。</font></div><div><font color="#E30000">成立项目组、分工合作、需求调研、设计、编码、交付客户、上线运行、维护。<br></font></div><div><font color="#E30000">②通过此项目，熟悉业务需求。</font></div><div><font color="#E30000">加深对物流行业、出口贸易、货运管理的业务理解。</font></div><div><font color="#E30000">③通过此项目，拓展设计思路。</font></div><div><font color="#E30000">考虑如何将用户的需求转化为数据库表和代码实现？<br>
考虑如何优化设计，以最小的代价得到最高的运行和开发效率，同时业务逻辑清晰简洁。</font></div><div><font color="#E30000">综上：学习本项目，要主攻业务以及设计思路，而不是编码。</font></div><div><br></div><div><font color="#1C3387"><b>2、分组开发此项目（如下图）</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image.png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>3、项目的开发架构（减少关注点）</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [1].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [2].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>4、项目开发环境</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [3].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>5、课程安排（模拟软件企业开发环境，分组开发）</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [4].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>6、项目要求</b></font></div><div><font color="#E30000">要把握三图：用例图、结构图、模型图</font></div><div><font color="#E30000">要把握三句：背景、业务、亮点</font></div><div><font color="#E30000">要把握三块：合同、打印、报表</font></div></div>
</div>
<hr>
<a name="276"/>
<h1>03 熟悉项目背景和项目需求</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、项目背景</b></font><div><font color="#E30000">①杰信商贸是物流行业一家专门从事进出口玻璃器皿贸易的公司。公司总部位于十一个朝代的帝王之都西安，业务遍及欧美。随着公司不断发展壮大，旧的信息系统已无法满足公司的快速发展需求，妨碍公司成长，在此背景下，公司领导决定研发《杰信商贸综合管理平台》。</font></div><div><font color="#E30000">②《杰信商贸综合管理平台》分三期完成。一期完成仓储管理（包括：采购单、仓库、货物、条形码、入库、出库、退货、盘点、库存、库存上限报警、统计查询）和展会管理（包括：展会管理、出单管理），形成货物统一数字化管理。二期完成货运全流程管理，包括购销合同、出货表统计、出口报运、HOME装箱单、装箱单、委托单、发票、财务统计等。三期完成决策分析（包括：成本分析图、销售情况统计、重点客户、经营情况同期比对统计、工作绩效），为公司经营决策提供数据支持。</font></div><div><font color="#328712"><b>附：</b></font><font color="#E30000">HOME装箱单是给客户看的单子，相当于预装箱单。</font></div><div><span style="color: rgb(227, 0, 0);">③</span><font color="#E30000">系统上线后，解决了客户的实际问题，促进了公司的发展，得到公司认可和赞誉。  </font></div><div><span style="color: rgb(227, 0, 0);">【仓储子系统】：实现仓储的信息化管理，公司管理层随时了解进货、出货、损耗及库存情况，为公司精细化管理，0库存的经营目标奠定了扎实的基础。</span></div><font color="#E30000">【展会子系统】：在展会上快速打印出客户关心的产品，为客户节约了宝贵的时间，赢得客户的认可，促进了销售人员现场签单的几率。当其它公司还在手工画图，我们已经将精美的文件递到了客户手中。<br>
【货运子系统】：使业务流程更加顺畅，信息传递更加迅速，提高了办理效率，提高了分散全球各地部门协作能力。充分利用计算机的快速计算，将客户从日常琐事解放出来，可以将更多精力投入到公司经营上。用户相当满意，给予很高评价。</font><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>2、项目需求</b></font></div><div><font color="#E30000">①用例图</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [5].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><img src="陕西杰信商务综合管理平台_files/Image [6].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">②系统功能结构图</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [7].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div></div>
</div>
<hr>
<a name="286"/>
<h1>04 了解系统特色（面试重点）</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、系统升级改造，由struts1.1升级为struts2.3(整合)</b></font><div><div><font color="#E30000">按领导要求，对本项目进行升级改造。将struts1升级为struts2，工作量巨大，3个人修改了半个月，并经过大量测试。struts1和struts2不能完全共存，不能简单的映射.do到上struts2。Action层几乎颠覆性的进行改造。由于jsp中未使用struts1的标签，这部分不需要大改。经过改造，减少了大量的struts-config-模块.xml配置文件，减少了大量的action，action内方法调用更加简洁。但由于本系统访问人数在百人内，也没有集中的业务访问，因此性能提升不明显。</font></div><div><font color="#E30000"><br></font></div><font color="#1C3387"><b>2、流程控制，合同、报运、装箱、委托、发票、财务</b></font></div><div><font color="#E30000"><font style="text-indent: 8mm;">简洁的流程控制设计，实现流程的流转，同时可以实现流程的退回。例如：报运模块。录入时状态为</font><font style="text-indent: 8mm;">“</font><font style="text-indent: 8mm;">草稿</font><font style="text-indent: 8mm;">”</font><font style="text-indent: 8mm;">，此时下一个流程</font><font style="text-indent: 8mm;">“</font><font style="text-indent: 8mm;">装箱</font><font style="text-indent: 8mm;">”</font><font style="text-indent: 8mm;">将无法看到新录入的信息，当录入者确定录入的报运信息无误时，点击</font><font style="text-indent: 8mm;">“</font><font style="text-indent: 8mm;">保存</font><font style="text-indent: 8mm;">”</font><font style="text-indent: 8mm;">，状态变为</font><font style="text-indent: 8mm;">“</font><font style="text-indent: 8mm;">已上报</font><font style="text-indent: 8mm;">”</font><font style="text-indent: 8mm;">，此时负责装箱单处理的专责才可以看到其信息。其选择多个报运，进行【装箱】。保存后状态变为</font><font style="text-indent: 8mm;">“</font><font style="text-indent: 8mm;">装箱</font><font style="text-indent: 8mm;">”</font><font style="text-indent: 8mm;">，委托专责才可以看到装箱信息，进行【委托】，保存后状态变为</font><font style="text-indent: 8mm;">“</font><font style="text-indent: 8mm;">委托</font><font style="text-indent: 8mm;">“</font><font style="text-indent: 8mm;">，发票专责才可以看到装箱和委托信息，进行【发票】，保存后状态变为</font><font style="text-indent: 8mm;">”</font><font style="text-indent: 8mm;">发票，财务专责才可以看到装箱、委托和发票信息，进行【财务】，保存后状态变为</font><font style="text-indent: 8mm;">“</font><font style="text-indent: 8mm;">财务</font><font style="text-indent: 8mm;">”</font><font style="text-indent: 8mm;">。此时合同管理员才可以进行归档，进行【归档】，流程完成，信息变为历史信息，只能在历史信息中进行检索。这样减少当前信息检索的数据，加快信息的查询和显示。</font></font></div><div><font color="#010101" style="text-indent: 8mm;"><br></font></div><div><font color="#1C3387"><b>3、信息复制，合同、货物、附件信息快速复制</b></font></div><div><p style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:3.52mm;"><font color="#E30000">系统实现信息快速复制功能，充分方便使用者。例如：通常建立购销合同后，合同中会包含数十个货物，每个货物有多个附件。这样一个购销合同包括合同下的货物和附件的信息近百项。有时客户在录入新合同时，信息会基本和某个旧合同非常近似。如果手工录入，录入量非常繁重，同时很低效。而系统实现点击【复制】功能，自动复制合同的信息，合同下货物信息，对应货物下的附件信息。原来数10分钟完成的事情，半秒中就完成。用户只需在复制的合同上修改相应信息，使用起来方便许多。系统上线后，此功能深受客户欢迎。</font></p><font color="#1C3387"><b>4、模板打印，基于excel模板的打印，poi的全面应用</b></font></div><div><div><p style="margin-bottom:0pt; margin-top:0pt;"><font color="#E30000">实现用户复杂业务单据的打印，利用第三方工具<font>poi</font><font>实现数据输出到</font><font>excel</font><font>中，并在线下载打印。包括按用户模板打印，包括数据的自动计算。例如购销合同的分页打印，报运单自动计算分工作簿打印，出货月统计表的页眉自动设置，财务报表的自动小计、合计功能，同时系统还实现了根据单元格内容，自动调整其单元格高度。由于使用</font><font>excel</font><font>，用户无需安装第三方打印插件。同时系统支持</font><font>excel2003</font><font>、</font><font>excel2007</font><font>、</font><font>excel2010</font><font>多个版本。同时，无需花钱购买第三方报表工具，为客户节约了系统资金上的投入。系统上线后，打印出彩色单据，非常漂亮，在展会上给国外客户看，老外很新奇，吸引不少订单。并且数据统计分毫不差，用户非常满意。</font></font></p></div><div><br></div><font color="#1C3387"><b>5、防止文件打印并发，基于windows文件处</b></font><b style="color: rgb(28, 51, 135);">理机制</b></div><div><font color="#E30000">系统为多部门人员互联网上使用，难免出现并发情况，在架构设计上，充分考虑到这种情况。例如当两个用户打印同一个购销合同时，系统会判断是否临时目录中是否有打印文件存在，有则换名称，再次判断，直到不存在时，才会执行打印。这样充分防止多用户并发访问下的打印。同时，为防止临时目录下文件过多，难以维护，自动按打印时的日期分成多个目录。</font></div><div><font color="#010101"><br></font></div><div><font color="#1C3387"><b>6、统一查询，清空机制</b></font></div><div><div><font color="#E30000">实现字符串字段简单配置即可实现灵活组合的类似google搜索条的模糊多条件查询效果。同时在页面中实现统一的查询条。利用js对查询条数据快速清空，由于利用js，进行本地操作，快速，不耗费服务器资源。此功能大大提高了查询功能开发的效率，复制代码，简单配置即可。</font></div><div><font color="#010101"><br></font></div><font color="#1C3387"><b>7、统一数据字典，一张表，树形n级分类支持【难点】</b></font></div><div><div><font color="#E30000">传统数据字典设计为两张表，一个分类、一个内容。维护时也不方便。两张表分别维护。本系统采用一张表设计，使数据字典维护非常便捷。同时支持n级树形结构，支持内容的排序。同时树支持截断树，这样方便权限控制。</font></div><div><br></div><font color="#1C3387"><b>8、用户个性化配置，用户根据自己的需要可以动态定制自己的信息</b></font><div><font color="#E30000">用户录入数据时，很多内容都相同，特别很多大段的文字内容，数百字，如果每次都录入，既耗时，也耗力。系统支持用户将常录入的信息可以用户自行配置，这样在新建页面时，系统自动填充这些内容，用户只需修改。减少了用户的录入。同时当信息发生变化时，用户只需自行修改，就适应了新的变化。不仅加快了信息录入的速度和录入的准确率，减少了错误，还有很好的适应性，快速适应用户需求的变化。而且根据每个操作用户的不同，他们都可以自行配置。</font></div></div><div><font color="#010101"><br></font></div><div><font color="#1C3387"><b>9、数据挖掘，业务增值，挖掘基础数据的价值，为高层提高决策数据</b></font></div><div><font color="#E30000"><span style="text-indent: 21pt;">充分利用用户的基础数据，深挖用户潜在需求和充分发挥数据的价值。例如合同数据。合同中有客户信息，有货物信息，有附件信息，有货物的生产厂家信息。从合同的签订日期，我们实现公司一年签单气泡图，从中直观的看到企业签单旺季和淡季。从货物信息，我们实现按月、季度、年度统计公司最受欢迎产品和最不受欢迎的产品，同时进行近</span><font style="text-indent: 21pt;">3</font><font style="text-indent: 21pt;">年产品受欢迎趋势图。从货物销售的客户中分析全球货物销售比例饼图。从生产厂家分析出公司合作的厂家生产比例图。这些数据的深度分析结果为公司的经营提供了直接的一手的决策信息支持。此功能客户公司高层给予高度肯定。</font></font></div></div>
</div>
<hr>
<a name="288"/>
<h1>05 系统搭建（非Maven搭建）</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、新建web project，发布到ROOT下（项目为UTF-8编码）</b></font><div><img src="陕西杰信商务综合管理平台_files/Image [8].png" type="image/png" height="408" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="507"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [9].png" type="image/png" height="264" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="624"/></div><div><br></div><div><font color="#E30000">修改JSP编码为UTF-8。</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [10].png" type="image/png" height="277" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="625"/></div><div><br></div><div><font color="#1C3387"><b>2、引入jar包</b></font></div><div><div><span style="color: rgb(227, 0, 0);">①拷贝{资料/4-jar包/ALL所有包}下内容到工程的lib目录中，所有jar包包含：</span></div><font color="#E30000">Hibernate 3.5.6<br>
Spring 3.0.2<br>
Struts 2.3<br>
数据库驱动 mysql 5.0.87<br>
基础包   junit，poi，log4j，c3p0</font></div><div><font color="#E30000">②配置jre环境，选择jdk1.6，选择用1.6编译</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [11].png" type="image/png" height="245" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="702"/></div><div><br></div><div><font color="#1C3387"><b>3、拷贝工具类、拷贝界面原型</b></font></div><div><font color="#E30000">拷贝{代码/02-工具类/cn}下内容到工程的src下</font><br><font color="#E30000">拷贝{资料/3-界面原型/ROOT}下内容到工程的WebRoot下</font><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [12].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#328712">附：目录结构</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [13].png" type="image/png" height="266" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="669"/></div><div><font color="#1C3387"><b>4、配置文件 hibernate.cfg.xml ，beans.xml ，struts.xml ，web.xml</b></font></div><div><div><span style="color: rgb(227, 0, 0);">查看{</span><span style="color: rgb(227, 0, 0);">资料/4-查看配置文件</span><span style="color: rgb(227, 0, 0);">}中的文件，拷贝这些文件然后进行修改。</span></div><div><font color="#328712"><b>注：</b></font></div><div><span style="color: rgb(227, 0, 0);">找工作过程中如果碰到了机试，那么最好带上U盘，提前准备好jar包以及配置文件。</span></div><div><font color="#1C3387"><b>hibernate.cfg.xml</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-configuration</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-configuration</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">session-factory</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 数据库链接信息 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;hibernate.connection.driver_class&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">com.mysql.jdbc.Driver</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">property</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;hibernate.connection.url&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">jdbc:mysql://</span><span style="font-size:10pt">localhost</span><span style="font-size:10pt">:3306/</span> <span style="font-size:10pt">jkdb</span><span style="font-size:10pt">?characterEncoding=UTF-8</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;hibernate.connection.username&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">root</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">property</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;hibernate.connection.password&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">root</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">property</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 基础配置 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;hibernate.dialect&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">org.hibernate.dialect.MySQL5Dialect</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">property</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 下面这段配置，只有在练习的时候才会配置，真正上线之后是不会配置的 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!--property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;hibernate.connection.autocommit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">true</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">property</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;show-sql&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">true</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">property</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 加载映射文件 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">session-factory</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-configuration</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font> <font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><b style="color: rgb(28, 51, 135);">beans.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">beans</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://www.springframework.org/schema/beans&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns:xsi</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns:aop</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://www.springframework.org/schema/aop&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns:tx</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://www.springframework.org/schema/tx&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns:context</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://www.springframework.org/schema/context&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xsi:schemaLocation</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://www.springframework.org/schema/beans</i></span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><i>                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</i></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><i>                           http://www.springframework.org/schema/aop</i></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><i>                           http://www.springframework.org/schema/aop/spring-aop-3.0.xsd</i></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><i>                           http://www.springframework.org/schema/context</i></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><i>                           http://www.springframework.org/schema/context/spring-context-3.0.xsd</i></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><i>                           http://www.springframework.org/schema/tx</i></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><i>                           http://www.springframework.org/schema/tx/spring-tx-3.0.xsd&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 1:创建SessionFactory对象，这是spring整合Hibernate的核心 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sessionFactory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;configLocation&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">classpath:hibernate.cfg.xml</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">value</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 2:加载DAO对象 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoRoot&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.dao._RootDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt"><i>&quot;</i></span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">/&gt;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">beans</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font> <font face="Courier New" size="2"><span style="font-size:10pt"><font color="#E30000"> </font>       </span></font></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><b style="color: rgb(28, 51, 135);">struts.xml</b></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">constant</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts.ui.theme&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;simple&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">constant</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 下面的配置在真正上线后要关闭，因为即使是打日志，也会花费很多的时间，这会降低系统的运行效率 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">constant</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts.devMode&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;true&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">constant</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">constant</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts.objectFactory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;spring&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">constant</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">include</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">file</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts2/struts-test.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">web.xml</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">web-app</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;2.5&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://java.sun.com/xml/ns/javaee&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns:xsi</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xsi:schemaLocation</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;http://java.sun.com/xml/ns/javaee</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><i>      http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 当web容器启动的时候，加载spring容器（beans.xml） --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">context-param</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">param-name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contextConfigLocation</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">param-name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">param-value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">classpath:beans.xml</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">param-value</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">context-param</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">listener</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">listener-class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">org.springframework.web.context.ContextLoaderListener</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">listener-class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">listener</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 配置struts2的过滤器，这是struts2运行的核心 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter-name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">struts2</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter-name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter-class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter-class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter-mapping</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter-name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">struts2</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter-name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">url-pattern</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/*</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">url-pattern</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">filter-mapping</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">welcome-file-list</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">welcome-file</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">index.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">welcome-file</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">welcome-file-list</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">web-app</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div></div><font color="#1C3387"><b>5、建立数据库&amp;测试表</b></font></div><div><font color="#E30000">建立数据库，编码格式为uft8<br>
CREATE DATABASE IF NOT EXISTS itcastjkdb DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</font><br><img src="陕西杰信商务综合管理平台_files/Image [14].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>6、发布、测试（没有报错，说明系统搭建成功）</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [15].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#328712">附：</font></div><div><font color="#E30000">将他人的项目导入MyEclipse的时候，可能由于某些原因会莫名奇怪的报错，并且找不到原因。这时候可以点击Project--&gt;Clean，进行重新编译。但是重新进行编译，MyEclipse会做语法校验，比如xml、js等校验，会影响编译进度，因此最好将校验关闭掉。</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [16].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#328712">但也可以单独对某个文件或者文件夹进行Validation操作。</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [17].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div></div>
</div>
<hr>
<a name="352"/>
<h1>06 系统代码</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">1、业务逻辑</b></div><div><font color="#E30000">数据字典是系统的基础，其作用是减少重复信息，保证数据的唯一性。<br>
本系统包括人员级别、厂家类型、附件类型、货物类型等。用户可以自行扩充,提高系统的灵活性和程序的扩展性。</font><br></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>2、拿到问题，怎么样去做？</b></font></div><div><font color="#E30000">①分析</font></div><div><font color="#E30000">②设计（转换成数据库表、业务控制）、可行性分析</font></div><div><font color="#E30000">③编码</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>3、功能描述及其分析</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [18].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>4、数据库设计，执行SQL，创建数据库表</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [19].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [20].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [21].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [22].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [23].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">1、数据库表主键用什么类型？</font></div><div><font color="#E30000">int long                 处理速度快</font></div><div><font color="#E30000">varchar(uuid)            使用uuid，可以在项目整合的时候，防止主键冲突</font></div><div><font color="#E30000">2、建立数据库表的时候创建外键否？</font></div><div><font color="#E30000">测试、调试阶段：不需要创建外键关系，使用代码来维护。</font></div><div><font color="#E30000">系统上线稳定维护阶段：创建外键。防止用户不小心改动数据造成外键关系错误。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>5、创建映射文件ClassCode.hbm.xml、TextCode.hbm.xml</b></font></div><div><b style="color: rgb(28, 51, 135);">ClassCode.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ClassCode&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CLASS_CODE_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CLASS_CODE_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;name&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 关联关系 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;textCodes&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inverse</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;true&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cascade</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;all&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CLASS_CODE_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">one-to-many</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TextCode&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font> <font face="Courier New" size="2"><span style="font-size:10pt">   </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="text-align: -webkit-auto; color: rgb(28, 51, 135);">TextCode.hbm.xml</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TextCode&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TEXT_CODE_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TEXT_CODE_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;name&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;classCode&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CLASS_CODE_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ClassCode&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font> <font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><font color="#1C3387"><b><span style="text-align: -webkit-auto;">6、</span>创建PO文件ClassCode.java、TextCode.java</b></font></div><div><b style="color: rgb(28, 51, 135);">ClassCode.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCode{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Set&lt;TextCode&gt; getTextCodes() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">textCodes</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">setTextCodes</span> <span style="font-size:10pt">(Set&lt;TextCode&gt; textCodes) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">textCodes</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= textCodes;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Set&lt;TextCode&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">textCodes</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getId() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setId(String id) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= id;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getName() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setName(String name) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= name;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><font color="#1C3387"><b><br></b></font></div><div><b style="color: rgb(28, 51, 135);">TextCode.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">TextCode {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCode</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">classCode</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCode getClassCode() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">classCode</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setClassCode(ClassCode classCode) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">classCode</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= classCode;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getId() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setId(String id) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= id;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getName() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setName(String name) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= name;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#1C3387"><b>7、创建dao</b></font></div><div><font color="#1C3387"><b>TextCodeDAO.java</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">TextCodeDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#1C3387"><b>ClassCodeDAO.java</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCodeDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#1C3387"><b>8、声明</b></font></div><div align="left"><font color="#1C3387"><b>hibernate.cfg.xml</b></font></div><div align="left"><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 基础信息 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/ClassCode.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/TextCode.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div></div></div><div align="left"><font color="#1C3387"><b><br></b></font></div><div align="left"><font color="#1C3387"><b>beans.xml</b></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 基础信息 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">bean</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">id</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> <i>&quot;daoClassCode&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> <i>&quot;cn.itcast.entity.dao.ClassCodeDAO&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">autowire</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> <i>&quot;byName&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"> <span style="font-size: 10pt;">bean</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;"> </span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;">id</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;"> <i>&quot;daoTextCode&quot;</i></span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;"> </span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;"> <i>&quot;cn.itcast.entity.dao.TextCodeDAO&quot;</i></span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;"> </span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;">autowire</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;"> <i>&quot;byName&quot;</i></span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;">/&gt;</span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#1C3387"><b>9、创建action：列表（方法命名规则：to+动作；转向页面命名规则：p+动作）</b></font></div><div align="left"><font color="#1C3387"><b>TextCodeAction.java</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">TextCodeAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;TextCode&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">TextCode</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f0d8a8">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">TextCode();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">TextCode getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//列表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String list(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;TextCode&gt; dataList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from TextCode o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;dataList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, dataList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;plist&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向新增页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String tocreate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据 获取代码分类 下拉表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;ClassCode&gt; classCodeList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ClassCode o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;classCodeList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, classCodeList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pcreate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向修改页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toupdate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据 获取代码分类 下拉表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;ClassCode&gt; classCodeList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ClassCode o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;classCodeList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, classCodeList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCode obj = (TextCode) oDao.get(TextCode.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pupdate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String deleteone(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.delete(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId(), TextCode.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//批量删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//注意分隔符</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.deleteAllById(ids, TextCode.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向查看页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toview(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            TextCode obj = (TextCode) oDao.get(TextCode.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pview&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div></div><div align="left"><font color="#1C3387"><b>ClassCodeAction.java</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCodeAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;ClassCode&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCode</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCode();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCode getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//列表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String list(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ClassCodeDAO oDao = (ClassCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoClassCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;ClassCode&gt; dataList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ClassCode o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;dataList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, dataList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;plist&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向新增页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String tocreate(){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pcreate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ClassCodeDAO oDao = (ClassCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoClassCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向修改页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toupdate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ClassCodeDAO oDao = (ClassCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoClassCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ClassCode obj = (ClassCode) oDao.get(ClassCode.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pupdate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ClassCodeDAO oDao = (ClassCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoClassCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.delete(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId(), ClassCode.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#328712"><b>附：</b></font></div><div align="left"><font color="#E30000">1、为什么保存、修改后不返回list页面而返回的是action的list方法？</font></div><div align="left"><font color="#E30000">答：为了准备列表的数据。可以直接返回页面，那样列表页面就没有数据可供显示。</font></div><div align="left"><font color="#E30000">2、上面的getDao方法继承自_BaseStruts2Action.java，目的就是获取DAO对象。</font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Object getDao(String dao){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">AppContext.</span><span style="font-size:10pt"><i>getInstance</i></span><span style="font-size:10pt">().getAppContext().getBean(dao);            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获取DAO对象</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div></div><div align="left"><font color="#328712"><b>注：</b></font></div><div align="left"><font color="#E30000">如果对action进行拦截控制，那最好不直接调用，因为内部调用，拦截器无法发挥作用。</font></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#1C3387"><b>10、创建jsp页面WebRoot/baseinfo/classcode/jClassCodeList.jsp、jClassCodeUpdate.jsp、jClassCodeCreate.jsp（全码见源代码，这里只列出重点代码）</b></font></div><div align="left"><font color="#E30000">拷贝“资料\3-界面原型\JSP文件模板”下的模板文件，此模板通常由美工提供，主要是定系统的样式。</font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [24].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/><font color="#E30000"><br>
修改模板文件，加入业务内容：</font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">jClassCodeList.jsp</b></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#dataList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">var</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;dl&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;odd&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onmouseover</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;this.className='highlight'&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onmouseout</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;this.className='odd'&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;radio&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">${id}</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${id}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${name}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">jClassCodeUpdate.jsp</b></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;hidden&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">value</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">${id}</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font>   </font></div><div align="left"><font color="#E30000">action保存时就靠它来区分是新增还是修改。</font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><br></font></div><div align="left"><div><b style="color: rgb(50, 135, 18);">附：</b></div></div><div align="left"><font color="#E30000">1、为何新建、修改时转向的是action的tocreate、toupdate方法，而不直接转向页面呢？</font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;new&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;formSubmit('/baseinfo/classCodeAction_tocreate','_self');this.blur();&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">新建</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">a</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;update&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;formSubmit('/baseinfo/classCodeAction_toupdate','_self');this.blur();&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">修改</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">a</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">li</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><font color="#E30000">答：为了准备数据，就是在为新建页面上的下拉框准备数据。</font></div><div align="left"><font color="#328712"><b>注：</b></font></div><div align="left"><font color="#E30000">上面的formSubmit方法是从common.js中引入的，目的是为页面中的第一个表单属性赋值。</font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [25].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font color="#E30000">2、将信息放在request中，页面该如何获取呢？</font></div><div align="left"><font color="#1C3387"><b>ClassCodeAction.java</b></font></div></div><div align="left"><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">public String list(){</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      List</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ClassCode&gt; dataList = oDao.find(&quot;from ClassCode&quot;);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HttpServletRequest request = ServletActionContext.getRequest();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      request.setAttribute(&quot;dataList&quot;, dataList);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      return &quot;</span> <span style="font-size:10pt">plist</span><span style="font-size:10pt">&quot;;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left"><b style="color: rgb(28, 51, 135);">jClassCodeList.jsp</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#request.dataList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">var</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;dl&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div></div><div align="left"><div align="left"><font color="#E30000">修改left.jsp添加访问入口：</font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">a</span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">href</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"><i>&quot;/baseinfo/classCodeAction_list&quot;</i></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">target</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"><i>&quot;main&quot;</i></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">id</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"><i>&quot;aa_1&quot;</i></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">onclick</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;linkHighlighted(this)&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&gt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">代码分类</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">a</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"><br></span></font></font></div><div align="left"><font color="#1C3387"><b>11、创建struts-baseinfo.xml</b></font><br></div><div align="left"><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;baseinfo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">namespace</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;/baseinfo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extends</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts-default&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;classCodeAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.baseinfo.classcode.ClassCodeAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;plist&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">baseinfo</span><span style="font-size:10pt">/</span><span style="font-size:10pt">classcode</span><span style="font-size:10pt">/jClassCodeList.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pcreate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">baseinfo</span><span style="font-size:10pt">/</span><span style="font-size:10pt">classcode</span><span style="font-size:10pt">/jClassCodeCreate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pupdate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">baseinfo</span><span style="font-size:10pt">/</span><span style="font-size:10pt">classcode</span><span style="font-size:10pt">/jClassCodeUpdate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;textCodeAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.baseinfo.textcode.TextCodeAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pview&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">baseinfo</span><span style="font-size:10pt">/</span><span style="font-size:10pt">textcode</span><span style="font-size:10pt">/jTextCodeView.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;plist&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">baseinfo</span><span style="font-size:10pt">/</span><span style="font-size:10pt">textcode</span><span style="font-size:10pt">/jTextCodeList.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pcreate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">baseinfo</span><span style="font-size:10pt">/</span><span style="font-size:10pt">textcode</span><span style="font-size:10pt">/jTextCodeCreate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pupdate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">baseinfo</span><span style="font-size:10pt">/</span><span style="font-size:10pt">textcode</span><span style="font-size:10pt">/jTextCodeUpdate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">   </span></font></font></div></div><div align="left"><font color="#E30000">在struts.xml中增加</font><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">include</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">file</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;struts2/struts-baseinfo.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/&gt;。</span></font></font></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#1C3387"><b>12、测试系统</b></font></div><div align="left"><font color="#1C3387"><b>向数据库中插入两条数据，然后登录系统进行测试。</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [26].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font color="#1C3387"><b>测试列表显示</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [27].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font color="#1C3387"><b>测试新增</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [28].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [29].png" type="image/png" height="302" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="971"/></div><div align="left"><font color="#1C3387"><b>测试修改</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [30].png" type="image/png" height="270" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="975"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [31].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [32].png" type="image/png" height="276" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="973"/></div><div align="left"><font color="#1C3387"><b>测试删除</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [33].png" type="image/png" height="273" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="966"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [34].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><font color="#1C3387"><b>13、实现textCode：复制action，复制页面</b></font></div><div align="left"><font color="#E30000">替换ClassCode相关的Action与页面中信息为TextCode的信息</font></div><div align="left"><div><font color="#1C3387"><b><br></b></font></div><font color="#1C3387"><b>添加分类列表</b></font></div><div align="left"><div><font color="#E30000">TextCodeAction中实现tocreate方法，为分类准备数据。</font></div><div><font color="#1C3387"><b>TextCodeAction.java</b></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//转向新增页面</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span> <span style="font-size:10pt">tocreate()</span><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据 获取代码分类 下拉表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      List&lt;ClassCode&gt; classCodeList =</span> <span style="font-size:10pt">oDao.find(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ClassCode o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ActionContext. getContext().put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;classCodeList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, classCodeList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pcreate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div><font color="#1C3387"><b><br></b></font></div></div><div align="left"><div><font color="#E30000">修改create页面</font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">tr</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;columnTitle&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">分类：</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableContent&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:select</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;classCode.id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#classCodeList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">listKey</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">listValue</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;name&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">headerKey</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">headerValue</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;--请选择--&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:select</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div><b style="color: rgb(28, 51, 135);"><br></b></div><div><b style="color: rgb(28, 51, 135);">测试新增分类下拉列表</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [35].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">由于修改页面中也需要分类下拉列表，因此做与上面相似的操作，此处略。</font></div><div><b style="color: rgb(28, 51, 135);"><br></b></div><div><b style="color: rgb(28, 51, 135);">增加查看功能</b></div><div><font color="#E30000">TextCodeAction中实现toview方法。</font></div><div><b style="color: rgb(28, 51, 135);">TextCodeAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span> <span style="font-size:10pt">toview()</span><span style="font-size:10pt">{</span></font></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2">      </font><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">//准备数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt">TextCode</span> <span style="font-size:10pt">obj = (TextCode)</span> <span style="font-size:10pt">oDao</span><span style="font-size:10pt">.get(TextCode.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">, model.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      ActionContext.getContext().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pview&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><u><br></u></span></font></div><div align="left"><div><font color="#E30000">加查看按钮 jTextCodeList.jsp<br></font><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;li</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"> id=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;view&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&gt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&lt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"> a</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"> href=</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;#&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"> </span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">onclick</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;formSubmit('/baseinfo/textCodeAction_toview','_self');this.blur();&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;查看&lt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"> /</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">a&gt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span> <span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">li</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"><br></span></font></font></div><div align="left"><div><font color="#E30000">新建jTextCodeView.jsp查看页面<br></font><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;li</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"> id=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;back&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&gt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&lt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"> a</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"> href=</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;#&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;"> </span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">onclick</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254); background-position: initial initial; background-repeat: initial initial;">&quot;history.go(-1);this.blur();&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;返回&lt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"> /</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">a&gt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span> <span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">li</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div></div><div align="left"><font color="#328712"><b>注：</b></font></div><div align="left"><font color="#E30000">如果用浏览器的“回退”按钮返回，那么如果其他用户对数据库进行了更新，则不会显示出来。</font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"><br></span></font></font></div></div></div><div><span style="color: rgb(227, 0, 0);">修改view页面</span><br style="color: rgb(227, 0, 0);"></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;tableHeader&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;分类&lt;/td&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;td&gt;</span><span style="font-size: 10pt;">$</span> <span style="font-size: 10pt;">{</span><span style="font-size: 10pt;">classCode.</span><span style="font-size: 10pt;">name}&lt;/td&gt;</span></font><span style="color: rgb(227, 0, 0); font-family: 'Courier New'; font-size: 10pt;">  </span></div></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div><div align="left"><font color="#1C3387"><b>测试查看</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [36].png" type="image/png" height="214" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1011"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [37].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font color="#328712"><b>注：</b></font></div><div align="left"><div><font color="#E30000">通过在列表记录上增加快捷链接</font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;td&gt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"> &lt;a</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"> href=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&quot;/baseinfo/textCodeAction_toview?id=${id}&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;$</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">{classCode.name</span> <span style="font-size: 10pt; background-color: rgb(232, 242, 254);">}&lt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/a&gt;</span> <span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"> td</span><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div></div></div><div align="left"><font color="#E30000">就可以实现通过直接点击分类名就可以查看本条记录的详细信息。</font></div><div align="left"><br></div><div align="left"><font color="#1C3387"><b>实现批量删除</b></font></div><div align="left"><font color="#E30000">TextCodeAction中实现delete方法。</font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">TextCodeAction.java</b></div></div><div align="left"><div align="left"><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//批量删除</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span> <span style="font-size:10pt">delete()</span><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//注意分隔符，struts2中，如果页面上有多个元素id相同，那么它们提交后，值就会以“， ”组织起来存入model中。</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String[] ids = model .getId().split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);       </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      TextCodeDAO oDao = (TextCodeDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoTextCode&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      oDao.deleteAllById(ids, TextCode.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><u><br></u></span></font></div></div></div></div><div align="left"><font color="#1C3387"><b>测试批量删除</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [38].png" type="image/png" height="311" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1026"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [39].png" type="image/png" height="244" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1012"/></div><div align="left"><br></div><div align="left"><font color="#328712"><b>附：</b></font></div><div align="left"><font color="#E30000">什么时候使用Serializable？</font></div><div align="left"><font color="#E30000">①复合主键</font></div><div align="left"><font color="#E30000">②文件上传下载</font></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#328712"><b>注：</b></font></div><div align="left"><font color="#E30000">如果使用EditPlus直接修改JSP，MyEclipse中的项目文件夹一定要刷新一次，否则Tomcat无法部署修改过的JSP。</font></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="402"/>
<h1>07 厂家信息</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">1、业务逻辑</b></div><div><font color="#E30000">基础模块：维护常用信息，目的也是减少信息重复，保证信息的一致性。和数据字典的区别是，数据字典结构简单，一般为编号＋内容，常用于下拉框。而基础信息较复杂，多个业务字段。常用于业务中管理信息。<br>
厂家信息：管理与公司合作的生产厂家，包括厂家名称、联系人、地址、电话等信息。用在购销合同中货物、附件可选择对应的厂家。</font><br></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">2、功能描述及其分析</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [40].png" type="image/png" height="231" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="615"/></div><div><br></div><div><font color="#1C3387"><b>3、技术要点</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [41].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>4、数据库设计，执行SQL，创建数据库表</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [42].png" type="image/png" height="430" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="677"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [43].png" type="image/png" height="389" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="666"/></div><div><br></div><div><font color="#1C3387"><b>5、创建PO文件</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ctype</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">typeName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">fullName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">factoryName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractor</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">phone</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">mobile</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">fax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cnote</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inspector</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">state</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">       //成员变量不要用int类型，采用包装类</font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">Integer</span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">orderNo</span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createBy</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createDept</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createTime</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">       ...//get、set方法</font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#1C3387"><b>6、创建映射文件Factory.hbm.xml</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;Factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FACTORY_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FACTORY_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ctype&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CTYPE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;typeName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">formula</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;(select t.name from text_code_c t where t.text_code_id=ctype)&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">insert</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">update</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;fullName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FULL_NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;factoryName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FACTORY_NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractor&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACTOR&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;phone&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PHONE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;mobile&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;MOBILE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;fax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cnote&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CNOTE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;inspector&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;INSPECTOR&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;state&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;STATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;orderNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createBy&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_BY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createDept&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_DEPT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createTime&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_TIME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font> <font face="Courier New" size="2"><span style="font-size:10pt"><font color="#E30000">  </font></span></font></div><div align="left"><b><font color="#328712">注：</font></b></div><div align="left"><font color="#E30000">Date类型的成员变量在映射文件中使用timestamp，一方面，是为了适应不同类型的数据库。另一方面，所有涉及日期的字段一定要有年月日、时分秒，这样才能够应对客户不断变化的需求。</font></div><div align="left"><b><font color="#328712"><br></font></b></div><div align="left"><b><font color="#328712">附：</font></b></div><div align="left"><font color="#E30000">①在list页面要显示分类的名称，但又没有配置对象关系，那如果做呢？</font></div><div align="left"><font color="#E30000">Factory.hbm.xml中定义虚拟列typeName；PO对象中生成GET、SET方法<br></font><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;typeName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">formula</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;(select t.name from text_code_c t where t.text_code_id=ctype)&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">insert</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">update</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">List.jsp</b></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${typeName}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div align="left"><font color="#E30000">②应用formula，注意其SQL的特殊写法。<br>
返回单值<br>
设定别名<br>
Where字段为数据库字段，不是映射字段。大小写没关系。</font><br></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#1C3387"><b>7、创建FactoryDAO.java</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">FactoryDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#1C3387"><b>8、声明hbm和dao</b></font></div><div align="left"><font color="#1C3387"><b>hibernate.xml</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">resource</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;cn/itcast/entity/Factory.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><br></span></font></div></div><div align="left"><font color="#1C3387"><b>beans.xml</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;daoFactory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;cn.itcast.entity.dao.FactoryDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">autowire</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;byName&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"><br></span></font></font></div><div align="left"><font color="#1C3387"><b>9、建立FactoryAction.java，复制textCodeAction进行修改</b></font><br></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">FactoryAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;Factory&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//列表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String list(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO oDao = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;Factory&gt; dataList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from Factory o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;dataList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, dataList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;plist&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向新增页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String tocreate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//准备数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO oDao = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;TextCode&gt; textCodeList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from TextCode o where o.classCode.id='0103'&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;            </span></font> </font></div><div align="left"><font color="#E30000" face="Courier New" size="2">            </font><span style="font-size: 10pt; font-family: 'Courier New'; color: rgb(227, 0, 0);">//0103 厂家分类</span></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;textCodeList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, textCodeList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pcreate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO oDao = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Factory f =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//初始化</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getId()==</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  f =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  f.setState(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;1&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);        </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//1正常0停用</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  f = (Factory) oDao.get(Factory.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setCtype(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getCtype());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setFullName(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getFullName());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setFactoryName(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getFactoryName());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setContractor(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getContractor());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setPhone(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getPhone());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setMobile(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getMobile());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setFax(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getFax());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setCnote(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getCnote());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setInspector(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getInspector());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            f.setOrderNo(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getOrderNo());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(f);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向修改页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toupdate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO oDao = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;TextCode&gt; textCodeList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from TextCode o where o.classCode.id='0103'&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//0103 厂家分类</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;textCodeList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, textCodeList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Factory obj = (Factory) oDao.get(Factory.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pupdate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向查看页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toview(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO oDao = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Factory obj = (Factory) oDao.get(Factory.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pview&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//批量删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//注意分隔符</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO oDao = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.deleteAllById(ids, Factory.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//启用</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String start(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.chstate(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//停用</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String stop(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.chstate(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;0&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//修改状态 1正常0停用</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">chstate(String value){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//注意分隔符</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Factory f =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt">Set</span> <span style="font-size:10pt">oSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet</span><span style="font-size:10pt">();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO oDao = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;ids.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  f = (Factory) oDao.get(Factory.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">, ids[i]);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  f.setState(value);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span><span style="font-size:10pt">oSet.add(f)</span><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdateAll(oSet);               </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//批量保存</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><br></font></div><div align="left"><div><font color="#1C3387"><b>10、struts配置</b></font></div><div><font color="#1C3387"><b>struts-basicinfo.xml</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;basicinfo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">namespace</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;/basicinfo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extends</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts-default&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;factoryAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.basicinfo.factory.FactoryAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pview&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">basicinfo</span><span style="font-size:10pt">/factory/jFactoryView.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;plist&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">basicinfo</span><span style="font-size:10pt">/factory/jFactoryList.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pcreate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">basicinfo</span><span style="font-size:10pt">/factory/jFactoryCreate.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pupdate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/</span><span style="font-size:10pt">basicinfo</span><span style="font-size:10pt">/factory/jFactoryUpdate.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">   </span></font></font></div><div><font color="#1C3387"><b>struts.xml</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">include</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">file</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;struts2/struts-basicinfo.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"><br></span></font></font></div><div align="left"><font color="#1C3387"><b>11、列表功能：jsp页面（创建jFactoryList.jsp、jFacotryCreate.jsp、jFactoryUpdate.jsp、jFactoryView.jsp）（全码见源文件，这里仅列出重要部分代码）</b></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">jFactoryList.jsp</b></div></div><div align="left"><font color="#1C3387"><b>多选按钮：支持批量选择和批量反选</b></font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;checkbox&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id_selector&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id_selector&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">title</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;(Un)Select All&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;for(i</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= 0;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">document.getElementsByName('id').length; i++)document.getElementsByName('id').item(i).checked=document.getElementById('id_selector').checked;&quot; &gt;</span></font></font></div><br><font color="#1C3387"><b>加行号：</b></font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#dataList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">var</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">status</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;line&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#line.index+1&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><br><font color="#1C3387"><b>访问入口：baseinfo/left.jsp</b></font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">li</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;../basicinfo/factory/factoryAction_list&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">target</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;main&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;aa_1&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;linkHighlighted(this)&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">厂家信息</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">li</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div></div><div align="left"><font color="#1C3387"><b><br></b></font></div><div align="left"><font color="#1C3387"><b>12、新增功能</b></font></div><div align="left"><font color="#E30000">为下拉框准备测试数据，</font><span style="color: rgb(227, 0, 0);">初始化测试数据</span></div><div align="left"><font color="#E30000">DELETE FROM class_code_c;<br>
INSERT INTO `class_code_c` (`CLASS_CODE_ID`, `NAME`) VALUES('0103','厂家分类');<br>
INSERT INTO `class_code_c` (`CLASS_CODE_ID`, `NAME`) VALUES('402880e73f08539f013f085543b60002','附件分类');<br>
INSERT INTO `class_code_c` (`CLASS_CODE_ID`, `NAME`) VALUES('402880e73f08539f013f08558b8d0004','用户级别');</font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [44].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><font color="#E30000">创建基础数据sys_code_b，执行“资料\2-数据库\1-初始化脚本.sql”</font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [45].png" type="image/png" height="413" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="908"/></div><div align="left"><br></div><div align="left"><div align="left"><font color="#E30000">如何从已有表中查出数据插入到另一个结构类似的表中？</font><br></div><div align="left"><font color="#E30000">INSERT INTO TEXT_CODE_C<br>
SELECT sys_code_id,'0103' AS CLASS_CODE_ID,NAME FROM sys_code_b WHERE parent_id='0103'</font><br></div></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [46].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><font color="#E30000">为新增、修改页面准备下拉框数据，ACTION 中tocreate()、toupdate()方法</font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">HQL: from TextCode t where t.classCode.id='0103’</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">List</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">SysCode</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ctypeList = oDao.find(&quot;from SysCode t where t.classCode.id='0103'&quot;);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">ActionContext.getContext().put(&quot;ctypeList&quot;, ctypeList);</span></font></div></div><div align="left"><br></div><div align="left"><div align="left"><font color="#E30000">厂家类型下拉框</font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:select</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">list</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>&quot;ctypeList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">name</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>&quot;ctype&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">listKey</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">listValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>&quot;name&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">           </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">headerKey</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>&quot;&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">headerValue</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>&quot;--请选择--&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">s:select</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div></div></div><div align="left"><font color="#1C3387"><b>测试保存</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [47].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [48].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [49].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [50].png" type="image/png" height="247" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1080"/></div><div align="left"><br></div><div align="left"><font color="#1C3387"><b>13、修改功能</b></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">public String save(){</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     FactoryDAO oDao = (FactoryDAO) this.getDao(&quot;daoFactory&quot;);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     if(model.getId()==null){</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">          model.setState(&quot;1&quot;);          //1正常0停用</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     oDao.saveOrUpdate(model);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     return list();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><font color="#E30000">如果使用上面的代码，修改时，将会导致state由于页面没有，而被置null。这不是我们要的结果，如何修改呢？<br>
1、update jsp页面增加隐藏域<br>
2、不能直接使用model方法，而new新对象，get方法得到，然后set</font><br></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> public String save(){</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      FactoryDAO oDao = (FactoryDAO) this.getDao(&quot;daoFactory&quot; );</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      Factory f = null;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       //初始化</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       if(model .getId()==null){</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            f = new Factory();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            f.setState( &quot;1&quot;);        //1正常0停用</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      } else{</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            f = (Factory) oDao.get(Factory. class, model .getId());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setCtype( model.getCtype());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setFullName( model.getFullName());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setFactoryName( model.getFactoryName());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setContractor( model.getContractor());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setPhone( model.getPhone());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setMobile( model.getMobile());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setFax( model.getFax());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setCnote( model.getCnote());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setInspector( model.getInspector());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      f.setOrderNo( model.getOrderNo());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      oDao.saveOrUpdate(f);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      return list();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}<br><br></span></font></div><div align="left"><font color="#1C3387"><b>测试修改</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [51].png" type="image/png" height="245" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1079"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [52].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [53].png" type="image/png" height="247" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1080"/></div><div align="left"><br></div><div align="left"><font color="#1C3387"><b>14、批量删除功能：如何批量删除？</b></font></div></div><div align="left"><font color="#E30000">JSP页面设置chekbox多选框<br>
①checkbox框的特性是，只有选中的才会提交到后台也就是action中<br>
②如果多个同名，则后台需要按数组方式处理  request.getParameterVales()</font></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#E30000">修改action的delete方法</font><br></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">public String delete(){</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      String[]</span> <span style="font-size:10pt">ids</span> <span style="font-size:10pt">= model.getId().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      FactoryDAO oDao = (FactoryDAO) this.getDao(&quot;daoFactory&quot;);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      oDao.deleteAllById(</span> <span style="font-size:10pt">ids</span><span style="font-size:10pt">, Factory.class);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      return list();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left"><br></div><div align="left"><font color="#1C3387"><b>测试批量删除</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [54].png" type="image/png" height="313" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1082"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [55].png" type="image/png" height="251" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1082"/></div><div align="left"><br></div><div align="left"><b><font color="#1C3387">15、启用和停止功能：如何实现启用和停止操作，并进行批量操作？</font></b></div><div align="left"><font color="#1C3387"><b>FactoryAction.java</b></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">public String begin(){</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     this.state(&quot;1&quot;);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     return list();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">public String stop(){</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     this.state(&quot;0&quot;);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     return list();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">private void state(String curValue){</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     String[]</span> <span style="font-size:10pt">ids</span> <span style="font-size:10pt">= model.getId().replace(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     FactoryDAO oDao = (FactoryDAO) this.getDao(&quot;daoFactory&quot;);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     Factory</span> <span style="font-size:10pt">obj</span><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     Set oSet = new HashSet();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     for(</span><span style="font-size:10pt">int</span> <span style="font-size:10pt">i=0;i</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">ids.length</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">i</span></font><font face="Courier New" size="2"><span style="font-size:10pt">++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">obj</span></font><font face="Courier New" size="2"><span style="font-size:10pt">  =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>(Factory)</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">oDao.get</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory.class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ids</span></font><font face="Courier New" size="2"><span style="font-size:10pt">[</span></font><font face="Courier New" size="2"><span style="font-size:10pt">i</span></font><font face="Courier New" size="2"><span style="font-size:10pt">]);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">obj.setState</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">curValue</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">oSet.add</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">obj</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">oDao.saveOrUpdateAll</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">oSet</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000">列表页面状态显示转换：</font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:if</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;state==0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">停止</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">s:if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:elseif</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;state==1&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">font</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">color</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;green&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"> 启用</font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">font</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:elseif</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><font color="#E30000">启用和停止功能：页面按钮</font></div><div align="left"><font color="#E30000">List页面加“启用”和“停用”按钮</font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;new&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;formSubmit('/basicinfo/factoryAction_begin','_self');this.blur();&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">启用</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">a</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;new&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span><span style="font-size:10pt"><i>&quot;#&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;formSubmit('/basicinfo/factoryAction_stop','_self');this.blur();&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">停止</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">a</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">li</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><font color="#E30000">执行sql中的脚本：<br>
资料\2-数据库\1-初始化厂家信息脚本.sql</font><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [56].png" type="image/png" height="376" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1075"/></div><div align="left"><br></div><div align="left"><font color="#1C3387"><b>测试启用和停用功能</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [57].png" type="image/png" height="312" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1079"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [58].png" type="image/png" height="310" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1077"/></div><div align="left"><br></div><div align="left"><font color="#E30000">如果想要实现直接点击“启用”就可以变为“停用”，或者反之。则为其加上超链接即可。</font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">s:if</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;state==1&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;factoryAction_stop?id=</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${id}</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">启用</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">s:if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:if</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;state==0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;factoryAction_start?id=</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${id}</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">font</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">color</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>'red'</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">停用</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">font</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [59].png" type="image/png" height="79" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1064"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [60].png" type="image/png" height="77" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1069"/></div></div></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="478"/>
<h1>08 购销合同之合同部分功能实现</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">1、业务逻辑</b></div><div><font color="#E30000">客户签单后，公司向厂家下达购销合同，包括货物的具体要求和交期。合同按不同厂家打印购销合同单，货物、附件各自打印，由公司驻当地销售人员分发到各工厂。</font><br></div><div><font color="#328712"><b>注：</b></font></div><div><font color="#E30000">购销合同是跟生产厂家签订的合同，而不是与客户签订的合同。</font></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">2、功能描述及其分析</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [61].png" type="image/png" height="274" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="616"/></div><div><br></div><div><b style="color: rgb(28, 51, 135);">3、技术要点 </b></div><div><img src="陕西杰信商务综合管理平台_files/Image [62].png" type="image/png" height="285" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="613"/></div><div><br></div><div><font color="#1C3387"><b>4、购销合同模板</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [63].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><img src="陕西杰信商务综合管理平台_files/Image [64].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">①一个客人订购的商品可能需要由不同的厂家生产，因此一个客户的单子可能对应多个购销合同。</font></div><div><font color="#E30000">②购销合同中收购方是固定的，就是杰信公司。但是数据库中设置了相关的字段，是考虑到将来的发展。例如，杰信以后可能会有子公司，那么这个字段就不是固定的了。</font></div><div><font color="#E30000">③购销合同中的合同号格式为：年份+JK+3位随机号（杰信一年购销合同单子的数量达不到100个）。</font></div><div><font color="#E30000">④同一个厂家的货物放在同一页（一页最多放两个货物），不同厂家的放在不同页。</font></div><div><br></div><div><font color="#1C3387"><b>出货表</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [65].png" type="image/png" height="483" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1042"/></div><div><font color="#E30000">出货表就是对购销合同的月统计。出货表与购销合同表都是由公司里同一个人录入的。</font><br></div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">①出货表中的订单号就是购销合同中的合同号，只是名字不同而已。</font></div><div><font color="#E30000">②出货表中的船期是由后期船务人员录入的，所以船务既负责装箱，也负责报运。</font></div><div><br></div><div><b style="color: rgb(28, 51, 135);">5、数据库设计，执行SQL，创建数据库表</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [66].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">由上图可见，购销合同与合同商品明细是一对多的关系，合同商品明细与合同商品附件是一对多的关系。</font></div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">设计表结构的时候，厂家不应该跟合同绑定，而需要跟货物绑定。根据客户订购的货物，从而决定向哪些厂家下购销合同单。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">购销合同字段</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [67].png" type="image/png" height="489" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="702"/></div><div><font color="#328712"><b>附：</b></font></div><div><span style="color: rgb(227, 0, 0);">字段设计说明：</span></div><div><span style="color: rgb(227, 0, 0);">①购销合同表中的字段在购销合同报表中都能找到对应的内容，但是某些字段在购销合同报表中找不到对应的内容，例如：客户名称（出货表）、船期、贸易条款。但是，这些字段在出货表中都可以找到对应的内容。并且因为出货表和购销合同都是由同一个人操作，所以这些字段放在同一个表中。</span></div><div><font color="#E30000">②购销合同表中的字段“重要程度”对应的是购销合同报表中的货物描述旁的★个数。</font></div><div><font color="#E30000">③购销合同表中的字段“打印版式”（一个页面可以打印两件货，也可以是一件货，这个由客户来确定），页面上可以做一个供用户选择的下拉框来实现此功能。之所以将其放入表字段中，是因为考虑到用户可能过了很久之后又要重新打一份购销合同单，但是忘记这个单子以前是按照一页两个货物还是一页一个货物打印了。</font></div><div><font color="#E30000">④人名字段长度一般都是20或者30。</font></div><div><br><div><font color="#E30000">合同商品明细字段</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [68].png" type="image/png" height="671" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="706"/></div><div><b><font color="#328712">附：</font></b></div><div><font color="#E30000">字段设计说明：</font></div><div><font color="#E30000">①一般，图片不会直接存入数据库。因为这样的话，数据库的优化就不是很好做了。一般都是将图片存放在服务器上，然后将图片路径存入数据库中。</font></div><div><font color="#E30000">②包装单位只有两种：“只”或者“套”。</font></div><div><font color="#E30000">③表中的“厂家”字段中存放的内容是关联到生产厂家表的外键值。</font></div><div><font color="#E30000">④表中毛重、净重以及长宽高等字段是报运的时候需要用到的。</font></div><div><font color="#E30000">⑤主表（购销合同表）中有权限控制字段（CREATE_BY、CREATE_DEPT、CREATE_TIME），子表（合同商品明细表）中没有权限控制字段，这是因为主表中的权限已经能够控制用户是否能够访问到子表中的数据了，所以子表就不需要有了。但是，单表肯定需要权限控制字段。</font></div><div><br></div><div><font color="#E30000">合同商品附件字段</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [69].png" type="image/png" height="622" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="706"/>、</div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">合同商品明细表和合同商品附件表的字段基本上没有什么差别，原本一张表就可以解决，所以才会有一个字段是“是否是附件”，以用来做区分。之所以后来又用两张表来区分开，有两个原因：①拆开后关系更加明确。②后期的业务主要围绕合同商品明细表，每次都要区分表中的某条记录是否属于合同商品明细记录，很麻烦。用两张表区分开，就不需要在代码中每次都区分了。</font><br></div><div><br></div><div><font color="#E30000">建表成功</font></div><div><font color="#E30000">从pdm中执行3张表的建表语句，注意无需执行关系语句。</font><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [70].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>6、编写映射文件（Contract.hbm.xml、ContractProduct.hbm.xml、ExtCproduct.hbm.xml）</b></font></div><div><b style="color: rgb(28, 51, 135);">Contract.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;Contract&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;offeror&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;OFFEROR&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;signingDate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIGNING_DATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;inputBy&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;INPUT_BY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;checkBy&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CHECK_BY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;inspector&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;INSPECTOR&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;totalAmount&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TOTAL_AMOUNT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;crequest&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;REQUEST&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;customName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CUSTOM_NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;shipTime&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SHIP_TIME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;importNum&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;IMPORT_NUM&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;deliveryPeriod&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;DELIVERY_PERIOD&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;remark&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;REMARK&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;printStyle&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRINT_STYLE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;oldState&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;OLD_STATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;state&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;STATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;outState&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;OUT_STATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tradeTerms&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TRADE_TERMS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createBy&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_BY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createDept&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_DEPT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createTime&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_TIME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- 关联关系 --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inverse</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;true&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cascade</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;all&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">order-by</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">one-to-many</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ContractProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font> <font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div><b><font color="#328712">附：</font></b></div><div><font color="#E30000">①数据库表中为Number类型的字段，映像文件中对应的字段类型就为big_decimal。第一、精度高。第二、包含了double、float等类型。</font></div><div><font color="#E30000">②MyEclipse中的快捷键：选中某些内容高亮，然后按下Ctrl+Shift+Y就可以将所选中内容变小写，对应的按下Ctrl+Shift+X，变大写。</font></div><div><font color="#E30000">③使用Set集合管理合同商品明细，并不能使合同商品按照顺序显示，所以上面的set标签中就通过标签属性order-by确定按照“ORDER_NO”来排序。</font></div><div><font color="#E30000"><br></font></div><div><b><font color="#328712">注：</font></b></div><div><font color="#1C3387"><b>技术要点：如何映射布尔型的属性？</b></font></div><div><font color="#E30000">在xxx.hbm.xml中映射布尔类型<br>
&lt;property name=&quot;accessories&quot; type=&quot;boolean&quot; column=&quot;ACCESSORIES&quot;/&gt;<br>
注意：<br>
1、数据库没有布尔型，都会映射为整数类型，例如：mysql中会转换为tinyint，其他数据库类同。<br>
2、PDM数据库建模时字段类型用bit，SQLSERVER2000为tinyint，MYSQL5.0为二进制字段。<br>
3、PO对象中布尔型变量还有get和set方法吗？<br></font><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">accessories</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">isAccessories() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">accessories</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setAccessories(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">accessories) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">accessories</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= accessories;</span></font></font></div><div align="left"><span style="font-size: 10pt; font-family: 'Courier New';"><font color="#E30000">}</font></span></div></div><div><font color="#E30000">由上可以看到，boolean（非包装类）类型的成员变量是没有get方法的，只有isXXX方法。</font></div><div><font color="#1C3387"><b><br></b></font></div><div><b style="color: rgb(28, 51, 135);">ContractProduct.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ContractProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_PRODUCT_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_PRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productImage&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_IMAGE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productDesc&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_DESC&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;loadingRate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;LOADING_RATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;packingUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PACKING_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cnumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CNUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;outNumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;OUT_NUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;finished&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boolean&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FINISHED&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;grossWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;GROSS_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;netWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NET_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeLength&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_LENGTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeWidth&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_WIDTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeHeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_HEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productRequest&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_REQUEST&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;price&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;amount&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;AMOUNT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cunit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CUNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boxNum&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;BOX_NUM&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EX_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EX_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;noTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NO_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;orderNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt"><i>&quot;accessories&quot;</i></span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt"><i>&quot;boolean&quot;</i></span></font> <font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt"><i>&quot;ACCESSORIES&quot;</i></span></font><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">/&gt;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><br></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contract&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;Contract&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.Factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FACTORY_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">          </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;extCproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inverse</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;true&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cascade</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;all&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">order-by</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_PRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">one-to-many</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.ExtCproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div><b style="color: rgb(28, 51, 135);"><br></b></div><div><b style="color: rgb(28, 51, 135);">ExtCproduct.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ExtCproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXT_CPRODUCT_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXT_CPRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ctype&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CTYPE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;typeName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">formula</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;(select c.NAME from SYS_CODE_B c where c.ORDER_NO=CTYPE and c.PARENT_ID='0104')&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">insert</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">update</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productImage&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_IMAGE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productDesc&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_DESC&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;loadingRate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;LOADING_RATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;packingUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PACKING_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cnumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CNUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;outNumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;OUT_NUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;finished&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boolean&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FINISHED&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;grossWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;GROSS_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;netWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NET_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeLength&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_LENGTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeWidth&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_WIDTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeHeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_HEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productRequest&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_REQUEST&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;price&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;amount&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;AMOUNT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cunit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CUNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boxNum&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;BOX_NUM&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EX_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EX_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;noTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NO_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;orderNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;accessories&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boolean&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ACCESSORIES&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- Associations --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.Factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FACTORY_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.ContractProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_PRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;<br></span></font></font></div><div align="left" style="text-align: -webkit-auto;"><b><font color="#328712">注：</font></b></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">一个生产厂家对应多个合同商品或者合同附件，然而，工厂类对应的映射文件中并没有配置相关的set集合，而合同商品和合同附件对应的配置文件中却配置了many-to-one标签。其实，这是由需求决定的。我们有通过某件合同商品或者合同附件找到其生产厂家的业务需求。但是，没有通过生产厂家找到对应的合同商品或者合同附件的业务需求。</font></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>7、编写PO文件（Contract.java、ContractProduct.java、ExtCproduct.java）</b></font></div><div align="left" style="text-align: -webkit-auto;"><div><b style="color: rgb(28, 51, 135);">Contract.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Set&lt;ContractProduct&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractProduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">offeror</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">signingDate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inputBy</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">checkBy</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inspector</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">totalAmount</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">crequest</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">customName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">shipTime</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">importNum</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">deliveryPeriod</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">remark</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">tradeTerms</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">printStyle</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">oldState</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">state</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">outState</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createBy</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createDept</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createTime</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       ......<br>
}</span></font></div><div><b style="color: rgb(28, 51, 135);"><br></b></div><div><b style="color: rgb(28, 51, 135);">ContractProduct.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contract</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Set&lt;ExtCproduct&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extCproduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productImage</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productDesc</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">loadingRate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">packingUnit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cnumber</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">outNumber</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">finished</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">grossWeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">netWeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeLength</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeWidth</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeHeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productRequest</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">price</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">amount</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cunit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">boxNum</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exPrice</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exUnit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">noTax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">tax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">costPrice</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">costTax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">orderNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">accessories</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       .....<br>
}</span></font></div><div><b style="color: rgb(28, 51, 135);"><br></b></div><div><b style="color: rgb(28, 51, 135);">ExtCproduct.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtCproduct {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractProduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ctype</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">typeName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productImage</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productDesc</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">loadingRate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">packingUnit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cnumber</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">outNumber</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">finished</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">grossWeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">netWeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeLength</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeWidth</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeHeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productRequest</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">price</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">amount</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cunit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">boxNum</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exPrice</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exUnit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">noTax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">tax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">costPrice</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">costTax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">orderNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">accessories</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       .....</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><span style="text-align: -webkit-auto;"><font color="#1C3387"><b>8、编写dao</b></font></span></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">ContractDAO.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">ContractDAO </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> _RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">ContractProductDAO.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProductDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;"><br></b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">ExtContractDAO.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtCproductDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#7F0055" face="Courier New" size="2"><b><br></b></font></div><div align="left"><font color="#1C3387"><b>9、在hibernate.cfg.xml中声明</b></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 购销合同 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/Contract.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/ContractProduct.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/ExtCproduct.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div></div><div align="left"><font color="#1C3387"><b><br></b></font></div><div align="left"><font color="#1C3387"><b>10、在beans.xml中声明</b></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 购销合同 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoContract&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.dao.ContractDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoContractProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.dao.ContractProductDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoExtCproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.dao.ExtCproductDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#1C3387"><b>11、创建Action（ContractAction.java、ContractProductAction.java、ExtCproductAction.java</b></font><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">）</b></div><div align="left"><div><b style="color: rgb(28, 51, 135);">ContractAction.java</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;Contract&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//列表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String list(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;Contract&gt; dataList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from Contract o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;dataList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, dataList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;plist&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向新增页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String tocreate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pcreate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向修改页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toupdate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Contract obj = (Contract) oDao.get(Contract.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pupdate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向查看页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toview(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Contract obj = (Contract) oDao.get(Contract.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pview&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ParseException{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//初始化</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isEmpty</i></span><span style="font-size:10pt">(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId())){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setState(0);            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//0草稿 1已上报待报运</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setCrequest(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getCrequest().replaceFirst(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;deliveryPeriod&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, UtilFuns.</span><span style="font-size:10pt"><i>formatDateTimeCN</i></span><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>dateTimeFormat</i></span><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getDeliveryPeriod()))));</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.deleteAllById(ids, Contract.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//上报      0草稿 1已上报待报运</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String submit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.chstate(1);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//取消      0草稿 1已上报待报运</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String cancelsubmit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.chstate(0);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//修改状态 1正常0停用</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">chstate(Integer value){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//注意分隔符</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Contract contract =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span><span style="font-size:10pt">Set</span> <span style="font-size:10pt">oSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet</span><span style="font-size:10pt">();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;ids.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  contract = (Contract) oDao.get(Contract.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">, ids[i]);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  contract.setState(value);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span><span style="font-size:10pt">oSet.add(contract)</span><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdateAll(oSet);               </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//批量保存</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><div><b><font color="#328712">附：</font></b></div><div><b style="color: rgb(28, 51, 135);">UtilFuns类中的isEmpty方法的代码：</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>static</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">isEmpty</span> <span style="font-size:10pt">(String str){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(str==</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">|| str.equals(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;null&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">) || str.equals(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>true</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>false</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(Exception e){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>false</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left"><span style="font-size: 10pt; font-family: 'Courier New'; text-align: -webkit-auto;"><font color="#E30000">}</font></span></div><div style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;"><font color="#E30000">由上面代码可以看到，当id为null或者为字符串“null”或者为空字符，那么就返回空。</font></span></div><div style="text-align: -webkit-left;"><b style="text-align: -webkit-auto; color: rgb(28, 51, 135);"><br></b></div><div style="text-align: -webkit-left;"><b style="text-align: -webkit-auto; color: rgb(28, 51, 135);">ContractProductAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProductAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;ContractProduct&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向编辑页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toedit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//准备数据 生产厂家</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO factoryDAO = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;Factory&gt; factoryList =</span> <span style="font-size:10pt">factoryDAO.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from Factory o where o.state='1' and o.ctype='1'&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span> <span style="font-size:10pt">;            </span></font><font face="Courier New" size="2"> </font></font></div><div align="left" style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;"><font color="#E30000" face="Courier New" size="2">     </font></span><span style="text-align: -webkit-auto;"><font color="#E30000" face="Courier New" size="2">       </font></span><span style="font-family: 'Courier New'; font-size: 10pt; color: rgb(227, 0, 0);">//state='1' 启用状态</span> <span style="font-family: 'Courier New'; font-size: 10pt; color: rgb(227, 0, 0);">ctype</span><span style="font-family: 'Courier New'; font-size: 10pt; color: rgb(227, 0, 0);">='1'货物的生产厂家</span></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;factoryList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, factoryList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractProductDAO oDao = (ContractProductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContractProduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//得到当前合同下的所有货物</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;ContractProduct&gt; cpList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ContractProduct o where o.contract.id='&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getContract().getId() +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;' order By o.orderNo&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;cpList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, cpList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pedit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存      </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractProductDAO oDao = (ContractProductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContractProduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">toedit();        </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//转向编辑页面</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractProductDAO oDao = (ContractProductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContractProduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.delete(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId(), ContractProduct.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">toedit();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><b style="color: rgb(28, 51, 135);"><br></b></div><div><b style="color: rgb(28, 51, 135);">ExtCproductAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtCproductAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;ExtCproduct&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtCproduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtCproduct();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtCproduct getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向编辑页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">String</span> <span style="font-size:10pt">toedit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//准备数据 生产厂家</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO factoryDAO = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;Factory&gt; factoryList =</span> <span style="font-size:10pt">factoryDAO.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from Factory o where o.state='1' and o.ctype='2'&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span> <span style="font-size:10pt">;            </span></font><font face="Courier New" size="2"> </font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            //state='1' 启用状态</span> <span style="font-size:10pt">ctype</span><span style="font-size:10pt">='2'附件的生产厂家</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;factoryList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, factoryList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExtCproductDAO oDao = (ExtCproductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExtCproduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//得到当前合同下的所有货物</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;ExtCproduct&gt; epList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ExtCproduct o where o.contractProduct.id='&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getContractProduct().getId() +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;' order By o.orderNo&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;dataList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, epList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">&quot;pedit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存      </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExtCproductDAO oDao = (ExtCproductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExtCproduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Arith</span> <span style="font-size:10pt">arith</span> <span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Arith();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//计算金额</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setAmount(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">BigDecimal(Arith.</span><span style="font-size:10pt"><i>mul</i></span><span style="font-size:10pt">(Double.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getCnumber()),</span></font><font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getPrice().doubleValue())));</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//计算合同的总金额</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//...</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">toedit();        </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//转向编辑页面</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExtCproductDAO oDao = (ExtCproductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExtCproduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.delete(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId(), ExtCproduct.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">toedit();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><b><span style="text-align: -webkit-auto;"><font color="#328712">注：</font></span></b></div><div align="left"><font color="#1C3387"><b><span style="text-align: -webkit-auto;">技术要点：如何实现默认值设置？</span></b></font></div><div align="left"><font color="#E30000">数据库字段不设置默认值，那何时设置？<br>
答：新建保存时。<br><br>
Save方法就一个，如何判断新增还是修改？</font></div><div align="left"><font color="#E30000">答：通过页面隐藏域。新增页面无id隐藏域，修改页面有id隐藏域。就可以通过id是否为null来判别。</font><br><img src="陕西杰信商务综合管理平台_files/Image [71].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br><div><b style="color: rgb(28, 51, 135);">ContractAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span> <span style="font-size:10pt">save()</span><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span> <span style="font-size:10pt">ContractDAO</span> <span style="font-size:10pt">oDao = (</span><span style="font-size:10pt">ContractDAO</span><span style="font-size:10pt">)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span><span style="font-size:10pt">UtilFuns</span><span style="font-size:10pt">.isEmpty(model.getId())){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">         model.</span> <span style="font-size:10pt">setState</span><span style="font-size:10pt">(0);         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//草稿</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">    oDao.saveOrUpdate(model);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">   </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list</span><span style="font-size:10pt">();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#1C3387"><b>12、创建合同页面（<span style="text-align: -webkit-auto;">jContractList.jsp、</span><span style="text-align: -webkit-auto;">jContractCreate.jsp、</span><span style="text-align: -webkit-auto;">jContractUpdate.jsp、</span><span style="text-align: -webkit-auto;">jContractView.jsp</span><font style="text-align: -webkit-auto;">）（全码见源代码）</font></b></font></div><div align="left"><font color="#1C3387"><b>入口链接：</b></font></div><div align="left"><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">left.jsp</b></div><div align="left"><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">li</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;/contract/contractAction_list&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">target</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;main&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;aa_1&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">合同管理</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">li</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div></div><font color="#328712"><b>注：</b></font></div><div align="left"><font color="#1C3387"><b>技术要点：列表页面中的字段怎么来的？</b></font></div><div align="left"><font color="#E30000">业务中表的字段很多，列表中无法全部显示，就需要取舍，放哪些字段，哪些不放，怎么确定呢？<br>
·通常是用户提供，通过和用户的交流确定。<br>
·也可根据经验来先行编写，之后再跟用户确定。<br><br>
通常的原则是：<br>
1、重要的字段，客户最想看到的内容放页面上。<br>
2、如果是大段文字的字段，不放在列表页面上。如果客户需要，则进行截断显示。<br><br>
例如：<br>
要显示：产品与封样无明显差异，唛头、标签及包装质量务必符合公司要求。<br>
只显示：“产品与封样无明显差异…”，鼠标移动到文字上时，显示全部内容。</font></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#1C3387"><b>技术要点：如果表字段名使用了系统关键字会如何？</b></font></div><div align="left"><font color="#E30000">页面调用时，使用EL表达式取值时，将得到“意想不到”的结果。${request}得到的是request对象，不是合同表的request字段。那在不修改数据库表的结构的情况下，如果修改呢？</font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [72].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/><font color="#E30000"><br></font><div style="text-align: -webkit-left;"><font color="#E30000"><span style="text-align: -webkit-auto;">答：修改字段映射，修改PO对象，修改页面调用，</span><span style="text-align: -webkit-auto;">改request为crequest。</span></font></div></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [73].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font color="#E30000"><b>（</b><span style="text-align: -webkit-auto;">数据库设计时，感觉会跟关键字重名，就在其前面加个C</span><b style="text-align: -webkit-auto;">）</b></font></div><div align="left"><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;"><br></b></div><div align="left"><font color="#1C3387"><b>13、Struts配置</b></font></div><div align="left"><font color="#1C3387"><b>创建struts-cargo.xml</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">encoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;UTF-8&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contract&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">namespace</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;/contract&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extends</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts-default&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.cargo.contract.ContractAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pview&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/contract/jContractView.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;plist&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/contract/jContractList.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pcreate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/contract/jContractCreate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pupdate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/contract/jContractUpdate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">struts</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">struts.xml</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">include</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">file</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;struts2/struts-cargo.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><br></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">14、测试合同功能</b></div><div><b style="color: rgb(28, 51, 135);">测试列表显示</b></div><div><font color="#E30000">向数据库中插入测试数据</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [74].png" type="image/png" height="110" style="cursor: default;cursor: default;" width="1261"/><img src="陕西杰信商务综合管理平台_files/Image [75].png" type="image/png" height="112" style="cursor: default;cursor: default;" width="807"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [76].png" type="image/png" height="248" style="cursor: default;cursor: default;" width="1058"/></div><div><br></div><div><font color="#1C3387"><b>测试新增</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [77].png" type="image/png" height="482" style="cursor: default;cursor: default;" width="1061"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [78].png" type="image/png" height="280" style="cursor: default;cursor: default;" width="1059"/></div><div><br></div><div><font color="#1C3387"><b>测试修改</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [79].png" type="image/png" height="289" style="cursor: default;cursor: default;" width="1060"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [80].png" type="image/png" height="484" style="cursor: default;cursor: default;" width="1071"/></div><div><br></div><div><font color="#1C3387"><b>测试查看</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [81].png" type="image/png" height="284" style="cursor: default;cursor: default;" width="1059"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [82].png" type="image/png" height="494" style="cursor: default;cursor: default;" width="1067"/></div><div><br></div><div><font color="#1C3387"><b>测试删除</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [83].png" type="image/png" height="284" style="cursor: default;cursor: default;" width="1062"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [84].png" type="image/png" height="254" style="cursor: default;cursor: default;" width="1064"/></div><div><b><font color="#328712">注：</font></b></div><div><font color="#E30000">为了防止表单在Get方式时提交出现乱码问题，在Tomcat的配置文件server.xml中配置URIEncoding属性值为“UTF-8”。</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [85].png" type="image/png" style="cursor: default;cursor: default;"/></div></div></div></div></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="540"/>
<h1>09 购销合同之商品与附件功能实现</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>15、为购销合同添加货物并且列表显示</b></font><div><font color="#1C3387"><b>ContractProductAction.java</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProductAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;ContractProduct&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">ContractProduct</span> <span style="font-size:10pt">getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向编辑页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toedit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据 生产厂家</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            FactoryDAO factoryDAO = (FactoryDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoFactory&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><div><font color="#E30000" face="Courier New" size="2">            </font><span style="font-family: 'Courier New'; font-size: 10pt; color: rgb(227, 0, 0);">//state='1' 启用状态 </span><span style="font-family: 'Courier New'; font-size: 10pt; color: rgb(227, 0, 0);">ctype</span><span style="font-family: 'Courier New'; font-size: 10pt; color: rgb(227, 0, 0);">='1'货物的生产厂家</span></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;Factory&gt; factoryList =</span> <span style="font-size:10pt">factoryDAO.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from Factory o where o.state='1' and o.ctype='1'&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span> <span style="font-size:10pt">;            </span></font><font face="Courier New" size="2"> </font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;factoryList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, factoryList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractProductDAO oDao = (ContractProductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContractProduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//得到当前合同下的所有货物</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;ContractProduct&gt; cpList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ContractProduct o where o.contract.id='&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getContract().getId() +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;' order By o.orderNo&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;cpList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, cpList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pedit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存      </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractProductDAO oDao = (ContractProductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContractProduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">toedit();        </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//转向编辑页面</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><b><font color="#328712">附：</font></b></div><div><font color="#E30000">由于新增和列表页面合并，在编辑方法中toedit，准备列表的数据。</font></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#1C3387"><b>struts-cargo.xml</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractProductAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.cargo.contract.ContractProductAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pedit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/contract/jContractProductCreate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#1C3387"><b>jContractList.jsp</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;button&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;btnContractProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;货物&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">style</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cursor:pointer;&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;formSubmit('/contract/contractProductAction_toedit?contract.id=</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${id}</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>','_self');&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div><b><font color="#1C3387">jContractProductCreate.jsp</font></b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:form</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;nuform&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;post&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;hidden&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contract.id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${contract.id}</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">......</font></div><div align="left"><font color="#328712"><b>注：</b></font></div><div align="left"><font color="#E30000">通过上面的方式传递合同的id，将使在Action中保存货物时，无需关心关联的对象，保存自己即可。</font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><br></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">table</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ec_table&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">border</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;0&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cellspacing</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cellpadding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;0&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableRegion&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">width</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;98%&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableHeader&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">序号</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableHeader&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">货号</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableHeader&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">装率</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableHeader&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">数量</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableHeader&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">包装单位</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableHeader&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">单价</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableHeader&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">操作</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#cpList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">var</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">status</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;line&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;odd&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onmouseover</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;this.className='highlight'&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onmouseout</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;this.className='odd'&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">s:property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#line.index+1&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${productNo}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${loadingRate}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${cnumber}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${packingUnit}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${price}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;button&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;btnDEL&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;删除&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;formSubmit('/contract/contractProductAction_delete?id=</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${id}</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>','_self');&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;button&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;btnOK&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;附件&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;formSubmit('/contract/extCproductAction_toedit?contractProduct.id=</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${id}</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>','_self');&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">table</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">购销合同的“上报”与“取消”功能与生产厂家的“启用”和“停用”功能类似，这里不再赘述。</font></div><div><br></div><div><font color="#1C3387"><b>技术要点：货物新增时，如何知道是为哪个合同添加货物？</b></font></div><div><font color="#E30000">怎样传递参数？<br>
方法有三种方法：<br>
1、通过po对象，利用struts2的model对象<br>
2、在action中声明属性（推荐）<br>
3、直接从request中获取（原始）<br><br>
合同jContractList.jsp列表页面在每条合同信息后增加下面的按钮：<br>
&lt;input type=&quot;button&quot; name=&quot;btnAdd&quot; value=&quot;添加货物&quot;<br>
    onclick=&quot;formSubmit('/contract/contractProductAction_tocreate?contract.id=${id}','_self');&quot;&gt;<br><br>
Action中接参：<br>
1、model对象方式： model.getContract().getId()<br>
2、request方式：String id = request.getParameter(&quot;contract.id&quot;);</font><br></div><div><br></div><div><font color="#1C3387"><b>测试为购销合同添加货物</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [86].png" type="image/png" height="252" style="cursor: default;cursor: default;" width="1063"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [87].png" type="image/png" height="402" style="cursor: default;cursor: default;" width="1055"/></div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">装率就是一个大箱子能够装小包装箱个数的倒数，即装率=箱数/数量。</font></div><div><font color="#E30000"><br></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [88].png" type="image/png" height="432" style="cursor: default;cursor: default;" width="1046"/></div><div><br></div><div><b style="color: rgb(28, 51, 135);">16、为购销合同货物添加附件</b><b style="color: rgb(28, 51, 135);">并且列表显示</b></div><div><b style="color: rgb(28, 51, 135);">ExtCproductAction.java</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//保存      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ExtCproductDAO oDao = (ExtCproductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExtCproduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Arith</span> <span style="font-size:10pt">arith</span> <span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Arith();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//计算金额，这里使用BigDecimal的原因，是因为java中直接对浮点数进行乘除都会产生误差</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setAmount(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">BigDecimal(Arith.</span><span style="font-size:10pt"><i>mul</i></span><span style="font-size:10pt">(Double.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getCnumber()),</span></font><font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getPrice().doubleValue())));</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">toedit();        </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//转向编辑页面</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><b><font color="#328712">附：</font></b></div><div><font color="#E30000">本功能与“为购销合同添加货物”功能类似，这里不再赘述。</font></div><div><b style="color: rgb(28, 51, 135);"><br></b></div><div><b style="color: rgb(28, 51, 135);">测试为购销合同货物添加附件</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [89].png" type="image/png" height="401" style="cursor: default;cursor: default;" width="1047"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [90].png" type="image/png" height="432" style="cursor: default;cursor: default;" width="1043"/></div><div><br></div><div><font color="#1C3387"><b>17、删除购销合同下的货物</b></font></div><div><b style="color: rgb(28, 51, 135);">ContractProductAction.java</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//删除</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ContractProductDAO oDao = (ContractProductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContractProduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      oDao.delete(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId(), ContractProduct.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">toedit();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">jContractList.jsp</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!--</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">     这里，最好将购销合同的id作为参数传递，虽然这里并不是必要的。因为，在跳转到jContractList.jsp之前，model对象中已经存放了此id，并且delete代码执行完是转发到另外一个页面，而不是重定向，所以model对象中得以保留。但是，应该时刻保持传递父对象id的意识，不要中断。否则，一旦没有id，执行类似保存等操作，子对象对应的数据库记录就会变成了僵尸数据(外键丢失)。</font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">--&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;button&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;btnDEL&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;删除&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;formSubmit('/contract/contractProductAction_delete?contract.id={contract.id}&amp;id=</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">${id}</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>','_self');&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#328712"><b>附：</b></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">“删除购销合同货物下的附件”功能与此功能类似，这里不再赘述。</font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000"><br></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>测试删除购销合同下的货物</b></font></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [91].png" type="image/png" height="432" style="cursor: default;cursor: default;" width="1050"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [92].png" type="image/png" height="407" style="cursor: default;cursor: default;" width="1048"/></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><br></font></div><div align="left" style="text-align: -webkit-auto;"><b><font color="#1C3387">18、统计合同下货物和附件的数据量</font></b></div><div align="left" style="text-align: -webkit-auto;"><div><b style="color: rgb(28, 51, 135);">jContractList.jsp</b></div></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractProduct.size()&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">/</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:set</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">var</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;extNumuber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;0&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">s:set</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:iterator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#cp.contractProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">var</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;xcp&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">    &lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:set</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">var</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;extNumuber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#extNumuber+#xcp.extCproduct.size&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:set</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:iterator</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#extNumuber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [93].png" type="image/png" height="249" style="cursor: default;cursor: default;" width="1065"/></div><div align="left"><br></div><div align="left"><font color="#1C3387"><b>19、复制合同</b></font></div><div align="left"><font color="#E30000">原理：得到要复制的合同，创建新合同对象，get要复制的合同的属性，set到新合同的属性中。</font></div><div align="left"><font color="#1C3387"><b>ContractAction.java（方案一）</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String copy(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/*</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * 1. 获取数据</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * 2. 设置get/set，</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * 3. 保存</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       *</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Contract oldContract = (Contract) oDao.get(Contract.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Contract newContext =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      newContext.setCheckBy(oldContract.getCheckBy());</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      newContext.setContractNo(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;[复制]&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+oldContract.getContractNo());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      newContext.setCustomName(oldContract.getCustomName());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//初始化</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      newContext.setState(0);       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//0草稿</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      newContext.setOutState(0);    </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//出货状态</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获取货物</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Set&lt;ContractProduct&gt; cpSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet()</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      ContractProduct newContractProduct;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ContractProduct cp:oldContract.getContractProduct()){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct.setProductNo(cp.getProductNo());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct.setProductDesc(cp.getProductDesc());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct.setCnumber(cp.getCnumber());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct.setPrice(cp.getPrice());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct.setAmount(cp.getAmount());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//初始化</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct.setOutNumber(0);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定关系</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct.setContract(newContext);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            cpSet.add(newContractProduct);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获取附件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Set&lt;ExtCproduct&gt; epSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet()</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ExtCproduct newExtCproduct;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ExtCproduct ep:cp.getExtCproduct()){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  newExtCproduct =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtCproduct();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  newExtCproduct.setCnumber(ep.getCnumber());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  newExtCproduct.setPrice(ep.getPrice());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//初始化</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  newExtCproduct.setOutNumber(0);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定关系</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  newExtCproduct.setContractProduct(newContractProduct);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  epSet.add(newExtCproduct);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newContractProduct.setExtCproduct(epSet);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      newContext.setContractProduct(cpSet);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      oDao.saveOrUpdate(newContext);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">ContractAction.java（方案二）</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//复制</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String copy(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Contract contract = (Contract) oDao.get(Contract.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      contract.setId(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      contract.setContractNo(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;[复制]&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+contract.getContractNo());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      oDao.saveOrUpdate(contract);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div align="left"><div><b style="color: rgb(28, 51, 135);">测试复制功能</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [94].png" type="image/png" height="254" style="cursor: default;cursor: default;" width="1063"/><br><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [95].png" type="image/png" height="281" style="cursor: default;cursor: default;" width="1058"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [96].png" type="image/png" height="474" style="cursor: default;cursor: default;" width="1054"/></div><div><img src="陕西杰信商务综合管理平台_files/Image [97].png" type="image/png" height="305" style="cursor: default;cursor: default;" width="1058"/></div></div></div></div></div></div>
</div>
<hr>
<a name="580"/>
<h1>10 使用POI技术生成出货表</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">1、业务逻辑</b></div><div><font color="#E30000">根据合同和指定的船期月份，统计当月的出货情况。</font></div><div><br></div><div><font color="#1C3387"><b>2、技术要点</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [98].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>3、添加日期控件</b></font></div><div><font color="#1C3387"><b>OutProductAction.java</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">OutProductAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inputDate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getInputDate() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inputDate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setInputDate(String inputDate) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">inputDate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= inputDate;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转入编辑页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">String toedit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pedit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><font color="#1C3387"><b>jOutProduct.jsp</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">script</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;text/javascript&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">src</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;../../js/datepicker/WdatePicker.js&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">script</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><br></span></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;columnTitle_mustbe&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">船期年月：</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">          </span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableContent&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">               </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;text&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">style</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;width:90px;&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;inputDate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;&quot;</i></span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font><font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;WdatePicker({el:this,isShowOthers:true,dateFmt:'yyyy-MM'});&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">          </span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     &lt;/ td&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;save&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;#&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">onclick</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&quot;formSubmit('/outproduct/outProductAction_print','_self');&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">打印</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div></div></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><br></span></font></div><div><font color="#1C3387"><b>struts-cargo.xml</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;outproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">namespace</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;/outproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extends</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts-default&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;outProductAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.cargo.outproduct.OutProductAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pedit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/</span><span style="font-size:10pt">outproduct</span><span style="font-size:10pt">/jOutProduct.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><font color="#1C3387"><b>jContractList.jsp</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;new&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;#&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">onclick</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&quot;formSubmit('/outproduct/outProductAction_toedit','_self');this.blur();&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">出货表</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">li</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"><br></span></font></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>测试日期控件</b></font></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [99].png" type="image/png" height="282" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1066"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [100].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>4、POI基本操作</b></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>OutProductAction.java</b></font></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//打印</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">print()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Exception{</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//1、创建excel文件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFWorkbook wb =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFWorkbook();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//2、创建工作簿</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFSheet sheet=wb.createSheet();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//3、创建行对象</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFRow row = sheet.createRow(10);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//第11行</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//4、创建单元格</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFCell cell = row.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)5); //第6列</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//5、设置单元格内容</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt">cell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;我是单元格&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//6、设置样式</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font></font><span style="background-color: rgb(232, 242, 254); font-size: 10pt; font-family: 'Courier New'; text-align: -webkit-auto;"><font color="#E30000">cell.setCellStyle(title(wb));</font></span></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//7、生成excel文件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      FileOutputStream fOut =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">FileOutputStream(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;d:\\testpoi.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      wb.write(fOut);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      fOut.close();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFCellStyle title(HSSFWorkbook wb){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFCellStyle curStyle = wb.createCellStyle();  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建样式</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFFont curFont=wb.createFont();</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建字体</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setCharSet(HSSFFont.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>DEFAULT_CHARSET</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);      </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//设置中文字体，那必须还要再对单元格进行编码设置</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setFontName(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;宋体&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setFontHeightInPoints((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)16);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setBoldweight(HSSFFont.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BOLDWEIGHT_BOLD</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setFont(curFont);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定字体</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setAlignment(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>ALIGN_CENTER</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                  </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//横向居中</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setVerticalAlignment(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>VERTICAL_CENTER</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);      </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//纵向居中</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderTop(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderLeft(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderRight(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderBottom(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">curStyle;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>测试</b></font></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [101].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [102].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left" style="text-align: -webkit-auto;"><font color="#328712"><b>注：</b></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">①设置单元格样式时，如果执行<span style="background-color: rgb(232, 242, 254); font-family: 'Courier New'; font-size: 13px;">cell.setCellStyle(title(wb));</span><span style="background-color: rgb(232, 242, 254); font-family: 'Courier New'; font-size: 13px;">cell.setCellStyle(box(wb));</span>。那么，只有最后一句样式设置生效，前面所有的设置都将无效。因此，单元格设置样式时不能多次设置，一旦单元格有任何样式的变动，都要重新写一个方法，而不能通过执行多个样式方法达到同样的效果，这是POI的缺点之一。</font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">②POI后期版本与前期版本不兼容，本项目选择3.0.2-Final版。</font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">③之所以选用POI做报表原因有三：1、其他报表工具需要公司购买，提高了成本。2、需要在IE浏览器上装插件，不利于用户操作。3、公司工作人员已经能够熟练使用Excel。</font></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><font color="#328712"><b>附：</b></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">为以上代码添加下载功能。</font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>DownloadBaseAction.java</b></font></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">/**</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>@param</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">file 要下载的文件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>@param</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">returnName 返回的文件名</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>@param</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">response HttpServletResponse</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>@param</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">delFlag 是否删除文件</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">prototypeDowload(File file,String returnName,HttpServletResponse response,</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">delFlag){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 下载文件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      FileInputStream inputStream =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ServletOutputStream outputStream =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(!file.exists())</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            response.reset();  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置响应类型</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            response.setContentType(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;application/octet-stream&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);  </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置响应的文件名称,并转换成中文编码</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            returnName = response.encodeURL(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String(returnName.getBytes(),</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;iso8859-1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">));     </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//保存的文件名,必须和页面编码一致,否则乱码</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            response.addHeader(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Content-Disposition&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;attachment;filename=&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+returnName); </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//将文件读入响应流</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            inputStream =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">FileInputStream(file);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            outputStream = response.getOutputStream();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length = 1024;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">readLength=0;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>byte</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">buf[] =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>byte</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">[1024];</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            readLength = inputStream.read(buf, 0, length);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>while</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(readLength != -1) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  outputStream.write(buf, 0, readLength);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  readLength = inputStream.read(buf, 0, length);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            e.printStackTrace();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  outputStream.flush();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(IOException e) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  outputStream.close();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(IOException e) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  inputStream.close();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(IOException e) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//删除原文件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(delFlag) {                       </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  file.delete();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><div><b style="color: rgb(28, 51, 135);">OutProductAction.java</b></div></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//8下载</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">HttpServletResponse response = ServletActionContext.</span> <span style="font-size:10pt"><i>getResponse</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">DownloadBaseAction down =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">DownloadBaseAction();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">down.prototypeDowload(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">File(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;d:\\testpoi.xls&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">),</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;testpoi.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">, response,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>true</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">测试</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [103].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>5、POI基本技巧</b></font></div><div><font color="#E30000">1）创建或者打开excel文件（HSSFWorkbook）<br>
HSSFWorkbook wb = new HSSFWorkbook();          //新建<br>
HSSFWorkbook wb = new HSSFWorkbook(new FileInputStream(xlsFile));          //打开<br><br>
2）创建工作簿 sheet /获得<br>
HSSFSheet sheet = wb.createSheet();               //新建<br>
HSSFSheet sheet = wb.getSheetAt(0);               //打开第一个工作簿<br><br>
3）合并单元格<br>
Region region = null;                         //合并单元格<br>
region = new Region(0, (short)(1), 0, (short)9);<br>
sheet.addMergedRegion(region);                    //绑定<br><br>
4）创建行对象<br>
HSSFRow nRow = sheet.createRow(行);               //行开始值为0，<br>
nRow.setHeightInPoints(36f);                    //设置行高<br><br>
5）创建单元格<br>
HSSFCell nCell = nRow.createCell((short)列值);          //列开始值为0，<br><br>
6）写内容<br>
nCell.setCellValue(&quot;内容&quot;);<br><br>
7）设置样式<br>
HSSFCellStyle curStyle = wb.createCellStyle();          //创建样式<br>
HSSFFont curFont = wb.createFont();                         //创建字体<br>
curFont.setCharSet(HSSFFont.DEFAULT_CHARSET);                         //设置中文字体，那必须还要再对单元格进行编码设置<br>
curFont.setFontName(&quot;黑体&quot;);<br>
curFont.setFontHeightInPoints((short)12);<br>
curStyle.setFont(curFont);                                   //绑定字体<br>
         <br>
curStyle.setAlignment(HSSFCellStyle.ALIGN_CENTER);                    //横向居中<br>
curStyle.setVerticalAlignment(HSSFCellStyle.VERTICAL_CENTER);     //纵向居中<br>
         <br>
curStyle.setBorderTop(HSSFCellStyle.BORDER_THIN);<br>
curStyle.setBorderLeft(HSSFCellStyle.BORDER_THIN);<br>
curStyle.setBorderRight(HSSFCellStyle.BORDER_THIN);<br>
curStyle.setBorderBottom(HSSFCellStyle.BORDER_THIN);    <br><br>
注意：样式最大的问题，样式不能继承，不能覆盖。<br><br>
8）生成excel文件<br>
FileOutputStream fOut = new FileOutputStream(outDir + &quot;outproduct.xls&quot;);          //创建excel文件结构<br>
wb.write(fOut);          //写入内容    <br>
fOut.close();          //关闭<br><br>
9）下载<br>
HttpServletResponse response = ServletActionContext.getResponse();<br>
DownloadBaseAction down = new DownloadBaseAction();<br>
down.prototypeDowload(new File(outDir + &quot;outproduct.xls&quot;), &quot;testpoi.xls&quot;, response, true);<br><br>
10）设置标题：<br>
将第一行作为标题，即每页都打印此行 sheetN,startCol,stopCol,startRow,stopRow<br>
wb.setRepeatingRowsAndColumns(0,1,8,0,1);<br><br>
11）页脚：<br>
HSSFFooter footer = sheet.getFooter();<br>
footer.setRight(&quot;第&quot;+HSSFFooter.page()+&quot;页 共&quot;+HSSFFooter.numPages()+&quot;页     &quot;);     //页数<br></font></div><div><br></div><div><font color="#1C3387"><b>6、使用POI生成出货表（使用模板生成出货表）</b></font></div><div><font color="#1C3387"><b>UtilFuns.java</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>static</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span> <span style="font-size:10pt; background:#d4d4d4">getROOTPath</span> <span style="font-size:10pt">(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      UtilFuns uf =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">UtilFuns();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">uf.getClass().getResource(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).getPath().replace(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;/WEB-INF/classes/&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;/&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).substring(1);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="text-align: -webkit-auto; color: rgb(28, 51, 135);">PioUtils.java</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">// 计算行高度，实现行自动适应高度 defaultRowHeight = 12.00f; //每一行的高度指定   目前只实现根据回车多行来判断，不能根据单元格宽度自动回行来判断</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>float</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">getCellAutoHeight(String str,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>float</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">defaultRowHeight) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(str ==</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">defaultRowHeight;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>float</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">height = 0.00f;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">n = 0;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(str.endsWith(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;\n&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            n = str.split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\n&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 回车个数</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            n = str.split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\n&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ 1;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 回车个数</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      height = defaultRowHeight * n;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">height;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 计算</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="text-align: -webkit-auto; color: rgb(28, 51, 135);">OutProductAction.java</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//打印</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">print()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Exception{</span></font></font></div><div align="left"><font color="#E30000"><span style="font-family: 'Courier New'; font-size: 10pt;">     </span> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">curRow=0;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">//当前行</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">colNo=1;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">//当前列</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//得到模板路径</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      String rootPath = UtilFuns.</span> <span style="font-size:10pt"><i>getROOTPath</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String xlsFile = rootPath +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;/make/xlsprint/tOUTPRODUCT.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//新建临时目录，存放excel     /root/web/</span> <span style="font-size:10pt">tmpfile</span><span style="font-size:10pt">/</span><span style="font-size:10pt">yyyy</span> <span style="font-size:10pt">-</span><span style="font-size:10pt">mm</span><span style="font-size:10pt">-</span><span style="font-size:10pt">dd</span><span style="font-size:10pt">/...</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String outDir = rootPath +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;/web/tmpfile/&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ UtilFuns.</span><span style="font-size:10pt"><i>sysDate</i></span><span style="font-size:10pt">()+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;/&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      File tmpDir =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">File(outDir);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(!tmpDir.exists()){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            tmpDir.mkdirs();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//读取excel文件模板</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFWorkbook wb =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFWorkbook(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">FileInputStream(xlsFile));</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获取工作簿</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFSheet sheet=wb.getSheetAt(0);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><div align="left" style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;"><font color="#3F7F5F" face="Courier New" size="2"> </font> <font color="#E30000" face="Courier New" size="2">   </font></span><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">//设置标题</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      wb.setRepeatingRowsAndColumns(0,1,9,0,1); </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// sheetN,startCol,stopCol,startRow,stopRow</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//页脚</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFFooter footer = sheet.getFooter();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      footer.setRight(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;第&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+HSSFFooter.</span><span style="font-size:10pt"><i>page</i></span><span style="font-size:10pt">()+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;页 共&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+HSSFFooter.</span><span style="font-size:10pt"><i>numPages</i></span><span style="font-size:10pt">()+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;页     &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">); </span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2">//页数</font></font></div><div align="left"><font color="#3F7F5F" face="Courier New" size="2"><br></font></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//出货表标题第1行，1~9列合并</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Region region=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      region=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Region(0,(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)1,0,(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)9); </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      sheet.addMergedRegion(region);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置字体</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      PioUtil pioUtil=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PioUtil();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFFont defaultFont10=pioUtil.defaultFont10(wb);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置行高</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFRow nRow=sheet.createRow(curRow);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nRow.setHeightInPoints(36f);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置单元格内容</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFCell nCell=nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)1);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置一行中的单元格</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inputDate</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.replace(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;-0&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).replace(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;年&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;月份出货表&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置样式</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellStyle(title(wb));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      curRow++;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      curRow++;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nRow=sheet.createRow(curRow);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//取数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ContractProductDAO oDao =(ContractProductDAO)</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContractProduct&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ContractProduct cp=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String _extProducts=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>float</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">height=0;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      List&lt;ContractProduct&gt; oList=</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ContractProduct o where o.contract.shipTime like '&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inputDate</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;%'&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;oList.size();i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            colNo=1;  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//初始化列变量</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            cp=oList.get(i); </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//得到每个货物</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nRow=sheet.createRow(curRow);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span><span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(cp.getContract().getCustomName())</span><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ......</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            _extProducts =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;      </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//清空值</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ExtCproduct ep:cp.getExtCproduct()){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  _extProducts += ep.getTypeName() + UtilFuns.</span> <span style="font-size:10pt"><i>newLine</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            _extProducts = UtilFuns.</span> <span style="font-size:10pt"><i>DelLastChar</i></span><span style="font-size:10pt">(_extProducts);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//根据内容自动设置高度</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            height = pioUtil.</span> <span style="font-size:10pt; background:#d4d4d4">getCellAutoHeight</span><span style="font-size:10pt">(_extProducts, 12f);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nRow.setHeightInPoints(height);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isEmpty</i></span><span style="font-size:10pt">(_extProducts)){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span> <span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;无&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;                       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//附件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span> <span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(_extProducts)</span><span style="font-size:10pt">;         </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//附件</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellValue(cp.getContract().getDeliveryPeriod());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellValue(cp.getContract().getShipTime());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(cp.getContract().getTradeTerms())</span><span style="font-size:10pt">; </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            curRow++;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//生成excel文件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      FileOutputStream fOut =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">FileOutputStream(outDir +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;outproduct.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建excel文件结构</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      wb.write(fOut);         </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      fOut.close();     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//下载</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HttpServletResponse response = ServletActionContext.</span> <span style="font-size:10pt"><i>getResponse</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      DownloadBaseAction down =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">DownloadBaseAction();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      down.prototypeDowload(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">File(outDir +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;outproduct.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">),</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;testpoi.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">, response,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>true</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFCellStyle title(HSSFWorkbook wb){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFCellStyle curStyle = wb.createCellStyle();  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建样式</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFFont curFont=wb.createFont();</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建字体</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setCharSet(HSSFFont.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>DEFAULT_CHARSET</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                           </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置中文字体，那必须还要再对单元格进行编码设置</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setFontName(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;宋体&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setFontHeightInPoints((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)16);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setBoldweight(HSSFFont.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BOLDWEIGHT_BOLD</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setFont(curFont);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定字体</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setAlignment(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>ALIGN_CENTER</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//横向居中</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setVerticalAlignment(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>VERTICAL_CENTER</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);      </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//纵向居中</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">curStyle;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> * 设置内容的样式和字体</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>@param</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">wb</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>@return</b></span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFCellStyle</span> <span style="font-size:10pt">subtitle(HSSFWorkbook wb)</span><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFCellStyle curStyle = wb.createCellStyle();        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建样式</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFFont curFont = wb.createFont();                         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建字体</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setCharSet(HSSFFont.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>DEFAULT_CHARSET</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                           </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置中文字体，那必须还要再对单元格进行编码设置</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setFontName(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;黑体&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setFontHeightInPoints((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)12);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setFont(curFont);                                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定字体</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setAlignment(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>ALIGN_CENTER</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//横向居中</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setVerticalAlignment(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>VERTICAL_CENTER</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);      </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//纵向居中</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderTop(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderLeft(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderRight(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderBottom(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">curStyle;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#1C3387"><b>模板</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [104].png" type="image/png" height="200" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="895"/></div><div align="left"><br></div><div align="left"><font color="#328712"><b>附：</b></font></div><div align="left"><font color="#E30000">①Excel能够存储的最大数据量？</font></div><div align="left"><font color="#E30000">Excel2003（列：255，行：65535）</font></div><div align="left"><font color="#E30000">Excel2007（列：16384，行：1048576） </font></div><div align="left"><font color="#E30000">②在设置单元格高度的时候，可以先调整Excel的单元格高度，然后获取数据，再在程序中进行设置。</font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [105].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [106].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font color="#E30000">③如果POI打印时报字体过多</font></div><div><span style="color: rgb(227, 0, 0);">1）把字体对象的创建放到工具类中，这样执行完之后就可以释放。</span><br style="color: rgb(227, 0, 0);"><span style="color: rgb(227, 0, 0);">2）将字体对象设置为参数，样式设置为参数（推荐）。</span></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><font color="#1C3387"><b>测试</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [107].png" type="image/png" height="444" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1058"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [108].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [109].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [110].png" type="image/png" height="507" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1130"/></div><div align="left"><br></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [111].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><font color="#328712"><b>附：</b></font></div><div align="left"><font color="#E30000">不使用模板生成出货表的代码如下：</font></div><div align="left"><div><b style="text-align: -webkit-auto; color: rgb(28, 51, 135);">OutProductAction.java</b></div></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//打印</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">print()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">IOException{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">curRow = 0;         </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//当前行</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">colNo = 1;          </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//当前列</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建excel文件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFWorkbook wb =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFWorkbook();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建工作簿</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFSheet sheet = wb.createSheet();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">      //设置标题</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      wb.setRepeatingRowsAndColumns(0,1,9,0,1); </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// sheetN,startCol,stopCol,startRow,stopRow</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//页脚</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFFooter footer = sheet.getFooter();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      footer.setRight(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;第&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+HSSFFooter.</span><span style="font-size:10pt"><i>page</i></span><span style="font-size:10pt">()+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;页 共&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+HSSFFooter.</span><span style="font-size:10pt"><i>numPages</i></span><span style="font-size:10pt">()+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;页     &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">); </span></font><font face="Courier New" size="2"> //页数</font></font></div><div align="left"><font color="#3F7F5F" face="Courier New" size="2"><br></font></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//标题</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Region region =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;                           </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//合并单元格</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      region =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Region(0, (</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)(1), 0, (</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)9);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      sheet.addMergedRegion(region);                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">      //设置字体</font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      PioUtil pioUtil =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PioUtil();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFFont defaultFont10 = pioUtil.defaultFont10(wb);               </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置字体</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFRow nRow = sheet.createRow(curRow);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nRow.setHeightInPoints(36f);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFCell nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)1);           </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inputDate</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.replace(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;-0&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).replace(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;年&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;月份出货表&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//2013-08   2013-12</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> </font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      //设置样式</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellStyle(title(wb));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">     </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//标题头</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      curRow++;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nRow = sheet.createRow(curRow);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nRow.setHeightInPoints(26.25f);           </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置行高</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      sheet.setColumnWidth((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)(colNo-1), (</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)(300*0.5));   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//设置A列宽度为宽度*300，从而获取像素值</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      sheet.setColumnWidth((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo, (</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)(300*25.75));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;客人&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellStyle(subtitle(wb));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ......</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;贸易条款&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellStyle(subtitle(wb));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//内容</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      curRow++;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nRow = sheet.createRow(curRow);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//取数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ContractProductDAO oDao = (ContractProductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContractProduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ContractProduct cp =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String _extProducts =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>float</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">height = 0;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      List&lt;ContractProduct&gt; oList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ContractProduct o where o.contract.shipTime like '&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inputDate</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;%'&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;oList.size();i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            colNo = 1;                          </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//初始化列变量</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            cp = oList.get(i);                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//得到每个货物</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nRow = sheet.createRow(curRow);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(cp.getContract().getCustomName())</span><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ......</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(cp.getFactory().getFactoryName())</span><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            _extProducts =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;      </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//清空值</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ExtCproduct ep:cp.getExtCproduct()){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  _extProducts += ep.getTypeName() + UtilFuns.</span> <span style="font-size:10pt"><i>newLine</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            _extProducts = UtilFuns.</span> <span style="font-size:10pt"><i>DelLastChar</i></span><span style="font-size:10pt">(_extProducts);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            height = pioUtil.getCellAutoHeight(_extProducts, 12f);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nRow.setHeightInPoints(height);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isEmpty</i></span><span style="font-size:10pt">(_extProducts)){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span> <span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;无&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;                       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//附件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span> <span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(_extProducts)</span><span style="font-size:10pt">;         </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//附件</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellValue(cp.getContract().getDeliveryPeriod());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellValue(cp.getContract().getShipTime());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            nCell = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)colNo++);  </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt">nCell.</span><span style="font-size:10pt">setCellValue</span><span style="font-size:10pt">(cp.getContract().getTradeTerms())</span><span style="font-size:10pt">; </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            nCell.setCellStyle(pioUtil.notehv10_BorderThin(wb, defaultFont10));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            curRow++;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//生成excel文件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      FileOutputStream fOut =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">FileOutputStream(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;d:\\testpoi.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//创建excel文件结构</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      wb.write(fOut);         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//写入内容  </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      fOut.close();           </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//关闭</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//下载</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HttpServletResponse response = ServletActionContext.</span> <span style="font-size:10pt"><i>getResponse</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      DownloadBaseAction down =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">DownloadBaseAction();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      down.prototypeDowload(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">File(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;d:\\testpoi.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">),</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;testpoi.xls&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, response,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>true</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div></div></div></div>
</div>
<hr>
<a name="660"/>
<h1>11 使用POI技术生成购销合同</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、购销合同</b></font><div><img src="陕西杰信商务综合管理平台_files/Image [112].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><img src="陕西杰信商务综合管理平台_files/Image [113].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>2、POI重点操作</b></font></div><div><font color="#E30000">①分页<br>
sheet.setRowBreak(当前行);     //设置分页符<br><br></font></div><div><font color="#E30000">②怎么插入一个图片<br>
HSSFPatriarch patriarch = sheet.createDrawingPatriarch();          //add picture<br>
pioUtil.setPicture(wb, patriarch, rootPath+&quot;make/xlsprint/logo.jpg&quot;, curRow, 2, curRow+4, 2);<br><br>
③怎么插入一条线<br>
pioUtil.setLine(wb, patriarch, curRow, 2, curRow, 8);     //draw line<br><br>
④设置数值类型（之所以设置某个单元格为数值类型，是因为其他单元格的数值是基于此单元格的数值计算出来的）<br>
nCell.setCellType(HSSFCell.CELL_TYPE_NUMERIC);<br><br>
⑤设置前导符<br>
HSSFDataFormat format = wb.createDataFormat();<br>
return format.getFormat(&quot;\&quot;￥\&quot;#,###,##0.00&quot;); // 设置格式<br><br>
⑥设置公式<br>
nCell.setCellType(HSSFCell.CELL_TYPE_FORMULA);<br>
nCell.setCellFormula(&quot;F&quot;+String.valueOf(curRow)+&quot;*H&quot;+String.valueOf(curRow));</font></div><div><font color="#E30000"><br>
nCell.setCellFormula(&quot;SUM(I&quot;+String.valueOf(curRow-4)+&quot;:I&quot;+String.valueOf(curRow-1)+&quot;)&quot;);</font><br></div><div><br></div><div><font color="#1C3387"><b>3、实现代码</b></font><b style="color: rgb(28, 51, 135); text-align: -webkit-left;">（这里只列出部分重要代码，全码请见源代码）</b></div><div><font color="#1C3387"><b>FileUtil.java</b></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">/* 目录下已经有同名文件,则文件重命名,增加文件序号 add by</span> <span style="font-size: 10pt;">tony</span> <span style="font-size: 10pt;">20110712 */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String newFile(String sPath, String sFile){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String newFileName =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String withoutExt =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      File curFile =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">File(sPath +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\\&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ sFile);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(curFile.exists()) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">counter = 1; curFile.exists(); counter++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  withoutExt =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getNameWithoutExtension(curFile.getName());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(withoutExt.endsWith(counter-1 +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;)&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        withoutExt = withoutExt.substring(0,withoutExt.indexOf(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">));            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//idea</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            newFileName = withoutExt +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ counter +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;)&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;.&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ getFileExt(curFile.getName());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            curFile =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">File(sPath +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\\&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ newFileName);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">        }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            newFileName = curFile.getName();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">newFileName;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><b><font color="#328712">注：</font></b></div><div align="left"><font color="#E30000">此方法是在生成临时文件的时候防止文件重命名而调用的方法。</font></div><div align="left"><b style="color: rgb(50, 135, 18);">附：</b></div><div align="left"><font color="#E30000">购销合同模板（只是设置好了每一列的宽度）</font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [114].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left"><font color="#E30000"><br></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">①以下代码是为了将每页的信息放入一个map结构中，将多页的信息放入一个ArrayList结构中，以供后面生成报表使用。</b></div></div><div align="left"><font color="#1C3387"><b>ContractPrint.java</b></font></div><div align="left"><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">/*</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> * response 打印输出到response中，直接下载</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> * */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">print(String contractId, HttpServletResponse response, ContractProductDAO oDao, ContractDAO pDao)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Exception{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//相同厂家的信息一起打印</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      List&lt;ContractProduct&gt; oList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ContractProduct o where o.contract.id='&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+contractId+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;' order by o.factory.id,o.orderNo&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      UtilFuns utilFuns =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">UtilFuns();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String rootPath =</span> <span style="font-size:10pt">utilFuns.</span><span style="font-size:10pt"><i>getROOTPath</i></span><span style="font-size:10pt">()</span><span style="font-size:10pt">;                                     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获取虚拟路径</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String tempXlsFile = rootPath+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;make/xlsprint/tCONTRACT.xls&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获取模板文件</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      FileUtil fu =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">FileUtil();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String sPath =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;/web/tmpfile/&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span><span style="font-size:10pt">utilFuns.</span><span style="font-size:10pt"><i>sysDate</i></span> <span style="font-size:10pt">()</span><span style="font-size:10pt">+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;/&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//临时目录</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt">fu.</span><span style="font-size:10pt"><i>makeDir</i></span><span style="font-size:10pt">(rootPath+sPath)</span> <span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String sFile = fu.newFile(rootPath+sPath,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;contract.xls&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);              </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//防止文件并发访问</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      String outFile = rootPath+sPath+sFile;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Contract contract = (Contract)pDao.get(Contract.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">, contractId);            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//获得合同信息</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//填写每页的内容，之后在循环每页读取打印</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Map&lt;String,String&gt; pageMap =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      List&lt;</span> <span style="font-size:10pt">Map</span><span style="font-size:10pt">&gt; pageList =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ArrayList()</span> <span style="font-size:10pt">;                 </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//打印页</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ContractProduct oProduct =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String stars =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String oldFactory =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;oList.size();i++){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oProduct = oList.get(i);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashMap()</span><span style="font-size:10pt">;      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//每页的内容</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Offeror&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;收 购 方：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ contract.getOfferor());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Factory&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;生产工厂：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ oProduct.getFactory().getFullName());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ContractNo&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;合 同 号：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ contract.getContractNo());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Contractor&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;联 系 人：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ oProduct.getFactory().getContractor());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SigningDate&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;签单日期：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+UtilFuns.</span><span style="font-size:10pt"><i>formatDateTimeCN</i></span> <span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>dateTimeFormat</i></span><span style="font-size:10pt">(contract.getSigningDate())));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Phone&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;电    话：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ oProduct.getFactory().getPhone());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;InputBy&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;制单：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ contract.getInputBy());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;CheckBy&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;审单：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ utilFuns.fixSpaceStr(contract.getCheckBy(),26)+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;验货员：&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+</span><span style="font-size:10pt">utilFuns.</span><span style="font-size:10pt"><i>convertNull</i></span><span style="font-size:10pt">(oProduct.getFactory().getInspector())</span><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//pageMap.put(&quot;TotalAmount&quot;, String.valueOf(contract.getTotalAmount().doubleValue()));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//pageMap.put(&quot;Remark&quot;, &quot;  &quot;+contract.getRemark());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Request&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;  &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+contract.getCrequest());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ProductImage&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, oProduct.getProductImage());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ProductDesc&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, oProduct.getProductDesc());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Cnumber&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, String.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(oProduct.getCnumber().doubleValue()));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(oProduct.getPackingUnit().equals(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;PCS&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;PackingUnit&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;只&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(oProduct.getPackingUnit().equals(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;SETS&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;PackingUnit&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;套&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Price&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, String.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(oProduct.getPrice().doubleValue()));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//pageMap.put(&quot;Amount&quot;, String.valueOf(oProduct.getAmount().doubleValue()));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ProductNo&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, oProduct.getProductNo());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oldFactory = oProduct.getFactory().getFactoryName();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(contract.getPrintStyle().equals(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;2&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  i++;  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//读取第二个货物信息</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(i&lt;oList.size()){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        oProduct = oList.get(i);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(oProduct.getFactory().getFactoryName().equals(oldFactory)){      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//厂家不同另起新页打印，除去第一次的比较</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                              </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ProductImage2&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, oProduct.getProductImage());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ProductDesc2&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, oProduct.getProductDesc());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Cnumber2&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, String.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(oProduct.getCnumber().doubleValue()));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Price2&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, String.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(oProduct.getPrice().doubleValue()));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//pageMap.put(&quot;Amount2&quot;, String.valueOf(oProduct.getAmount().doubleValue()));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ProductNo2&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, oProduct.getProductNo());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              i--;  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//tip:list退回</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ProductNo2&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);    </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//后面依据此判断是否有第二个货物</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            stars =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">j=0;j&lt;contract.getImportNum();j++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  stars +=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;★&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            pageMap.put(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ContractDesc&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, stars+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot; 货物描述&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            pageList.add(pageMap);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }    </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      ......</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#1C3387"><b>②设置图片</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [115].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left"><font color="#1C3387"><b>PioUtil.java</b></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">// 指定图片类型为</span> <span style="font-size: 10pt;">jpg</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setPicture(HSSFWorkbook wb, HSSFPatriarch patriarch,</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String pic,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">iRowStart,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">iColStart,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">iRowStop,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">iColStop)</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">IOException {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 判断文件是否存在</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      File imgFile =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">File(pic);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(imgFile.exists()) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 图片处理</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ByteArrayOutputStream byteArrayOut =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ByteArrayOutputStream();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            BufferedImage bufferImg = ImageIO.</span> <span style="font-size:10pt"><i>read</i></span><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">File(pic));</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ImageIO.</span> <span style="font-size:10pt"><i>write</i></span><span style="font-size:10pt">(bufferImg,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;jpg&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, byteArrayOut);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 左,上(0-255),右(0-1023),下</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            HSSFClientAnchor anchor =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFClientAnchor(20, 1, 1018, 0,</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        (</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">) (iColStart), iRowStart, (</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">) (iColStop),</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        iRowStop);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            patriarch.createPicture(anchor, wb.addPicture(byteArrayOut</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        .toByteArray(), HSSFWorkbook.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>PICTURE_TYPE_JPEG</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">));</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left"><font color="#1C3387"><b><br></b></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">ContractPrint.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">pioUtil.</span><span style="font-size:10pt; background:#d4d4d4">setPicture</span> <span style="font-size:10pt; background:#e8f2fe">(wb, patriarch, rootPath+</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&quot;make/xlsprint/logo.jpg&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">, curRow, 2, curRow+4, 2);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><br></span></font></font></div><div align="left"><font color="#1C3387"><b>③划线</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [116].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left"><div><b style="color: rgb(28, 51, 135);">PioUtil.java</b></div></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">// 画线</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setLine(HSSFWorkbook wb, HSSFPatriarch patriarch,</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">iRowStart,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">iColStart,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">iRowStop,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">iColStop) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      HSSFClientAnchor anchor =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFClientAnchor(0, 0, 350, 0,</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  (</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">) (iColStart), iRowStart, (</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">) (iColStop), iRowStop);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt">HSSFSimpleShape</span> <span style="font-size:10pt">lineShape = patriarch.createSimpleShape(anchor);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      lineShape.setShapeType(HSSFSimpleShape.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>OBJECT_TYPE_LINE</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">ContractPrint.java</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">pioUtil.setLine(wb, patriarch, curRow, 2, curRow, 8); </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">//draw line</span></font></font></div></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#1C3387"><b>④设置金额</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [117].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left"><div><b style="color: rgb(28, 51, 135);">PioUtil.java</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">rmb2Format</span> <span style="font-size:10pt">(HSSFWorkbook wb) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HSSFDataFormat format = wb.createDataFormat();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">format.getFormat(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;￥\&quot;#,###,###.00&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 设置格式</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(28, 51, 135);">ContractPrint.java</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">Short rmb2Format = pioUtil.rmb2Format(wb);          </span></font> //<font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">设置格式</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><br></font></div><div align="left"><font color="#1C3387"><b>⑤设置公式</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [118].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left"><div><b style="color: rgb(28, 51, 135);">ContractPrint.java</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(printMap.get(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Cnumber&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">))&amp;&amp;UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(printMap.get(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Price&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">))){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nCell  = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)8);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellType(HSSFCell.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>CELL_TYPE_FORMULA</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellFormula(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUM(I&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+String.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(curRow-4)+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:I&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+String.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(curRow-1)+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;)&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellStyle(pioUtil.moneyrv12_BorderThin(wb,defaultFont12,rmb2Format));            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left"><br></div><div align="left"><font color="#1C3387"><b>⑥设置总金额</b></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [119].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left"><div><b style="color: rgb(28, 51, 135);">ContractPrint.java </b></div></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//TotalAmount</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">nRow = sheet.createRow((</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)curRow-1);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">nRow.setHeightInPoints(24);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(printMap.get(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Cnumber&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">))&amp;&amp;UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(printMap.get(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Price&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">))){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nCell  = nRow.createCell((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)8);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellType(HSSFCell.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>CELL_TYPE_FORMULA</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellFormula(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUM(I&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+String.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(curRow-4)+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:I&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+String.</span><span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(curRow-1)+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;)&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      nCell.setCellStyle(pioUtil.moneyrv12_BorderThin(wb,defaultFont12,rmb2Format));            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(50, 135, 18);">注：</b></div><div><font color="#E30000">①如果打开excel过程中出现如下错误：</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [120].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">那么就把<span style="font-family: 'Courier New'; font-size: 13px;">HSSFCellStyle、</span><span style="font-family: 'Courier New'; font-size: 13px;">HSSFFont</span>对象的创建次数降低，不要在样式方法里面创建，而是作为参数传递进去，并且只在外面创建一次。</font></div><div><b style="color: rgb(28, 51, 135);">OutProductAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HSSFCellStyle box(HSSFWorkbook wb, HSSFCellStyle curStyle, HSSFFont curFont) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setFontName(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;Times New Roman&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setCharSet(HSSFFont.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>DEFAULT_CHARSET</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 设置中文字体，那必须还要再对单元格进行编码设置</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curFont.setFontHeightInPoints((</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>short</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">) 10);            </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setWrapText(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>true</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 换行</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setFont(curFont);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setVerticalAlignment(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>VERTICAL_CENTER</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 单元格垂直居中</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderTop(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 实线右边框</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderRight(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 实线右边框</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderBottom(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 实线右边框</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      curStyle.setBorderLeft(HSSFCellStyle.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>BORDER_THIN</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 实线右边框</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">curStyle;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><br></div></div></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="712"/>
<h1>12 出口报运（1）</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">1、业务逻辑</b></div><div><font color="#E30000">根据购销合同制定出口商品报运单。报运时可以将多个购销合同形成一单报运；也可以分多次运输货物。<br>
在报运中将增加货物的毛重、净重、长、宽、高、出口单价。</font><br></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">2、</b><font color="#1C3387"><b>功能描述及其分析</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [121].png" type="image/png" height="297" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="706"/></div><div><br></div><div><font color="#1C3387"><b>3、技术要点</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [122].png" type="image/png" height="343" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="702"/></div><div><br></div><div><font color="#1C3387"><b>4、数据库表设计&amp;执行SQL</b></font></div><div><font color="#E30000">三张表主从关系<br>
和合同一致，设计简单，复制数据简单</font><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [123].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [124].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [125].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [126].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [127].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#328712"><b>注：</b></font></div><div><font color="#E30000">之所以单独为报运单表创建商品表以及附件表，而不是使报运表和合同表建立关系从而通过合同</font><span style="color: rgb(227, 0, 0);">表</span><font color="#E30000">获取商品表以及附件表的数据。是为了</font><span style="color: rgb(227, 0, 0);">提升程序效率。因为，后面的装箱等操作都会通过报运表获取商品表以及附件表数据。这样多层级的操作会严重降低程序的运行效率，不利于提升客户体验。并且将报运的多个合同的编号作为冗余字段放在报运单表中。</span></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [128].png" type="image/png" height="426" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1046"/></div><div><font color="#328712"><b>附：</b></font></div><div><font color="#E30000">报运表中包含了货物信息以及其他附加信息。例如：毛重、净重、长、宽、高。</font></div><div><br></div><div><font color="#1C3387"><b>5、创建PO对象（Export.java、ExportProduct.java和ExtEproduct.java）</b></font></div><div><b style="color: rgb(28, 51, 135);">Export.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Export {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Set&lt;ExportProduct&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exportProduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractIds</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">customerContract</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inputDate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">consignee</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lcno</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">       ......</font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">ExportProduct.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExportProduct {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Export</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">export</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;  </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Set&lt;ExtEproduct&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extEproduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractProductId</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractId</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productImage</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productDesc</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">loadingRate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">packingUnit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cnumber</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">outNumber</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">finished</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">grossWeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">netWeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeLength</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeWidth</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeHeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productRequest</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">price</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">amount</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cunit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">boxNum</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exPrice</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exUnit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">noTax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">tax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">costPrice</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">costTax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">orderNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">accessories</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">       ......</font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">ExtEproduct.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtCproduct {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">factory</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractProduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">contractProduct</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ctype</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">typeName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productName</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productImage</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productDesc</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">loadingRate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">packingUnit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cnumber</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">outNumber</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">finished</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">grossWeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">netWeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeLength</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeWidth</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sizeHeight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">productRequest</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">price</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">amount</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cunit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">boxNum</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exPrice</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exUnit</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">noTax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">tax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">costPrice</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.math.BigDecimal</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">costTax</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.Integer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">orderNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>boolean</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">accessories</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><span style="font-family: 'Courier New'; font-size: small;">......</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">}</font></div><div align="left"><font face="Courier New" size="2"><br></font></div><div><font color="#1C3387"><b>6、创建映射文件（</b></font><b style="color: rgb(28, 51, 135);">Export.hbm.xml、ExportProduct</b><b style="color: rgb(28, 51, 135);">.hbm.xml</b><b style="color: rgb(28, 51, 135);">和ExtEproduct</b><b style="color: rgb(28, 51, 135);">.hbm.xml</b><b style="color: rgb(28, 51, 135);">）</b></div><div><b style="color: rgb(28, 51, 135);">Export.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;Export&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractIds&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_IDS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;customerContract&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CUSTOMER_CONTRACT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;inputDate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;INPUT_DATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;consignee&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONSIGNEE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;lcno&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;LCNO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;marks&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;MARKS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;shipmentPort&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SHIPMENT_PORT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;destinationPort&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;DESTINATION_PORT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;transportMode&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TRANSPORT_MODE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;priceCondition&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRICE_CONDITION&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;remark&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;REMARK&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boxNum&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;BOX_NUM&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cnumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CNUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;packingUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PACKING_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;grossWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;GROSS_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;netWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NET_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeLength&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_LENGTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeWidth&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_WIDTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeHeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_HEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;csize&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CSIZE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;amount&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;AMOUNT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">          </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;noTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NO_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;state&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;STATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createBy&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_BY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createDept&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_DEPT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createTime&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_TIME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- Associations --&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exportProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inverse</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;true&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cascade</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;all&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">order-by</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">one-to-many</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.ExportProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">      </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- one-to-one name=&quot;packingList&quot; class=&quot;cn.itcast.entity.PackingList&quot; lazy=&quot;false&quot;  cascade=&quot;all&quot;/--&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">ExportProduct</b><b style="color: rgb(28, 51, 135);">.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ExportProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_PRODUCT_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_PRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractProductId&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_PRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractId&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONTRACT_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productImage&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_IMAGE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productDesc&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_DESC&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;loadingRate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;LOADING_RATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;packingUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PACKING_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cnumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CNUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;outNumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;OUT_NUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;finished&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boolean&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FINISHED&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;grossWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;GROSS_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;netWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NET_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeLength&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_LENGTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeWidth&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_WIDTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeHeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_HEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productRequest&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_REQUEST&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;price&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;amount&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;AMOUNT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cunit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CUNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boxNum&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;BOX_NUM&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EX_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EX_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;noTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NO_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;orderNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;accessories&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boolean&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ACCESSORIES&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- Associations --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.Factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FACTORY_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;export&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.Export&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;extEproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">inverse</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;true&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cascade</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;all&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">order-by</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_PRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">key</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">one-to-many</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.ExtEproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">set</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">ExtEproduct</b><b style="color: rgb(28, 51, 135);">.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ExtEproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXT_EPRODUCT_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXT_EPRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ctype&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CTYPE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;typeName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">formula</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;(select c.NAME from SYS_CODE_B c where c.ORDER_NO=CTYPE and c.PARENT_ID='0104')&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">insert</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">update</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_NAME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productImage&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_IMAGE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productDesc&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_DESC&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;loadingRate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;LOADING_RATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;packingUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PACKING_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cnumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CNUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;outNumber&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;OUT_NUMBER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;finished&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boolean&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FINISHED&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;grossWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;GROSS_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;netWeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NET_WEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeLength&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_LENGTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeWidth&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_WIDTH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;sizeHeight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SIZE_HEIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;productRequest&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRODUCT_REQUEST&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;price&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;amount&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;AMOUNT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cunit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CUNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boxNum&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;BOX_NUM&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EX_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exUnit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EX_UNIT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;noTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NO_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costPrice&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_PRICE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;costTax&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COST_TAX&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;big_decimal&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;orderNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;integer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;accessories&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;boolean&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ACCESSORIES&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- Associations --&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.Factory&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FACTORY_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exportProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cascade</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;all&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.ExportProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">column</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_PRODUCT_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">many-to-one</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>7、创建DAO（ExportDAO.java、ExportProductDAO.java和ExtEproductDAO.java）</b></font></div><div align="left" style="text-align: -webkit-auto;"><div><b style="color: rgb(28, 51, 135);">ExportDAO.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExportDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">ExportProductDAO.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExportProductDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">ExtEproductDAO.java</b></div></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtEproductDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>8、声明（beans.xml、hibernate.cfg.xml）</b></font></div><div align="left" style="text-align: -webkit-auto;"><div><b style="color: rgb(28, 51, 135);">beans.xml</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 出口报运 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoExport&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.dao.ExportDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoExportProduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.dao.ExportProductDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoExtEproduct&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>cn.itcast.entity.dao.ExtEproductDAO</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">hibernate.cfg.xml</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 出口报运 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/Export.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/ExportProduct.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/ExtEproduct.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>9、创建Action（ExportAction.java）</b></font></div><div align="left" style="text-align: -webkit-auto;"><div><b style="color: rgb(28, 51, 135);">ExportAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExportAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;Export&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Export</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Export();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Export getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//列表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String list(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportDAO oDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;Export&gt; dataList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from Export o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;dataList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, dataList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;plist&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String exportsave(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/*</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">             * 操作步骤：</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">             * 1、获得多个合同信息</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">             * 2、获得合同下的货物信息和附件信息，保存到当前报运下的货物、附件信息。</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">             *</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">             */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//1、获得多个合同信息，新建报运</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//contract id</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String _tempstr =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportDAO oDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Export export =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Export();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            export.setContractIds(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().replace(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot; &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">));            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//contract id</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractDAO cDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;ids.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  Contract contract = (Contract) cDao.get(Contract.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">, ids[i]);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  _tempstr += contract.getContractNo()  +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot; &quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            export.setCustomerContract(_tempstr);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获取货物信息</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Set&lt;ExportProduct&gt; epSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet()</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Set&lt;ExtEproduct&gt; extepSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet()</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportProduct ep =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExtEproduct extep =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;ContractProduct&gt; cpList =</span> <span style="font-size:10pt">cDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from ContractProduct o where o.contract.id in ('&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().replace(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;','&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">) +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;')&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">// 'x','y','z'</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ContractProduct cp: cpList){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  ep =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExportProduct();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  ep.setAccessories(cp.isAccessories());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  ep.setProductNo(cp.getProductNo());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  ep.setProductDesc(cp.getProductDesc());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  ep.setCnumber(cp.getCnumber());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  ep.setPrice(cp.getPrice());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  ep.setAmount(cp.getAmount());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  ep.setExport(export);               </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定关联关系</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//货物附件信息</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ExtCproduct extcp: cp.getExtCproduct()){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        extep =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExtEproduct();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        extep.setProductNo(extcp.getProductNo());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        extep.setProductDesc(extcp.getProductDesc());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        extep.setCnumber(extcp.getCnumber());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        extep.setPrice(extcp.getPrice());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        extep.setAmount(extcp.getAmount());</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        extep.setExportProduct(ep);   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定关联关系</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        extepSet.add(extep);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  ep.setExtEproduct(extepSet);  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定关联关系</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font><span style="font-size: 10pt; font-family: 'Courier New'; text-align: -webkit-auto;"> </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  epSet.add(ep);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            export.setExportProduct(epSet);           </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//绑定关联关系</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><span style="font-size: 10pt; font-family: 'Courier New'; text-align: -webkit-auto;"> </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(export);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向查看页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toview(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportDAO oDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Export obj = (Export) oDao.get(Export.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pview&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportDAO oDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.deleteAllById(ids, Export.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//上报      0草稿 1已上报待装箱</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String submit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.chstate(1);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//取消      0草稿 1已上报待装箱</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String cancelsubmit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.chstate(0);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//修改状态 1正常0停用</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">chstate(Integer value){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//注意分隔符</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Export export =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt">Set</span> <span style="font-size:10pt">oSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet</span><span style="font-size:10pt">();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportDAO oDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;ids.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  export = (Export) oDao.get(Export.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">, ids[i]);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  export.setState(value);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span> <span style="font-size:10pt">oSet.add(export)</span><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdateAll(oSet);               </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//批量保存</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b><br></b></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>10、struts配置</b></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>struts-cargo.xml</b></font></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;export&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">namespace</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;/export&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extends</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts-default&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exportAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.cargo.export.ExportAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pview&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/export/jExportView.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;plist&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/export/jExportList.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pcreate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/export/jExportCreate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pupdate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/export/jExportUpdate.jsp</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>11、创建JSP页面（其他页面见源码）</b></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>jContractList.jsp</b></font></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;back&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;#&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">onclick</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&quot;formSubmit('/export/exportAction_exportsave','_self');this.blur();&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">报运</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>left.jsp</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;/export/exportAction_list&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">target</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;main&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;aa_1&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">报运管理</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"><br></span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">12、测试</b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">测试报运功能</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [129].png" type="image/png" height="348" style="cursor: default;cursor: default;cursor: default;" width="1062"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [130].png" type="image/png" height="252" style="cursor: default;cursor: default;cursor: default;" width="1069"/></div><div><br></div><div><font color="#1C3387"><b>测试查看操作</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [131].png" type="image/png" height="251" style="cursor: default;cursor: default;cursor: default;" width="1066"/><br><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [132].png" type="image/png" height="466" style="cursor: default;cursor: default;cursor: default;" width="1055"/></div><div><img src="陕西杰信商务综合管理平台_files/Image [133].png" type="image/png" height="431" style="cursor: default;cursor: default;cursor: default;" width="1062"/></div><div><img src="陕西杰信商务综合管理平台_files/Image [134].png" type="image/png" height="298" style="cursor: default;cursor: default;cursor: default;" width="1059"/></div><div><br></div><div><b><font color="#1C3387">测试修改操作</font></b></div><div><img src="陕西杰信商务综合管理平台_files/Image [135].png" type="image/png" height="252" style="cursor: default;cursor: default;cursor: default;" width="1062"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [136].png" type="image/png" height="485" style="cursor: default;cursor: default;cursor: default;" width="1069"/></div><div><img src="陕西杰信商务综合管理平台_files/Image [137].png" type="image/png" height="392" style="cursor: default;cursor: default;cursor: default;" width="1067"/></div><div><br></div><div><b><font color="#1C3387">测试删除操作</font></b></div><div><img src="陕西杰信商务综合管理平台_files/Image [138].png" type="image/png" height="255" style="cursor: default;cursor: default;cursor: default;" width="1065"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [139].png" type="image/png" height="224" style="cursor: default;cursor: default;cursor: default;" width="1072"/></div></div></div></div></div></div></div>
</div>
<hr>
<a name="767"/>
<h1>12 出口报运（2）</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>13、报运批量修改实现</b></font><b style="color: rgb(28, 51, 135);">（重点代码，全码见源码）</b><div><font color="#1C3387"><b>jExportUpdate.jsp</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">div</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;listTablew&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">table</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;commonTable_main&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cellSpacing</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;resultTable&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;rowTitle&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">align</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;middle&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">width</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;25&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">title</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;可以拖动下面行首,实现记录的位置移动.&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">img</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">src</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;../images/drag.gif&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">width</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;20&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;input&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;checkbox&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ck_del&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">onclick</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;checkGroupBox(this);&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">width</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;33&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">序号</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">货号</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">数量</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">毛重</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">净重</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">div</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><img src="陕西杰信商务综合管理平台_files/Image [140].png" type="image/png" height="43" style="cursor: default;cursor: default;" width="1050"/></div><div align="left"><br></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">script</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">language</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;JavaScript&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">    $().ready(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>function</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ${mrecordData}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">    });</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">   </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/* 实现表格序号列自动调整 created by tony 20081219 */</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>function</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sortnoTR(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            sortno(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">'resultTable'</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, 2, 1);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>function</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">addTRRecord(objId, id, productNo, cnumber, grossWeight, netWeight) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>var</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_tmpSelect =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>var</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">tableObj = document.getElementById(objId);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>var</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">rowLength = tableObj.rows.length;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTR = tableObj.insertRow();                     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//动态插入行</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD = oTR.insertCell(0);                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//插入第一个单元格</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.style.whiteSpace=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;nowrap&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.ondragover =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>function</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(){</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.className=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;drag_over&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">};      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//动态加事件, 改变样式类</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.ondragleave =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>function</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(){</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.className=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;drag_leave&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">};</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.onmousedown =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>function</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(){ clearTRstyle(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;result&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.parentNode.style.background =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">'#0099cc'</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;}; </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//this.style.background=&quot;#0099cc url(../images/arroww.gif) 4px 9px no-repeat&quot;;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.innerHTML =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&amp;nbsp;&amp;nbsp;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;     </span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oTD = oTR.insertCell(1);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.innerHTML =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;input class=\&quot;input\&quot; type=\&quot;checkbox\&quot; name=\&quot;del\&quot; value=\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+id+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;&gt;&lt;input type=\&quot;hidden\&quot; name=\&quot;mr_id\&quot; value=\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+id+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;&gt;&lt;input class=\&quot;input\&quot; type=\&quot;text\&quot; id=\&quot;mr_changed\&quot; name=\&quot;mr_changed\&quot;&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oTD = oTR.insertCell(2);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.innerHTML =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;input class=\&quot;input\&quot; type=\&quot;text\&quot; name=\&quot;orderNo\&quot; readonly size=\&quot;3\&quot; value=\&quot;\&quot;&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oTD = oTR.insertCell(3);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.innerHTML =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;input type=\&quot;text\&quot;  name=\&quot;ep_productNo\&quot; maxLength=\&quot;50\&quot; value=\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+productNo+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot; onBlur=\&quot;setTRUpdateFlag(this);\&quot;&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oTD = oTR.insertCell(4);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.innerHTML =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;input type=\&quot;text\&quot;  name=\&quot;ep_cnumber\&quot; maxLength=\&quot;10\&quot; value=\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+cnumber+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot; onBlur=\&quot;setTRUpdateFlag(this);\&quot;&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oTD = oTR.insertCell(5);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.innerHTML =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;input type=\&quot;text\&quot;  name=\&quot;ep_grossWeight\&quot; maxLength=\&quot;10\&quot; value=\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+grossWeight+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot; onBlur=\&quot;setTRUpdateFlag(this);\&quot;&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            oTD = oTR.insertCell(6);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oTD.innerHTML =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;input type=\&quot;text\&quot;  name=\&quot;ep_netWeight\&quot; maxLength=\&quot;10\&quot; value=\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+netWeight+</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot; onBlur=\&quot;setTRUpdateFlag(this);\&quot;&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            dragtableinit();  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//拖动表格行</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            sortnoTR();             </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//排序号</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }   </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">   </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">script</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>tabledo.js</b></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">/* 设置此行是否更新 by </span><span style="font-size: 10pt;">tony</span><span style="font-size: 10pt;"> 20091110</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">*/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">       </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>function</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">setTRUpdateFlag( obj ){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>var</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">currTr = obj.parentElement.parentElement;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">(currTr.innerHTML.toLowerCase().indexOf(</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&quot;&lt;span&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">)==0){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">            currTr = obj.parentElement.parentElement.parentElement;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>if</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">(obj.value!=obj.defaultValue){    </span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">//当填写的框内容发生变化时,设置本行记录发生变化标识</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">            currTr.cells[1].all.mr_changed.value = </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div></div></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">ExportAction.java</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//转入修改页面</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toupdate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ExportDAO oDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span><span style="font-size:10pt; background:#d4d4d4">Export</span> <span style="font-size:10pt">obj = (</span><span style="font-size:10pt; background:#d4d4d4">Export</span><span style="font-size:10pt">) oDao.get(</span> <span style="font-size:10pt; background:#d4d4d4">Export</span><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//拼接</span><span style="font-size:10pt">html</span><span style="font-size:10pt">片段    addTRRecord(objId, id, productNo,</span> <span style="font-size:10pt">cnumber</span><span style="font-size:10pt">, grossWeight, netWeight)</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      StringBuffer sBuf =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">StringBuffer();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ExportProduct ep: obj.getExportProduct()){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;addTRRecord(\&quot;resultTable\&quot;, \&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(ep.getId()).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            .append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(ep.getProductNo()).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            .append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(ep.getCnumber()).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            .append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(UtilFuns.</span><span style="font-size:10pt"><i>convertNull</i></span><span style="font-size:10pt">(ep.getGrossWeight())).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;, &quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            .append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(UtilFuns.</span><span style="font-size:10pt"><i>convertNull</i></span><span style="font-size:10pt">(ep.getNetWeight())).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            .append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;);&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;mrecordData&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, sBuf.toString());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pupdate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//修改</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ExportDAO oDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HttpServletRequest request = ServletActionContext.</span> <span style="font-size:10pt"><i>getRequest</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String[] mr_id = request.getParameterValues(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;mr_id&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String[] orderNo = request.getParameterValues(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;orderNo&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String[] mrChanged = request.getParameterValues(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;mr_changed&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">//为1表示修改，否则未修改</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String[] productNo = request.getParameterValues(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ep_productNo&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String[] cnumber = request.getParameterValues(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ep_cnumber&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String[] grossWeight = request.getParameterValues(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;ep_grossWeight&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      String[] netWeight = request.getParameterValues(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;ep_netWeight&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      Set&lt;ExportProduct&gt; epSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet()</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ExportProductDAO epDao = (ExportProductDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExportProduct&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ExportProduct ep =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i =0 ;i&lt;orderNo.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//优化，跳过无需修改的记录</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(mrChanged[i].compareTo(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)!=0){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>continue</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ep = (ExportProduct) epDao.get(ExportProduct.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">, mr_id[i]);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ep.setProductNo(productNo[i]);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(cnumber[i])){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  ep.setCnumber(Integer.</span> <span style="font-size:10pt"><i>parseInt</i></span><span style="font-size:10pt">(cnumber[i]));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(grossWeight[i])){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  ep.setGrossWeight(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">BigDecimal(grossWeight[i]));</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(netWeight[i])){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  ep.setNetWeight(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">BigDecimal(netWeight[i]));</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(orderNo[i])){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  ep.setOrderNo(Integer.</span> <span style="font-size:10pt"><i>parseInt</i></span><span style="font-size:10pt">(orderNo[i]));</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            epSet.add(ep);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setExportProduct(epSet);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div></div><div align="left" style="text-align: -webkit-auto;"><b style="color: rgb(50, 135, 18);">附：</b></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">①实现思路</font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">选择某个合同，点击修改按钮，就会调用ExportAction中的toupdate方法。toupdate方法中拼接了一段html片段，并将其放在域中。此片段功能是调用jExportUpdate.jsp中的JS脚本中的addTRRecord方法，从而插入数据。如果数据有任何的修改，就会调用setTRUpdateFlag方法将id为mr_changed的隐藏域值变为1，从而在点击保存按钮后，调用ExportAction中的save方法，将数据库中的相应记录修改掉。</font></div><div align="left" style="text-align: -webkit-auto;"><font color="#E30000">②分次走货，一个合同，可能多次报运。</font></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>测试修改</b></font></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [141].png" type="image/png" height="246" style="cursor: default;cursor: default;" width="1063"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [142].png" type="image/png" height="473" style="cursor: default;cursor: default;" width="1070"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [143].png" type="image/png" height="474" style="cursor: default;cursor: default;" width="1073"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [144].png" type="image/png" height="185" style="cursor: default;cursor: default;" width="767"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><div><b style="color: rgb(28, 51, 135);">14、打印出口商品报运单</b></div><div><font color="#E30000">首先插入出口报运表、货物以及附件的测试数据。</font></div><div><img src="陕西杰信商务综合管理平台_files/Image [145].png" type="image/png" height="138" style="cursor: default;cursor: default;" width="1191"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [146].png" type="image/png" height="493" style="cursor: default;cursor: default;" width="1071"/></div><div><br></div><div><font color="#1C3387"><b>出口商品报运单模板</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [147].png" type="image/png" height="469" style="cursor: default;cursor: default;" width="767"/></div><div><br></div><div><font color="#1C3387"><b>ExportAction.java</b></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//打印</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">print</span><span style="font-size:10pt">()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">IOException, ParseException{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ExportPrint eprint =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ExportPrint();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      ExportDAO oDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      HttpServletResponse response = ServletActionContext.</span> <span style="font-size:10pt"><i>getResponse</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      eprint.print(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId(), oDao, response);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><font color="#1C3387"><b>ExportPrint.java（重点功能和重点代码）</b></font></div><div><font color="#E30000">①复制工作簿 wb.cloneSheet(工作簿的序号);</font></div><div><font color="#328712"><b>附：</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [148].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">由于出口商品报运单包含多个样式相同的工作簿，所以需要拷贝工作簿。</font></div><div><span style="color: rgb(50, 135, 18);"><font color="#000000"><br></font></span><font color="#E30000">②动态计算工作簿个数</font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">Arith</span> <span style="font-size: 10pt;">arith</span> <span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Arith();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">sheetCount = arith.round(obj.getExportProduct().size(), rowCount);         </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//sheet</span> <span style="font-size: 10pt;">num</span></font></font></div><font color="#E30000"><br>
③输出货物信息时，定位其所在工作簿</font><br><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">rowCount</span> <span style="font-size:10pt">= 11;         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//每个sheet的子记录数</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">rnum = 0;              </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//当前行数</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">pnum = -1;             </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//当前页数</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">pnum = rnum/rowCount;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">sheet = wb.getSheetAt(pnum);                   </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//选择第n个工作簿     动态切换工作簿</span></font></font></div><div><font color="#E30000"><font color="#E30000"><br></font></font></div><font color="#E30000">④最后一个工作簿进行合计</font><br><font color="#E30000">1）访问前面的工作簿     工作簿名称!...</font><br><font color="#E30000">2）SUMPRODUCT(...)     参数相乘，然后累加</font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//拼接公式串</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">bufGrossWeight.append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUM(&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">bufNetWeight.append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUM(&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">bufSize.append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUM(&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">j=0;j&lt;sheetCount;j++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(j==0){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            bufGrossWeight.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUMPRODUCT(报运单!I&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;:I&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;,报运单!H&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;:H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;),&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            bufNetWeight.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUMPRODUCT(报运单!J&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;:J&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;,报运单!H&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;:H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;),&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            bufSize.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUMPRODUCT(报运单!K&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;:K&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;,报运单!L&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;:L&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;,报运单!M&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;:M&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;,报运单!H&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;:H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;)/100/100/100,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            wb.cloneSheet(0);                   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//复制sheet0工作簿,名字会自动重命名</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            bufGrossWeight.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUMPRODUCT('报运单(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(j).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)'!I&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:I&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;,'报运单(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(j).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)'!H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;),&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            bufNetWeight.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUMPRODUCT('报运单(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(j).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)'!J&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:J&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;,'报运单(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(j).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)'!H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;),&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            bufSize.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;SUMPRODUCT('报运单(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(j).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)'!K&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:K&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;,'报运单(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(j).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)'!L&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:L&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;,'报运单(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(j).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)'!M&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:M&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;,'报运单(&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">).append(j).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)'!H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStart).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;:H&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(rowStop).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;)/100/100/100,&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><br></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>测试</b></font></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [149].png" type="image/png" height="307" style="cursor: default;cursor: default;" width="1061"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [150].png" type="image/png" style="cursor: default;"/></div><div align="left" style="text-align: -webkit-auto;"><br></div><div align="left" style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [151].png" type="image/png" style="cursor: default;"/></div></div></div></div></div>
</div>
<hr>
<a name="908"/>
<h1>13 装箱</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">1、业务逻辑</b></div><div><font color="#E30000">装箱就是计划将货物装到集装箱中进行运输。<br>
根据多个出口报运单制定装箱单，填写发票号、发票时间，以及客人等相关信息。<br>
装箱关注主货物，不关心附件。及其最终的总箱数、毛重、净重、体积。</font></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">2、</b><font color="#1C3387"><b>功能描述及其分析</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [152].png" type="image/png" height="246" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="704"/></div><div><br></div><div><b style="color: rgb(28, 51, 135);">3、技术要点</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [153].png" type="image/png" height="334" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="701"/></div><div><br></div><div><b style="color: rgb(28, 51, 135);">4、数据库表设计&amp;执行SQL</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [154].png" type="image/png" height="505" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="621"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [155].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><b><font color="#328712">附：</font></b></div><div><font color="#E30000">由表结构可以看到装箱单与报运单之间是一对多的关系，这里通过在装箱单表中设置特定字段从而保存与其相关的报运单号。</font></div><div><br></div><div><b style="color: rgb(28, 51, 135);">5、创建PO对象及映射文件（PackingList.java及PackingList.hbm.xml）</b></div><div><b style="color: rgb(28, 51, 135);">PackingList.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PackingList {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">seller</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">buyer</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">invoiceNo</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">invoiceDate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">marks</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">descriptions</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exportIds</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">exportNos</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createBy</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createDept</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createTime</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">       ......</font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="text-align: -webkit-auto; color: rgb(28, 51, 135);">PackingList.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PackingList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PACKING_LIST_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PACKING_LIST_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;uuid&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;seller&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SELLER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;buyer&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;BUYER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;invoiceNo&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;INVOICE_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;invoiceDate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;INVOICE_DATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;marks&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;MARKS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;descriptions&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;DESCRIPTIONS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exportIds&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_IDS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;exportNos&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;EXPORT_NOS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createBy&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_BY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createDept&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_DEPT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createTime&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_TIME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><br></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">6、创建DAO（PackingListDAO.java）</b></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PackingListDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">7、声明（beans.xml、hibernate.cfg.xml）</b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">beans.xml</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 装箱单 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoPackingList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.dao.PackingListDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;"><br></b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">hibernate.cfg.xml</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 装箱单 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/PackingList.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>8、创建Action（PackingListAction.java）</b></font></div><div align="left" style="text-align: -webkit-auto;"><div><b style="color: rgb(28, 51, 135);">PackingListAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PackingListAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;PackingList&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PackingList</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PackingList();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PackingList getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//列表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String list(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingListDAO oDao = (PackingListDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoPackingList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;PackingList&gt; dataList =</span> <span style="font-size:10pt">oDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from PackingList o&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;dataList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, dataList);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;plist&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//新增</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String tocreate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/*</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">             * 1、获取多个报运的ID</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">             * 2、拼接HTML代码片段</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">             * */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] exportIds =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);             </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//报运号</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            StringBuffer sBuf =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">StringBuffer();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportDAO eDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Export export =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;exportIds.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  export = (Export) eDao.get(Export.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">, exportIds[i]);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;input type=\&quot;checkbox\&quot; name=\&quot;exportId\&quot; checked=\&quot;true\&quot;  value=\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(exportIds[i]).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(export.getCustomerContract()).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot; class=\&quot;input\&quot;/&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(export.getCustomerContract());</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&amp;nbsp;&amp;nbsp;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;mrecordData&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, sBuf.toString());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pcreate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向修改页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toupdate(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingListDAO oDao = (PackingListDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoPackingList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingList obj = (PackingList) oDao.get(PackingList.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据，拼接HTML片段</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            StringBuffer sBuf =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">StringBuffer();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] _exportIds = obj.getExportIds().split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\\|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] _exportNos = obj.getExportNos().split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\\|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;_exportIds.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;input type=\&quot;checkbox\&quot; name=\&quot;exportId\&quot; checked=\&quot;true\&quot;  value=\&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(_exportIds[i]).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(_exportNos[i]).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot; class=\&quot;input\&quot;/&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(_exportNos[i]);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&amp;nbsp;&amp;nbsp;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;mrecordData&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, sBuf.toString());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pupdate&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//新增保存</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String createSave(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingListDAO oDao = (PackingListDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoPackingList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] _tempstr =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            HttpServletRequest request = ServletActionContext.</span><span style="font-size:10pt"><i>getRequest</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String _exportIds =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String _exportNos =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] exportId = request.getParameterValues(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;exportId&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//报运ID+报运号</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;exportId.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  _tempstr = exportId[i].split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\\|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//注意参数为正则表达式</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  _exportIds += _tempstr[0] +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  _exportNos += _tempstr[1] +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            _exportIds = UtilFuns.</span> <span style="font-size:10pt"><i>DelLastChar</i></span><span style="font-size:10pt">(_exportIds);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            _exportNos = UtilFuns.</span> <span style="font-size:10pt"><i>DelLastChar</i></span><span style="font-size:10pt">(_exportNos);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setExportIds(_exportIds);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setExportNos(_exportNos);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获得新增的装箱对应的多个报运</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            Set&lt;Export&gt; eSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet()</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportDAO eDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;Export&gt; oList =</span> <span style="font-size:10pt">eDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from Export o where o.id in ('&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+_exportIds.replace(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;','&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;')&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span> <span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(Export export: oList){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  export.setState(2);                 </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//0-草稿 1-已上报 2-装箱 3-委托 4-发票 5-财务</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  eSet.add(export);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            eDao.saveOrUpdateAll(eSet);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingListDAO oDao = (PackingListDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoPackingList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] _tempstr =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            HttpServletRequest request = ServletActionContext.</span><span style="font-size:10pt"><i>getRequest</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String _exportIds =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String _exportNos =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] exportId = request.getParameterValues(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;exportId&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//报运ID+报运号</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;exportId.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  _tempstr = exportId[i].split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\\|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//注意参数为正则表达式</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  _exportIds += _tempstr[0] +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  _exportNos += _tempstr[1] +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            _exportIds = UtilFuns.</span> <span style="font-size:10pt"><i>DelLastChar</i></span><span style="font-size:10pt">(_exportIds);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            _exportNos = UtilFuns.</span> <span style="font-size:10pt"><i>DelLastChar</i></span><span style="font-size:10pt">(_exportNos);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setExportIds(_exportIds);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.setExportNos(_exportNos);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向查看页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toview(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingListDAO oDao = (PackingListDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoPackingList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingList obj = (PackingList) oDao.get(PackingList.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().getValueStack().push(obj);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据，拼接HTML片段</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            StringBuffer sBuf =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">StringBuffer();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] _exportIds = obj.getExportIds().split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\\|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] _exportNos = obj.getExportNos().split(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\\|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;_exportIds.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;a href=\&quot;/export/exportAction_toviewinfo?id=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(_exportIds[i]).append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\&quot;&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(_exportNos[i]);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;/a&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&amp;nbsp;&amp;nbsp;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;mrecordData&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, sBuf.toString());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pview&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//删除</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String delete(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] ids =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getId().split(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;, &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingListDAO oDao = (PackingListDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoPackingList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.deleteAllById(ids, PackingList.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }     </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//打印</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">print()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Exception{</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            HttpServletRequest request = ServletActionContext.</span><span style="font-size:10pt"><i>getRequest</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            HttpServletResponse response = ServletActionContext.</span><span style="font-size:10pt"><i>getResponse</i></span><span style="font-size:10pt">();</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingListDAO oDao = (PackingListDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoPackingList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ExportDAO eDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            PackingListPrint packingListPrint =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PackingListPrint();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            packingListPrint.print(request, response, oDao, eDao);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div><div align="left" style="text-align: -webkit-left;"><b><font color="#328712">附：</font></b></div><div align="left" style="text-align: -webkit-left;"><div><span style="text-align: -webkit-auto;"><font color="#E30000">PackingListAction中的tocreate、toupdate、toview方法中都将与某装箱单相关的报运单号组织成html片段存储在request域中，以便在页面中展示出来。</font></span></div><div><span style="text-align: -webkit-auto;"><font color="#E30000">需要指出的是toview方法中组织html片段的时候，为每个报运单合同号添加了超链接，从而可以通过点击报运单号就可以看到其包含的货物及附件。</font></span></div></div><div align="left" style="text-align: -webkit-left;"><font color="#1C3387"><b><br></b></font></div><div align="left" style="text-align: -webkit-left;"><b><font color="#328712">附：</font></b><b><font color="#328712">修改报运单状态信息</font></b></div><div align="left" style="text-align: -webkit-left;"><div><b style="color: rgb(28, 51, 135);">PackingListAction.java</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">//新增保存</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">String createSave(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      ......</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//获得新增的装箱对应的多个报运</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      Set&lt;Export&gt; eSet = </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>new</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">HashSet()</span><span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      ExportDAO eDao = (ExportDAO) </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>this</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      List&lt;Export&gt; oList = </span><span style="font-size: 10pt;">eDao.find(</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> &quot;from Export o where o.id in ('&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">+_exportIds.replace(</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;|&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">, </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&quot;','&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">)+</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">&quot;')&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">)</span> <span style="font-size: 10pt;">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>for</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">(Export export: oList){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">            export.setState(2);                 </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">//0-草稿 1-已上报 2-装箱 3-委托 4-发票 5-财务</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">            eSet.add(export);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">      eDao.saveOrUpdateAll(eSet);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><b>return</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">list();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><div><font color="#E30000">由于客户经常询问单子的状态信息，所以在报运中需要实时更新。</font></div><div><b style="color: rgb(28, 51, 135);"><br></b></div></div></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#1C3387"><b>9、struts配置</b></font></div><div align="left"><font color="#1C3387"><b>struts-cargo.xml</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;packinglist&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">namespace</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;/packinglist&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extends</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts-default&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;packingListAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.cargo.packinglist.PackingListAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pview&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/</span><span style="font-size:10pt">packinglist</span><span style="font-size:10pt">/jPackingListView.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;plist&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/</span><span style="font-size:10pt">packinglist</span><span style="font-size:10pt">/jPackingListList.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pcreate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/</span><span style="font-size:10pt">packinglist</span><span style="font-size:10pt">/jPackingListCreate.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pupdate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/</span><span style="font-size:10pt">packinglist</span><span style="font-size:10pt">/jPackingListUpdate.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">10、创建JSP页面（其他页面见源码）</b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">jExportList.jsp</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;new&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;#&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">onclick</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&quot;formSubmit('/packinglist/packingListAction_tocreate','_self');this.blur();&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">装箱</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&gt;</span></font></font></div><div align="left"><div align="left" style="text-align: -webkit-auto;"><font color="#1C3387"><b>left.jsp</b></font></div><div align="left" style="text-align: -webkit-auto;"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">href</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;/packinglist/packingListAction_list&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">target</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;main&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;aa_1&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">装箱管理</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">a</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">li</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">&gt;</span></font></font></div><div align="left"><div align="left"><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">jPackingListCreate.jsp</b></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">div</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">class</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"><i>&quot;listTablew&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">div</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">id</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;"><i>&quot;contractList&quot;</i></span></font><font face="Courier New" size="2"> </font><font face="Courier New" size="2"><span style="font-size: 10pt;">style</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> <i>&quot;float:left;margin:8px;&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">      ${mrecordData}</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">div</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">div</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">jPackingListUpdate.jsp</b></div></div></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">div</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;listTablew&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">div</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">style</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;float:left;margin:8px;&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      ${mrecordData}</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">div</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">div</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">jPackingListView.jsp</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">div</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;listTablew&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">div</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;contractList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">style</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;float:left;margin:8px;&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      ${mrecordData}</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">div</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">div</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">11、测试</b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">测试装箱</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [156].png" type="image/png" height="345" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1057"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [157].png" type="image/png" height="482" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1067"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [158].png" type="image/png" height="250" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1061"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [159].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">测试查看</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [160].png" type="image/png" height="251" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1060"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [161].png" type="image/png" height="452" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1056"/></div><div><br></div><div><b><font color="#1C3387">测试修改</font></b></div><div><img src="陕西杰信商务综合管理平台_files/Image [162].png" type="image/png" height="248" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1058"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [163].png" type="image/png" height="488" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1058"/></div><div><img src="陕西杰信商务综合管理平台_files/Image [164].png" type="image/png" height="128" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1054"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [165].png" type="image/png" height="256" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1064"/></div><div><br></div><div><font color="#1C3387"><b>测试删除</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [166].png" type="image/png" height="253" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1062"/></div><div><br></div><div><img src="陕西杰信商务综合管理平台_files/Image [167].png" type="image/png" height="217" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1063"/></div><div><br></div><div><font color="#1C3387"><b>12、打印装箱单</b></font></div><div><font color="#E30000">由于使用POI打印装箱单并没有用到什么新的技巧，所以这里省略。否则，阅读起来也是浪费读者的时间。</font></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">13、通过自定义标签打印唛头</b></div><div><b><font color="#328712">附：</font></b></div><div><font color="#E30000">主要将数据库中的唛头信息中的空格换成html的&amp;nbsp，换行换成&lt;br/&gt;，从而在页面上正常展示。</font></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">jExportInfo.jsp</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;columnTitle&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">唛头：</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">td</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;tableContent&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">colspan</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;3&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">${selffn:htmlNewline(marks)}</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">td</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div><b style="color: rgb(28, 51, 135);">selffn.tld</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">htmlNewline</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">function-class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cn.itcast.web.common.util.UtilFuns</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">function-class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">function-signature</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String htmlNewline(java.lang.String)</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">function-signature</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div><b style="color: rgb(28, 51, 135);">UtilFuns.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>static</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String htmlNewline(String s){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">             </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//如不替换空格,</span> <span style="font-size:10pt">html</span><span style="font-size:10pt">解释时会自动把多个空格显示为一个空格,这样当我们通过空格来布局时就出现</span> <span style="font-size:10pt">textarea</span><span style="font-size:10pt">中和</span><span style="font-size:10pt">html</span><span style="font-size:10pt">页面展现不一致的情况</span> <span style="font-size:10pt">tony</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">             </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//s.replaceAll(&quot; &quot;,&quot;&amp;nbsp;&quot;) 不能进行空格的替换，否则页面内容中如果有&lt;img</span> <span style="font-size:10pt">src</span><span style="font-size:10pt">=&quot;xxx.jpg&quot; \&gt;等标签，内容就会显示乱；&lt;img&amp;nbsp;</span> <span style="font-size:10pt">src</span><span style="font-size:10pt">=&quot;xxx.jpg&quot;</span><span style="font-size:10pt">nbsp</span><span style="font-size:10pt">;\&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">             </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">s.replaceAll(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot; &quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;&amp;nbsp;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).replaceAll(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\n&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;br\\&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">); </span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">        }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(Exception e){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">             </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">        }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">  }</span></font></div></div></div></div></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="940"/>
<h1>14 委托</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="color: rgb(28, 51, 135);">1、业务逻辑</b></div><div><font color="#E30000">需要将货物送到客户指定的地方，可能直接送到港口，可能送到客户的门店。因为贸易公司很小，几十号人，不可能有自己的车队，即使有车队，也基本上不会有船、飞机，通常都是委托其他运输公司来运输。这就是委托。<br>
委托关注的是包装后的货物占用空间总大小，以确定集装箱的大小和个数。自此已经不关心货物的详细情况。<br>
根据装箱单来制定委托书。一个装箱单对一个委托书。</font><br></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">2、</b><font color="#1C3387"><b>功能描述及其分析</b></font></div><div><img src="陕西杰信商务综合管理平台_files/Image [168].png" type="image/png" height="259" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="704"/></div><div><br></div><div><b style="color: rgb(28, 51, 135);">3、技术要点</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [169].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><b style="color: rgb(28, 51, 135);">4、数据库表设计&amp;执行SQL</b></div><div><img src="陕西杰信商务综合管理平台_files/Image [170].png" type="image/png" height="437" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="687"/></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">5、创建PO对象及映射文件（ShippingOrder.java及ShippingOrder.hbm.xml）</b></div><div><b style="color: rgb(28, 51, 135);">ShippingOrder.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ShippingOrder {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">orderType</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">shipper</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">consignee</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">notifyParty</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lcno</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">portOfLoading</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">portOfTrans</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">portOfDischarge</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">loadingDate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">limitDate</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">isBatch</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">isTrans</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">copyNum</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cnote</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">specialCondition</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">freight</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">checkBy</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createBy</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.lang.String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createDept</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">java.util.Date</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createTime</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PackingList</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">packingList</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2">       ......</font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">ShippingOrder.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font face="Courier New" size="2"><span style="font-size:10pt">xml</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">version</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;1.0&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">?&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ShippingOrder&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SHIPPING_ORDER_C&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">            </span></font><font color="#328712"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;id&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SHIPPING_ORDER_ID&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;40&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">generator</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;assigned&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#328712"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;orderType&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;ORDER_TYPE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;shipper&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SHIPPER&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;consignee&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CONSIGNEE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;notifyParty&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;NOTIFY_PARTY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;lcno&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;LC_NO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;portOfLoading&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PORT_OF_LOADING&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;portOfTrans&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PORT_OF_TRANS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;portOfDischarge&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;PORT_OF_DISCHARGE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;loadingDate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;LOADING_DATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;limitDate&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;LIMIT_DATE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;isBatch&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;IS_BATCH&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;isTrans&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;IS_TRANS&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;copyNum&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;COPY_NUM&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cnote&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CNOTE&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;specialCondition&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;SPECIAL_CONDITION&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;freight&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;FREIGHT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;checkBy&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CHECK_BY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">             </span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createBy&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_BY&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">             </span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createDept&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_DEPT&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;string&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">property</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;createTime&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">column</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;CREATE_TIME&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;timestamp&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;!-- Associations --&gt;</span></font></font></div><div align="left"><font face="Courier New" size="2" style="color: rgb(227, 0, 0);"><span style="font-size:10pt">            </span></font><font color="#328712"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">one-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;packingList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.PackingList&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">lazy</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;false&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">hibernate-mapping</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left" style="text-align: -webkit-auto;"><div><font color="#328712"><b>附：</b></font><font color="#E30000">由于委托单和装箱单是一对一的关系，所以直接将装箱单的Id设置为委托单的Id，其赋值类型为assigned。</font></div><div><font color="#E30000"><br></font></div><div><b style="color: rgb(28, 51, 135);">PackingList.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">PackingList {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ShippingOrder</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">shippingOrder</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ShippingOrder getShippingOrder() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">shippingOrder</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setShippingOrder(ShippingOrder shippingOrder) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">shippingOrder</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= shippingOrder;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      ......</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">PackingList.hbm.xml</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">one-to-one</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;shippingOrder&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;cn.itcast.entity.ShippingOrder&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">lazy</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;false&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">cascade</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#e8f2fe"><i>&quot;all&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt; background-color: rgb(232, 242, 254);">/&gt;</span></font></font></div><div align="left"><div><b style="color: rgb(50, 135, 18); text-align: -webkit-auto;">附：</b><span style="text-align: -webkit-auto;"><font color="#E30000">因为装箱是在报运之后执行的，所以删除报运单就要删除下面所属的所有装箱单，而装箱单删除却不会要求删除其对应的报运单。所以，报运单的一对一标签中设置了cascade属性，而装箱单中的一对一标签则没有设置。</font></span></div><div><b style="color: rgb(50, 135, 18); text-align: -webkit-auto;"><br></b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">6、创建DAO（ShippingOrderDAO.java）</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ShippingOrderDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">7、声明（beans.xml、hibernate.cfg.xml）</b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">beans.xml</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 委托书 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">bean</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;daoShippingOrder&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.entity.dao.ShippingOrderDAO&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">autowire</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;byName&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">hibernate.cfg.xml</b></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;!-- 委托书 --&gt;</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mapping</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">resource</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn/itcast/entity/ShippingOrder.hbm.xml&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">/&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">8、创建Action（ShippingOrderAction.java）</b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">ShippingOrderAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ShippingOrderAction</span> <span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;ShippingOrder&gt;{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">subid</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getSubid() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">subid</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setSubid(String subid) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">subid</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= subid;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ShippingOrder</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ShippingOrder();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ShippingOrder getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//转向编辑页面</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String toedit(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//准备数据</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ShippingOrderDAO oDao = (ShippingOrderDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoShippingOrder&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ShippingOrder obj = (ShippingOrder) oDao.get(ShippingOrder.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;obj&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, obj);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;pedit&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//保存</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String save(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ShippingOrderDAO oDao = (ShippingOrderDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoShippingOrder&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            oDao.saveOrUpdate(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//新增</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isEmpty</i></span><span style="font-size:10pt">(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getSubid())){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  PackingListDAO pDao = (PackingListDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoPackingList&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  PackingList packingList = (PackingList) pDao.get(PackingList.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.getId());</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//获得新增的委托对应的多个报运</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  Set&lt;Export&gt; eSet =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HashSet()</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  ExportDAO eDao = (ExportDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoExport&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  List&lt;Export&gt; oList =</span> <span style="font-size:10pt">eDao.find(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;from Export o where o.id in ('&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+packingList.getExportIds().replace(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;|&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;','&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)+</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;')&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span> <span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(Export export: oList){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        export.setState(3);                 </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//0-草稿 1-已上报 2-装箱 3-委托 4-发票 5-财务</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        eSet.add(export);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  eDao.saveOrUpdateAll(eSet);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">toedit();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div align="left"><font color="#1C3387"><b>9、struts配置</b></font></div><div align="left"><font color="#1C3387"><b>struts-cargo.xml</b></font></div><div align="left"><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;shippingorder&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">namespace</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;/shippingorder&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">extends</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;struts-default&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;shippingOrderAction_*&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;{1}&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;cn.itcast.web.struts2.cargo.shippingorder.ShippingOrderAction&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;pedit&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">/cargo/</span><span style="font-size:10pt">shippingorder</span><span style="font-size:10pt">/jShippingOrderEdit.jsp</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">result</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">action</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">package</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">10、创建JSP页面（其他页面见源码）</b></div><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">jShippingOrderEdit.jsp</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">s:if</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#request.obj==null&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">新增</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">s:if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">s:if</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;#request.obj.id!=null&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">修改</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">s:if</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><div><b style="text-align: -webkit-auto;"><font color="#328712">附：</font></b><span style="text-align: -webkit-auto;"><font color="#E30000">由于新增和修改使用的是同一个页面，所以应该根据id是否为null，来判断到底是新增还是修改。</font></span></div><div><span style="text-align: -webkit-auto;"><font color="#E30000"><br></font></span></div><div style="text-align: -webkit-auto;"><font color="#1C3387"><b>11、测试</b></font></div><div style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [171].png" type="image/png" height="263" style="cursor: default;cursor: default;" width="1070"/></div><div style="text-align: -webkit-auto;"><br></div><div style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [172].png" type="image/png" height="458" style="cursor: default;cursor: default;" width="1063"/></div><div style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [173].png" type="image/png" height="245" style="cursor: default;cursor: default;" width="1061"/></div><div style="text-align: -webkit-auto;"><br></div><div style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [174].png" type="image/png" height="422" style="cursor: default;cursor: default;" width="1063"/></div><div style="text-align: -webkit-auto;"><font color="#328712"><b>附：</b></font><font color="#E30000">发票模块与委托模块非常相似，都是与其他表一对一的关系，所以这里省略。</font></div></div></div></div></div></div></div></div></div></div>
</div>
<hr>
<a name="1111"/>
<h1>15 统一查询框架</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、思路</b></font><div><font color="#E30000">当用户请求执行ContractAction.java的list方法时，将搜索类别的显示内容以及值作为参数传递给UtilFuns.java的ComboList方法组装成html片段，存储在域中。在jContractList.jsp中，显示出列别。用户选择搜索的类别并且输入值，这些信息最终都会交给_RootDAO.java的dataList方法，从接拼接hql语句，并且查询出数据。然后放入map栈中，供jContractList.jsp显示。</font></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#1C3387"><b>2、代码<br></b></font><div><font color="#1C3387"><b>UtilFuns.java</b></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size: 10pt;">/** ComboList 功能：选定在下拉列表框中与查找到数据,相符的那一项内容</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;br&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">输入参数：String CurrentValue 查找出的数据库中的数据</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> *               String[] content 需要输出的所有下拉列表框的内容</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;br&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">输出参数：返回下拉列表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">  *</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;br&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">注意事项：values为0开始,而且中间不能断开</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String ComboList(String CurrentValue, String[] content) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i = 0;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">  StringBuffer sBuf =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">StringBuffer();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">  String selected =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot; selected&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">    sBuf.append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;option value='' selected&gt;--请选择--&lt;/option&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(i = 0; i &lt; content.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">; i++) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;\n&lt;option value='&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(i).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;'&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(CurrentValue.compareTo(String.</span> <span style="font-size:10pt"><i>valueOf</i></span><span style="font-size:10pt">(i)) == 0) {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">        sBuf.append(selected);</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      sBuf.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(content[i]).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;/option&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">sBuf.toString();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">  }</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(Exception e){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">  }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><font color="#1C3387"><b>_RootDAO.java</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_RootDAO</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseRootDAO{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/*</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * 统一查询框架  by</span> <span style="font-size:10pt">tony</span> </font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * who 哪个业务对象</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * pValue 下拉框的值 &lt;option value=&quot;pValue&quot;&gt;pText&lt;/option&gt;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * pText  下拉框的文字</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * dlValue 下拉框选中的值</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * curValue 用户输入的查询值</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">List</span> <span style="font-size:10pt">dataList(</span> <span style="font-size:10pt; background:#d4d4d4">String</span> <span style="font-size:10pt">who,</span> <span style="font-size:10pt; background:#d4d4d4">String</span> <span style="font-size:10pt">[] pValue,</span> <span style="font-size:10pt; background:#d4d4d4">String</span><span style="font-size:10pt">[] pText,</span> <span style="font-size:10pt; background:#d4d4d4">String</span> <span style="font-size:10pt">dlValue,</span> <span style="font-size:10pt; background:#d4d4d4">String</span> <span style="font-size:10pt">curValue){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            UtilFuns utilFuns =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">UtilFuns();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt; background:#d4d4d4">String</span><span style="font-size:10pt">[] aConditionStr = utilFuns.splitFindStr(curValue);            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//规整分隔符，支持空格、逗号、中文件逗号</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            StringBuffer hql =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">StringBuffer();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            hql.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;from &quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(who).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot; o where 1=1&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt">List</span> <span style="font-size:10pt">paraList =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ArrayList</span><span style="font-size:10pt">();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">j=0;j=0;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//进行模糊查询，类似</span> <span style="font-size:10pt">google</span><span style="font-size:10pt">的处理</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(curValue)) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;aConditionStr.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(UtilFuns.</span><span style="font-size:10pt"><i>isNotEmpty</i></span><span style="font-size:10pt">(dlValue)) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              hql.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot; and o.&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(dlValue).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot; like ?&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              </span> <span style="font-size:10pt">paraList.add(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;%&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ aConditionStr[i] +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;%&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              hql.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot; and (&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(j=0;j&lt;pValue.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">length</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;j++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                                    hql.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;o.&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).append(pValue[j]).append(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot; like ? or &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                                    </span> <span style="font-size:10pt">paraList.add(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;%&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ aConditionStr[i] +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;%&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">)</span><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                              }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              hql.delete(hql.length()-3, hql.length());      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//</span><span style="font-size:10pt">del</span> <span style="font-size:10pt">last ' or'</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              hql.append(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;)&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">.find(hql.toString(), paraList.toArray());       </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//返回查询结果</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/*</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       *</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       * 取得单值,返回字符串,多个内容时形成一个字符串用逗号隔开</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       *</span> <span style="font-size:10pt">ex</span><span style="font-size:10pt">:</span> <span style="font-size:10pt">hql</span> <span style="font-size:10pt">  &quot;select o.id from Contract o where ... &quot;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       *  */</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">String</span> <span style="font-size:10pt">findString(</span> <span style="font-size:10pt; background:#d4d4d4">String</span> <span style="font-size:10pt">hql) {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt; background:#d4d4d4">String</span> <span style="font-size:10pt">s =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt">List</span> <span style="font-size:10pt">aList =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getHibernateTemplate().find(hql);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(aList!=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&amp;&amp; aList.size()&gt;0){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(aList.size()==1){</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        s = (</span> <span style="font-size:10pt; background:#d4d4d4">String</span><span style="font-size:10pt">)aList.get(0);</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;aList.size();i++){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                              s += (</span> <span style="font-size:10pt; background:#d4d4d4">String</span><span style="font-size:10pt">)aList.get(i) +</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">                        UtilFuns utilFuns =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">UtilFuns();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                        s =</span> <span style="font-size:10pt">utilFuns.</span><span style="font-size:10pt"><i>DelLastChar</i></span><span style="font-size:10pt">(s)</span><span style="font-size:10pt">;</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">s;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><font color="#1C3387"><b><br></b></font><div><font color="#1C3387"><b>BaseStruts2Action.java</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span> </font><font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ActionSupport {</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//统一查询框架</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">f_conditionStr</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;             </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//用户输入的查询条件</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">f_type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;                           </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//下拉框选择的当前值</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">comboContentStr</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;                  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//下拉框option串</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">       ......</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><b style="color: rgb(28, 51, 135);">ContractAction.java</b></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ContractAction</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">_BaseStruts2Action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>implements</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ModelDriven&lt;Contract&gt; {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract();</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Contract getModel() {</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">model</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//列表</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String list(){</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ContractDAO oDao = (ContractDAO)</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.getDao(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;daoContract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            UtilFuns utilFuns =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">UtilFuns();</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] pValue = {</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;contractNo&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;customName&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;inputBy&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;inspector&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">};</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            String[] pText = {</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;合同号&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;客户名称&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;制单人&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;验货员&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">};</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//传递到页面的查询参数</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">comboContentStr</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= utilFuns.ComboList(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">f_type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">, pValue, pText);            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">//构造下拉框option</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            ActionContext.</span> <span style="font-size:10pt"><i>getContext</i></span><span style="font-size:10pt">().put(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;dataList&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, oDao.dataList(</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;Contract&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">, pValue, pText,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">f_type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">f_conditionStr</span></font><font face="Courier New" size="2"><span style="font-size:10pt">));</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;plist&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">      ......</span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><font color="#1C3387"><b>jContractList.jsp</b></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">span</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">class</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;noprint&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">div</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;find_div&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">style</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;width:98%;&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">fieldset</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">legend</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">font</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">color</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;000&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">查询条件</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&amp;nbsp;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">font</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">legend</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">div</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">style</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;width:98%;padding-top:7px;text-align:left;&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt"> </span></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">类型：</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">select</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;f_type&quot;</i></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">style</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>&quot;width:130px;heigh:30px;&quot;</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#E30000" face="Courier New" size="2"><span style="font-size:10pt">${comboContentStr}</span></font></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">select</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div></div></div><div align="left"><font color="#E30000"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></font></div><div align="left"><div><b style="color: rgb(28, 51, 135); text-align: -webkit-auto;">3、测试</b></div><div style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [175].png" type="image/png" style="cursor: default;"/></div><div style="text-align: -webkit-auto;"><br></div><div style="text-align: -webkit-auto;"><img src="陕西杰信商务综合管理平台_files/Image [176].png" type="image/png" style="cursor: default;"/></div></div></div>
</div></body></html> 