<html>
<head>
  <title>Evernote Export</title>
  <basefont face="楷体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: 楷体;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="1010"/>
<h1>Compass基础知识</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#E30000">注：Compass可以和Hibernate、JPA、Spring等集成，但是更新速度太慢，并且使用lucene版本太低，所以很多公司不使用它。</font><div><font color="#1C3387"><b>使用Compass</b></font></div><div><font color="#E30000">Compass的两个必用包分别是：commons-logging.jar、compass-2.2.0.jar和lucene核心包。</font></div><div><font color="#E30000">&lt;1&gt;拷贝上面的这两个包到项目中。</font></div><div><font color="#E30000">&lt;2&gt;编写Compass.cfg.xml配置文件</font></div><div><font color="#E30000">&lt;3&gt;编写一个类，并加上注解</font></div><div><font color="#E30000">&lt;4&gt;进行增删改查操作</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">Compass.cfg.xml </font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">compass-core-config</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://www.compass-project.org/schema/core-config&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlns:xsi</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xsi:schemaLocation</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;http://www.compass-project.org/schema/core-config</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">           http://www.compass-project.org/schema/compass-core-config-2.2.xsd&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">compass</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;default&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">connection</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">file</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">path</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;./indexDir&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">connection</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">  </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mappings</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">         </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">class</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;cn.itheima.compass.bean.Article&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">     </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">mappings</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">  </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">  </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">compass</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font face="Courier New" size="2"><span style="font-size:10pt">compass-core-config</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.compass.bean</span></div><div align="left"><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Searchable</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Article {</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Long</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">title</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">content</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">@SearchableId</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(name=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;id&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,store=Store.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>YES</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,index=Index.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>NOT_ANALYZED</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Long getId() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setId(Long id) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= id;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">@SearchableProperty</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(name=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;title&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,store=Store.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>YES</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,index=Index.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>ANALYZED</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getTitle() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">title</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setTitle(String title) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">title</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= title;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">@SearchableProperty</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(name=</span></font><font face="Courier New" size="2"><span style="font-size:10pt">&quot;content&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,store=Store.</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><i>YES</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,index=Index.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>ANALYZED</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getContent() {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">content</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setContent(String content) {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font face="Courier New" size="2"><span style="font-size:10pt">content</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= content;</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;"><br></span></div><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto;">cn.itheima.compass.test</span></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">CompassTest {</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testCreateIndex()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Exception{</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            CompassConfiguration configuration =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">CompassConfiguration();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            configuration.configure();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            Compass compass = configuration.buildCompass();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            CompassSession session = compass.openSession();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            CompassTransaction transaction = session.beginTransaction();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            Article article =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Article();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            article.setId(26L);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            article.setTitle(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;lucene可以用来做搜索引擎&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            article.setContent(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;baidu、google搜索引擎公司&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            session.save(article);</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            transaction.commit();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            session.close();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testDeleteIndex()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Exception{</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            CompassConfiguration config =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">CompassConfiguration();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            config.configure();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            Compass compass = config.buildCompass();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            CompassSession session = compass.openSession();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            CompassTransaction transaction = session.beginTransaction();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            Article article = (Article)session.get(Article.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">, 26L);</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            session.delete(article);</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            transaction.commit();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            session.close();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testQuery()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Exception{</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            CompassConfiguration config =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">CompassConfiguration();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            config.configure();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            Compass compass = config.buildCompass();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            CompassSession session = compass.openSession();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            CompassHits hits = session.find(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;公司&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i = 0; i &lt; hits.length(); i++){</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">                  Article article = (Article)hits.data(i);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">                  System.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(article.getContent());</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            session.close();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testQueryAll()</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Exception{</span></font></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            CompassConfiguration config =</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">CompassConfiguration();</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            config.configure();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            Compass compass = config.buildCompass();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            CompassSession session = compass.openSession();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            CompassQueryBuilder queryBuilder = session.queryBuilder();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            CompassQuery query = queryBuilder.wildcard(</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;title&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">&quot;l*&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            CompassHits hits = query.hits();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><b>for</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i = 0; i &lt; hits.length(); i++){</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">                  Article article = (Article)hits.data(i);</span></font></div><div align="left"><font color="#6A0081"><font face="Courier New" size="2"><span style="font-size:10pt">                  System.</span></font> <font face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(article.getContent());</span></font></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">            session.close();</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#6A0081" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div></div></div>
</div></body></html> 