<html>
<head>
  <title>Evernote Export</title>
  <basefont face="楷体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: 楷体;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="6122"/>
<h1>一、Oracle安装</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#E30000">1、Oracle在真正使用的时候都是装在Linux系统下。</font></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><span style="color: rgb(227, 0, 0);">2、Oracle并没有官方明确声明支持Ubuntu系统，所以尽量装在redhat等linux系统上。</span></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">3、mysql的默认端口是3306，Oracle的默认端口是1521。如果数据库使用的端口不是默认端口，可以使用360安全卫士或者Fport（不支持win7系统）查看真正占用的端口。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">4、Oracle 10g无法安装到win7，如果使用的是win7系统，可以安装Oracle 11g。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">5、如果使用的win7系统，并且想要安装Oracle 10g，可以将其安装到虚拟机上。这样，也便于卸载。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">6、Oracle 11g有两个包，将两个包都装上，功能才是最全的。（具体安装流程请参考安装文档）</font></div><div><font color="#E30000"><img src="Oracle_files/Image.png" type="image/png" height="31" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="172"/></font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">7、Oracle安装过程中的任何路径都不能出现中文、空格以及特殊字符。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">8、设置虚拟机的网络连接方式的时候，如果设置桥接网卡，则意味着虚拟机和宿主机处于一个局域网中。如果在Linux系统中，则可以设置为Host-only，此时其IP为192.168.56.101。</font></div><div><font color="#E30000"><img src="Oracle_files/Image [1].png" type="image/png" height="153" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="336"/></font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">9、安装Oracle的时候，解锁两个账户，分别是SCOTT和HR，SCOTT的密码默认为tiger，HR的密码默认为HR。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">10、通过sqlplus scott/tiger测试是否安装成功。</font></div><div><font color="#E30000"><img src="Oracle_files/Image [2].png" type="image/png" height="171" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="428"/></font></div></div>
</div>
<hr>
<a name="6215"/>
<h1>二、Oracle Database</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#E30000">1</font><span style="color: rgb(227, 0, 0);">、连接Oracle数据库的时候，可以使用两个url：jdbc:oracle:thin:@localhost:1521:orcl以及</span><span style="color: rgb(227, 0, 0);">jdbc:oracle:oci:@localhost:1521:orcl。两个区别在于后者需要安装Oracle客户端，并且性能上后者大于前者。（如果是Oracle集群，必须安装客户端。）</span></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><span style="color: rgb(227, 0, 0);">2、Oracle SQL Developer不需要安装Oracle客户机，PL/SQL Developer则必须安装Oracle客户机。</span></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><span style="color: rgb(227, 0, 0);">3、一个Oracle服务器是一个数据库管理系统（RDBMS），它提供开放的，全面的，近乎完整的信息管理。它有多个Oracle实例以及一个Oracle数据库组成。</span></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">4、Oracle数据库：位于硬盘上实际存放数据的文件，这些文件组织在一起，成为一个逻辑整体，即为Oracle数据库。因此在Oracle看来，“数据库”是指硬盘上文件的逻辑集合，必须要与内存里实例合作，才能对外提供数据管理服务。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">5、Oracle实例：位于物理内存里的数据结构。它由一个共享的内存池和多个后台进程所组成，共享的内存池可以被所有进程访问。用户如果要存取数据库（也就是硬盘上的文件）里的数据，必须通过实例才能实现，不能直接读取硬盘上的文件。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">6、Oracle数据库与Oracle实例的区别：实例可以操作数据库；在任何时刻一个实例只能与一个数据库关联；大多数情况下，一个数据库上只有一个实例对其进行操作。</font></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><font color="#1C3387"><b>7、集群的概念</b></font></div><div><img src="Oracle_files/Image [3].png" type="image/png" height="191" style="cursor: default;cursor: default;cursor: default;" width="675"/></div><div><img src="Oracle_files/Image [4].png" type="image/png" height="331" style="cursor: default;cursor: default;cursor: default;" width="505"/></div><div><font color="#E30000">如果只有一个Oracle实例操纵一个Oracle数据库，那么如果一旦连接断了，那么就无法对数据库进行操作了。所以需要引入集群的概念，也就是说通过多个Oracle实例操作Oracle数据库可以达到失败迁移的效果，也就是一个Oracle实例B不能对Oracle数据库进行操作，还可以有另一个Oracle实例C对Oracle数据库进行操作，并且可以实现负载均衡。</font></div><div><img src="Oracle_files/Image [5].png" type="image/png" height="312" style="cursor: default;cursor: default;cursor: default;" width="466"/><font color="#E30000"><br></font></div><div><font color="#E30000">在WEB应用中，同样存在集群的概念。也就是当多个tomcat服务器上部署的多个WEB应用操作MYSQL数据库的时候，如果一个tomcat服务器挂掉了，另外一个tomcat服务器能够照常对MYSQL数据库进行操作。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>8、Oracle数据库的结构</b></font></div><div><img src="Oracle_files/Image [6].png" type="image/png" height="241" style="cursor: default;cursor: default;cursor: default;" width="677"/></div><div><font color="#E30000">在一个Oracle实例中，使用JDBC对数据库操作的时候，首先请求会存放在PGA（Process Global Area）中，然后所有的PGA中的请求都会存放在SGA（System Global Area）中。然后通过读、写进程等后台进程操作数据库。这样就可以在SGA调用后台程序执行前进行闪回操作。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>9、进程和线程的区别</b></font></div><div><font color="#E30000">进程是一个操作系统概念，线程是一个程序概念。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">10、表空间为逻辑概念，数据文件为物理概念。表空间是多个数据文件（DBF）组成，数据文件只能属于一个表空间。用户只能操作表空间为users的表空间。</font></div><div><img src="Oracle_files/Image [7].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><font color="#1C3387"><b>11、数据库的逻辑和物理结构：</b></font></div><div><img src="Oracle_files/Image [8].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">一个数据库包含多个表空间。表空间包含多个段，段是区的集合，区是数据块的集合，数据块会被映射到磁盘块。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">12、Oracle数据库是一个庞大的软件，启动它会占用大量的内存和CPU资源，如果不想让Oracle数据库自动启动，则可以设置为手动启动。</font></div><div><img src="Oracle_files/Image [9].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">13、Oracle Database客户机就是要从局域网内的一台计算机上访问另一台计算机上的Oracle服务，需要在此计算机上安装能通过局域网访问另一台计算机上的Oracle服务的客户机。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>14、数据库用户管理</b></font></div><div><font color="#E30000">①管理员登陆</font></div><div><font color="#E30000">sqlplus sys/*** as sysdba;</font></div><div><font color="#E30000">sqlplus / as sysdba;</font></div><div><font color="#E30000">②解锁</font></div><div><font color="#E30000">alter user scott account unlock;</font></div><div><font color="#E30000">③改密码</font></div><div><font color="#E30000">alter user scott identified by 新密码;</font></div></div>
</div>
<hr>
<a name="6225"/>
<h1>三、基本SQL Select语句</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><span style="color: rgb(227, 0, 0);">1、通过spool c:\select语句.txt、spool off记录sql语句日志。</span></div><div><font color="#E30000"><br></font></div><div><span style="color: rgb(255, 0, 0);">2、show user --显示当前操作用户名。</span></div><div><img src="Oracle_files/Image [10].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">3、select * from tab; --显示当前用户下的表。</font></div><div><img src="Oracle_files/Image [11].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">4、desc emp --显示表结构</font></div><div><img src="Oracle_files/Image [12].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">5、set linesize 120 --设置行宽 </font></div><div><font color="#E30000">   col ename for a8 --设置列宽，a表示字符，设置字符列为8位</font></div><div><font color="#E30000">   col sal for 9999 --设置数字格式为四位</font></div><div><img src="Oracle_files/Image [13].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">6、select * from emp; --查询所有员工的所有信息</font></div><div><img src="Oracle_files/Image [14].png" type="image/png" height="221" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="630"/></div><div><br></div><div><font color="#E30000">7、/ --执行上条执行的指令</font></div><div><img src="Oracle_files/Image [15].png" type="image/png" height="159" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="657"/></div><div><br></div><div><font color="#E30000">8、select empno,ename,job,mgr,hierdate,sal,comm,deptno from emp;  --通过列名查询</font></div><div><img src="Oracle_files/Image [16].png" type="image/png" height="176" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="654"/></div><div><br></div><div><font color="#E30000">9、修改错误的sql语句。</font></div><div><img src="Oracle_files/Image [17].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [18].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [19].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">在使用c命令修改前，首先应该指出修改第几行，例如上面的2表示修改第2行，然后通过 c/fomr/from表示将fomr修改为from。然后通过“/”执行已经修改正确的指令。</font></div><div><br></div><div><span style="color: rgb(227, 0, 0);">10、select empno,ename,sal,sal*12 年薪,comm 奖金,sal*12+comm 年收入 from emp; --使用别名做列名，可以直接使用别名，或通过as关键字。</span></div><div><img src="Oracle_files/Image [20].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0);">注：别名中如果包含空格或特殊的字符，则必须加上双引号。</span></div><div><span style="color: rgb(227, 0, 0);">别名区分大小写。</span></div><div><span style="color: rgb(227, 0, 0);">使用别名便于计算。</span></div><div><img src="Oracle_files/Image [21].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [22].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">11、通过ed命令可以使用文本编辑器修改sql语句。</font></div><div><img src="Oracle_files/Image [23].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [24].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [25].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [26].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">12、空值是无效的，未指定的，未知的或不可预知的值。空值不是空格或者0。</font><span style="color: rgb(227, 0, 0);">SQL中包含null值的表达式都为null，并且null!=null。此时，可以通过滤空函数（nvl）来解决。</span></div><div><img src="Oracle_files/Image [27].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">13、查询奖金为null的员工，注意不能使用comm=null作为查询条件，而应该使用comm is null作为查询条件。</font></div><div><img src="Oracle_files/Image [28].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [29].png" type="image/png" height="238" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="662"/></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">14、使用DISTINCT去掉重复记录。</font></div><div><img src="Oracle_files/Image [30].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [31].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">DISTINCT作用于后面所有的列。如果后面有多个列，那么必须多列数据都相同才算做重复记录。</font></div><div><img src="Oracle_files/Image [32].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">15、select * from departments; --选择全部列。</font></div><div><br></div><div><font color="#E30000">16、注意：</font></div><div><font color="#E30000">SQL语言大小写不敏感。</font></div><div><font color="#E30000">SQL可以写在一行或者多行。</font></div><div><font color="#E30000">关键字不能被缩写也不能分行。</font></div><div><font color="#E30000">各子句一般要分行写。</font></div><div><font color="#E30000">使用缩进提高语句的可读性。</font></div><div><br></div><div><font color="#1C3387"><b>17、算数运算符</b></font></div><div><font color="#E30000">乘除的优先级高于加减。</font></div><div><font color="#E30000">优先级相同时，按照从左至右运算。</font></div><div><font color="#E30000">可以使用括号改变优先级。</font></div><div><font color="#E30000">例子：select last_name,salary,12*(sal+100) from employee;</font></div><div><br></div><div><font color="#1C3387"><b>18、连接符</b></font></div><div><font color="#E30000">把列与列，列与字符连接在一起。用“||”表示，可以用来“合成”列。</font></div><div><img src="Oracle_files/Image [33].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">连接符作用与concat方法一致。</font></div><div><img src="Oracle_files/Image [34].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [35].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>19、伪表</b></font></div><div><img src="Oracle_files/Image [36].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>20、字符串</b></font></div><div><font color="#E30000">字符串可以是select列表中的一个字符，数字，日期。</font></div><div><font color="#E30000">日期和字符只能在单引号中出现。</font></div><div><font color="#E30000">例子：select last_name||' is a '||job_id as &quot;Employee Details&quot; from employees;</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">21、保存sql语句到文件中，并且通过“@”调用sql文件，执行sql语句。</font></div><div><img src="Oracle_files/Image [37].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div></div>
</div>
<hr>
<a name="6255"/>
<h1>SQL优化</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#E30000">SQL优化：</font></div><div><font color="#E30000">1、尽量使用列名（Oracle9i之后，*和列名一样）。</font></div><div><font color="#E30000">2、尽量使用where。在分组数据中可以使用having作为过滤条件，也可以使用where语句。使用where效率更高。</font></div><div><font color="#E30000">3、使用order by进行排序。</font></div></div>
</div>
<hr>
<a name="6257"/>
<h1>四、SQL和SQL*Plus</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、SQL语句与SQL*Plus命令</b></font><div><img src="Oracle_files/Image [38].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/><font color="#E30000"><br></font><div><font color="#E30000">SQL是一种语言，ANSI标准，关键字不能缩写，并且使用语句控制数据库中的表的定义信息和表中的数据。</font></div><div><font color="#E30000">SQL*Plus是一种环境，Oracle的特性之一，关键字可以缩写，命令不能改变数据库中的数据的值，并且是集中运行。</font></div><div><font color="#E30000">SQL*Plus常用命令及其全称。</font></div></div><div><font color="#E30000">desc--&gt;describe</font></div><div><font color="#E30000">set--&gt;set</font></div><div><font color="#E30000">col--&gt;column</font></div><div><font color="#E30000">c--&gt;change</font></div><div><font color="#E30000">ed--&gt;edit</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>2、iSQL*Plus</b></font></div><div><font color="#E30000">使用iSQL*Plus可以：</font></div><div><font color="#E30000">描述表结构。</font></div><div><font color="#E30000">编辑SQL语句。</font></div><div><font color="#E30000">执行SQL语句。</font></div><div><font color="#E30000">将SQL保存在文件中并将SQL语句执行结果保存在文件中。</font></div><div><span style="color: rgb(227, 0, 0);">将文本文件装入SQL*Plus编辑窗口。</span></div><div><font color="#E30000">例如：http://localhost:5560/isqlplus/</font></div><div><img src="Oracle_files/Image [39].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [40].png" type="image/png" height="451" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="659"/></div><div><br></div><div><font color="#1C3387"><b>3、Oracle EM(Enterprise Manager)</b></font><font color="#E30000">的端口为1158。</font></div><div><img src="Oracle_files/Image [41].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [42].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div></div>
</div>
<hr>
<a name="6271"/>
<h1>五、过滤和排序数据</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、使用where子句，将不满足条件的行过滤掉。</b></font><div><font color="#E30000">例子：查询10号部门的员工。</font></div><div><img src="Oracle_files/Image [43].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>2、字符和日期</b></font></div><div><font color="#E30000">字符和日期要包含在单引号中。</font></div><div><font color="#E30000">字符大小写敏感，日期格式敏感。</font></div><div><font color="#E30000">默认的日期格式是DD-MON-RR。</font></div><div><img src="Oracle_files/Image [44].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [45].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [46].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [47].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [48].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><img src="Oracle_files/Image [49].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [50].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [51].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>3、比较运算</b></font></div><div><font color="#E30000">=、&gt;、&gt;=、&lt;、&lt;=、&lt;&gt;（也可以是!=）。</font></div><div><font color="#E30000">BETWEEN...AND... 在两个值之间（包含边界）</font></div><div><img src="Oracle_files/Image [52].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：小值在前，大值在后。</font></div><div><img src="Oracle_files/Image [53].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0);">IN(set) 等于值列表中的一个</span></div><div><img src="Oracle_files/Image [54].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [55].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [56].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">LIKE 模糊查询（%表示0个或多个任意字符，_表示一个任意字符）</font></div><div><img src="Oracle_files/Image [57].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><img src="Oracle_files/Image [58].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">如果用户名中必须包含‘_’字符，则需要转义。</font></div><div><img src="Oracle_files/Image [59].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/><font color="#E30000"><br>
注意：可以使用括号改变优先级顺序。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>4、ORDER BY子句</b></font></div><div><font color="#E30000">使用ORDER BY子句排序。ASC(ascend)：升序，DESC(descend)：降序</font></div><div><img src="Oracle_files/Image [60].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [61].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [62].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：直接使用列序号也能进行排序。</font></div><div><img src="Oracle_files/Image [63].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：如果使用多列进行排序，那么首先按照第一列进行排序，然后在按照第二列进行排序，以此类推。</font></div><div><img src="Oracle_files/Image [64].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">由上图可以看到如果按照正序排序，那么列值为空值的行将排在后面。</font></div><div><img src="Oracle_files/Image [65].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">通过a命令可以追加命令信息。</font></div><div><img src="Oracle_files/Image [66].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">由上图可以看到如果按照逆序排序，那么列值为空值的行将排在上面。</font></div><div><img src="Oracle_files/Image [67].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">为了实现列值为空值的行在逆序排序的情况下仍然排在下面，则只需要追加“nulls last”即可。</font></div></div>
</div>
<hr>
<a name="6325"/>
<h1>六、单行函数</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、单行函数与多行函数</b></font><div><font color="#E30000">（函数可以没有参数，但必须要有返回值）</font><div><img src="Oracle_files/Image [68].png" type="image/png" height="210" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="538"/></div><div><font color="#E30000">单行函数用来操作数据对象，并且接受参数返回一个结果，只对一行进行变换，每行返回一个结果。它可以转换数据类型，也可以嵌套，并且参数可以是一列或一个值。</font></div><div><img src="Oracle_files/Image [69].png" type="image/png" height="284" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="460"/></div><div><br></div><div><font color="#1C3387"><b>2、字符函数</b></font></div><div><img src="Oracle_files/Image [70].png" type="image/png" height="308" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="519"/></div><div><img src="Oracle_files/Image [71].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：通过上面的大小写函数可以解决一些字符比较问题。例如，名字可能有大写也可能有小写，则可以统一写成小写进行比较。</font></div><div><font color="#E30000">select employee_id,last_name,department_id from employees where LOWER(last_name)='higgins';</font></div><div><br></div><div><img src="Oracle_files/Image [72].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [73].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [74].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [75].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [76].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [77].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [78].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [79].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>3、数字函数</b></font></div><div><font color="#E30000">ROUND：四舍五入</font></div><div><img src="Oracle_files/Image [80].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">TRUNC：截断</font></div><div><img src="Oracle_files/Image [81].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">MOD：求余</font></div><div><font color="#E30000">select last_name,salary,MOD(salary,5000) from employees where job_id='SA_REP';</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>4、日期</b></font></div><div><font color="#E30000">Oracle中的日期型数据实际含有两个值：日期和事件。</font></div><div><font color="#E30000">默认的日期格式是DD-MON-RR。</font></div><div><img src="Oracle_files/Image [82].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [83].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [84].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">sysdate与systimestamp的区别都是返回数据库的时间并且使用数据库的时区，它们返回的是操作系统的时间。sysdate返回的是date类型，没有时区信息。systimestamp返回的有时区信息。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>日期的数学函数</b></font></div><div><font color="#E30000">在日期上加上或减去一个数字结果仍为日期。</font></div><div><font color="#E30000">两个日期相减返回日期之间相差的天数。</font></div><div><font color="#E30000">可以用数字除24来向日期中加上或减去小时。</font></div><div><img src="Oracle_files/Image [85].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [86].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>日期函数</b></font></div><div><font color="#E30000">MONTHS_BETWEEN 两个日期相差的月数</font></div><div><font color="#E30000">ADD_MONTHS     向指定日期中加上若干月数</font></div><div><font color="#E30000">NEXT_DAY       指定日期的下一个日期</font></div><div><font color="#E30000">LAST_DAY       本月的最后一天</font></div><div><font color="#E30000">ROUND          日期四舍五入</font></div><div><font color="#E30000">TRUNC          日期截断</font></div><div><img src="Oracle_files/Image [87].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [88].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [89].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [90].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [91].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [92].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>5、转换函数</b></font></div><div><img src="Oracle_files/Image [93].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#1C3387"><b>隐式数据类型转换（自动类型转换）</b></font></div><div><img src="Oracle_files/Image [94].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>显示数据类型转换</b></font></div><div><img src="Oracle_files/Image [95].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>TO_CHAR 函数对日期的转换</b></font></div><div><font color="#E30000">必须包含在单引号中而且大小写敏感。</font></div><div><font color="#E30000">可以包含任意的有效的日期格式。</font></div><div><font color="#E30000">日期之间用逗号隔开。</font></div><div><br></div><div><b style="color: rgb(28, 51, 135);">TO_CHAR 函数对日期的转换</b></div><div><span style="color: rgb(227, 0, 0);">下面是在TO_CHAR函数中经常使用的几种格式：</span></div><div><img src="Oracle_files/Image [96].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [97].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><font color="#1C3387"><b>日期格式的元素</b></font></div><div><img src="Oracle_files/Image [98].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [99].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><img src="Oracle_files/Image [100].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>6、通用函数</b></font></div><div><font color="#E30000">这些函数适用于任何数据类型，同时也适用于空值。</font></div></div><div><font color="#E30000">NVL2</font></div><div><img src="Oracle_files/Image [101].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">注：NVL与NVL2的区别在于，NVL(a,b)，如果a为NULL，则NVL函数返回b值，否则返回a值。NVL2(a,b,c)，如果a为NULL，则NVL2函数返回c值，否则返回b值。</font></div><div><br></div><div><font color="#E30000">NULLIF</font></div><div><img src="Oracle_files/Image [102].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><img src="Oracle_files/Image [103].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">COALESCE（从左往右找到第一个不为NULL的值）</font></div><div><img src="Oracle_files/Image [104].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>7、条件表达式</b></font></div><div><span style="color: rgb(227, 0, 0);">CASE表达式：</span></div><div><img src="Oracle_files/Image [105].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><img src="Oracle_files/Image [106].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">DECODE函数：</font></div><div><img src="Oracle_files/Image [107].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><img src="Oracle_files/Image [108].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><b style="color: rgb(28, 51, 135);">8、嵌套函数</b></div><div><font color="#E30000">单行函数可以嵌套。</font></div><div><font color="#E30000">嵌套函数的执行顺序是由内到外。</font></div></div>
</div>
<hr>
<a name="6423"/>
<h1>七、分组函数</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、什么是分组函数？</b></font><div><font color="#E30000">分组函数作用于一组数据，并对一组数据返回一个值。</font></div><div><br></div><div><font color="#1C3387"><b>2、组函数类型</b></font></div><div><span style="color: rgb(227, 0, 0);">SUM</span></div><div><img src="Oracle_files/Image [109].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">AVG</font></div><div><img src="Oracle_files/Image [110].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">COUNT<br></font><img src="Oracle_files/Image [111].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [112].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [113].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：</font></div><div><font color="#E30000">1、由上两图可以看到所有的组函数都会自动滤空。解决方案可以通过NVL函数解决。</font></div><div><font color="#E30000">例如：select SUM(NVL(comm,0))/COUNT(NVL(comm,0)) from emp;</font></div><div><font color="#E30000">2、通过DISTINCT关键字返回表达式非空且不重复的记录总数。</font></div><div><font color="#E30000">select COUNT(DISTINCT department_id) from employees;</font></div><div><br></div><div><font color="#E30000">MAX</font></div><div><font color="#E30000">MIN</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>3、分组数据：GROUP BY子句</b></font></div><div><font color="#E30000">可以使用GROUP BY子句将表中的数据分成若干组。</font></div><div><img src="Oracle_files/Image [114].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：</font></div><div><font color="#E30000">1、在SELECT列表中所有未包含在组函数中的列都应该包含在GROUP BY子句中。</font></div><div><font color="#E30000">select department_id,AVG(salary) from employees group by department_id;</font></div><div><font color="#E30000">2、包含在GROUP BY子句中的列不必包含在select列表中。</font></div><div><span style="color: rgb(227, 0, 0);">select AVG(salary) from employees group by department_id;</span></div><div><br></div><div><img src="Oracle_files/Image [115].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>4、过滤分组：HAVING子句</b></font></div><div><font color="#E30000">1、行已经被分组。</font></div><div><font color="#E30000">2、使用了组函数。</font></div><div><font color="#E30000">3、满足HAVING子句中条件的分组将被显示。</font></div><div><img src="Oracle_files/Image [116].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [117].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [118].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：可以看到</font><span style="color: rgb(227, 0, 0);">在分组数据中可以使用having作为过滤条件，也可以使用where语句。由于使用where效率更高，所以能使用where语句的就不少使用having作为过滤条件。但是，having与where不同之处在于可以使用分组函数。</span></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><font color="#1C3387"><b>5、GROUP BY语句的增强</b></font></div><div><font color="#E30000">问题：按照部门统计各部门不同工种的工资情况，要求按如下格式输出：</font></div><div><img src="Oracle_files/Image [119].png" type="image/png" style="cursor: default;cursor: default;"/><img src="Oracle_files/Image [120].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><img src="Oracle_files/Image [121].png" type="image/png" style="cursor: default;cursor: default;"/><img src="Oracle_files/Image [122].png" type="image/png" style="cursor: default;cursor: default;"/><img src="Oracle_files/Image [123].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">注：同上图可以看到，为了实现问题中的效果，应该先组织好数据，然后通过break on deptno skip 2调整格式。最后，如果想要消除效果，则再通过break on null完成。</font></div></div>
</div>
<hr>
<a name="6455"/>
<h1>八、笛卡尔积与连接类型</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、笛卡尔积</b></font><div><font color="#E30000">①笛卡尔积会在下面条件下产生：</font></div><div><font color="#E30000">省略连接条件</font></div><div><font color="#E30000">连接条件无效</font></div><div><font color="#E30000">所有表中的所有行互相连接</font></div><div><font color="#E30000">②为了避免笛卡尔积，可以在where语句中加入有效的连接条件。</font></div><div><font color="#E30000">③在实际运行环境下，应避免使用全笛卡尔积。</font></div><div><img src="Oracle_files/Image [124].png" type="image/png" height="207" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="704"/></div><div><br></div><div><font color="#1C3387"><b>2、连接的类型</b></font></div><div><font color="#E30000">等值连接</font></div><div><img src="Oracle_files/Image [125].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">不等值连接</font></div><div><img src="Oracle_files/Image [126].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">外连接</font></div><div><img src="Oracle_files/Image [127].png" type="image/png" height="218" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="500"/></div><div><br></div><div><img src="Oracle_files/Image [128].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [129].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">自连接</font><br><div><img src="Oracle_files/Image [130].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div></div><div><br></div><div><font color="#1C3387"><b>3、层次查询</b></font></div><div><img src="Oracle_files/Image [131].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><img src="Oracle_files/Image [132].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div></div>
</div>
<hr>
<a name="6477"/>
<h1>九、子查询</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、子查询</b></font><div><font color="#E30000">子查询（内查询）在主查询之前一次执行完成。子查询的结果被组查询使用（外查询）。</font></div><div><font color="#E30000">例子：查询出比SCOTT工资多的雇员的信息。</font></div><div><img src="Oracle_files/Image [133].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>2、注意的问题</b></font></div><div><font color="#E30000">①括号。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">②采用合理的书写风格。</font></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><span style="color: rgb(227, 0, 0);">③可以主查询的where from select having后面放置子查询。</span></div><div><img src="Oracle_files/Image [134].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">④不可以主查询的group by后面放置子查询。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">⑤单独强调from后面放置的子查询。</font></div><div><img src="Oracle_files/Image [135].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">⑥主查询和子查询可以不是同一张表，只要子查询返回的结果，主查询可以使用即可。</font></div><div><img src="Oracle_files/Image [136].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">上图的功能用多表查询也可以实现。</font></div><div><img src="Oracle_files/Image [137].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">⑦一般不在子查询中，不使用order by;但在Top-N分析问题中，必须使用order by。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">⑧一般先执行子查询，再执行主查询；但相关子查询除外。</font></div><div><img src="Oracle_files/Image [138].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">⑨单行子查询只能使用单行操作符；多行子查询只能使用多行操作符。</font></div><div><font color="#E30000">单行子查询只返回一行，使用单行比较操作符（=、&gt;、&gt;=、&lt;、&lt;=、&lt;&gt;）。</font></div><div><font color="#E30000">例子：select last_name,job_id,salary from employees where job_id=(</font></div><div><font color="#E30000">  select job_id from employees where employee_id=141</font></div><div><font color="#E30000">) and salary&gt;(</font></div><div><font color="#E30000">  select salary from employees where employee_id=143</font></div><div><font color="#E30000">);</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">多行子查询，返回多行。使用多行比较操作符（IN、ANY、ALL）。</font></div><div><img src="Oracle_files/Image [139].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [140].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [141].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>在子查询中使用组函数。</b></font></div><div><font color="#E30000">select last_name,job_id,salary from employees where salary=(</font></div><div><font color="#E30000">  select MIN(salary) from employees</font></div><div><font color="#E30000">);</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>子查询中的HAVING子句。</b></font></div><div><font color="#E30000">select department_id,MIN(salary) from employees group by department_id having MIN(salary)&gt;(</font></div><div><font color="#E30000">  select MIN(salary) from employees where department_id = 50</font></div><div><font color="#E30000">);</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">⑩子查询中的null。</font></div><div><font color="#E30000">select last_name,job_id from employees where job_id=(</font></div><div><font color="#E30000">  select job_id from employees where last_name='Haas'</font></div><div><font color="#E30000">)</font><span style="color: rgb(227, 0, 0);">;</span></div><div><font color="#E30000">子查询中包含null值，则子查询不返回任何行。</font></div><div><font color="#E30000">例如：</font></div><div><img src="Oracle_files/Image [142].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">由于上面的select mgr from emp子查询语句包含NULL，所以不返回任何行。因为IN操作符相当于&lt;&gt;ANY，也就是AND逻辑。</font></div><div><font color="#E30000">例如：a not in (10,20,null)相当于a!=10 and a!= 20 and a!=null。</font></div><div><font color="#E30000">此时，在进行子查询的时候应当将为null的值的行数据过滤掉。</font></div><div><img src="Oracle_files/Image [143].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>3、rownum 行号(伪列)</b></font></div><div><img src="Oracle_files/Image [144].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">注：1、rownum永远按照默认的顺序生成。</font></div><div><font color="#E30000">    2、rownum只能使用&lt;、&lt;=，不能使用&gt;、&gt;=。</font></div><div><img src="Oracle_files/Image [145].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>4、课堂练习</b></font></div><div><font color="#E30000">①找到员工表中工资最高的前三名，如下格式：</font></div><div><img src="Oracle_files/Image [146].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">答案：</font></div><div><img src="Oracle_files/Image [147].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">②找到员工表中薪水大于本部门平均薪水的员工。</font></div><div><img src="Oracle_files/Image [148].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">答案：</font></div><div><img src="Oracle_files/Image [149].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#E30000">③统计每年入职的员工个数。</font></div><div><img src="Oracle_files/Image [150].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">答案：</font></div><div><img src="Oracle_files/Image [151].png" type="image/png" style="cursor: default;"/></div></div>
</div>
<hr>
<a name="6519"/>
<h1>十、集合运算</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#1C3387"><b>1、集合运算符</b></font></div><img src="Oracle_files/Image [152].png" type="image/png" style="cursor: default;"/><div><font color="#E30000">UNION/UNION ALL 并集</font></div><div><img src="Oracle_files/Image [153].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [154].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [155].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><font color="#E30000">INTERSECT 交集</font></div><div><font color="#E30000">显示薪水同时位于级别1（700~1300）和级别2（1201~1400）的员工信息。</font></div><div><font color="#E30000">select ename,sal from emp where sal between 700 and 1300</font></div><div><font color="#E30000">INTERSECT</font></div><div><font color="#E30000">select ename,sal from emp where sal between 1201 and 1400;</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">MINUS 差集</font></div><div><font color="#E30000">显示薪水同时位于级别1（700~1300），但不属于级别2（1201~1400）的员工信息。</font></div><div><font color="#E30000">select ename,sal from emp where sal between 700 and 1300</font></div><div><font color="#E30000">MINUS</font></div><div><font color="#E30000">select ename,sal from emp where sal between 1201 and 1400;</font></div></div>
</div>
<hr>
<a name="6533"/>
<h1>十一、处理数据</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、处理数据的SQL语句</b></font><div><img src="Oracle_files/Image [156].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>2、INSERT</b></font></div><div><font color="#E30000">使用INSERT语句向表中插入数据。</font></div><div><img src="Oracle_files/Image [157].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>向表中插入空值。</b></font></div><div><font color="#E30000">隐式方式：在列名表中省略该列的值。</font></div><div><font color="#E30000">INSERT INTO departments VALUES(department_id,department_name) values(30,'Purchasing');</font></div><div><font color="#E30000">显示方式：在values子句中指定空值。</font></div><div><font color="#E30000">INSERT INTO departments VALUES(100,'Finance',NULL,NULL);</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>插入指定的值。</b></font></div><div><font color="#E30000">INSERT INTO employees VALUES(114,'Den','Raphealy','DRAPHEAL','515.127.4561',TO_DATE('FEB 3,1999','MON DD,YYYY'),'AC_ACCOUNT',11000,NULL,100,30);</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>3、创建脚本</b></font></div><div><font color="#E30000">在SQL语句中使用&amp;变量指定列值。&amp;变量放在VALUES子句中。</font></div><div><img src="Oracle_files/Image [158].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [159].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>4、批处理：一次插入多条数据</b></font></div><div><img src="Oracle_files/Image [160].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [161].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><font color="#E30000">在其他表中拷贝数据。</font></div><div><font color="#E30000">·在INSERT语句中加入子查询。</font></div><div><font color="#E30000">·不必书写VALUES子句。</font></div><div><font color="#E30000">·子查询中的值列表应与INSERT子句中的列名对应。</font></div><div><img src="Oracle_files/Image [162].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>5、UPDATE</b></font></div><div><font color="#E30000">使用update语句更新数据。</font></div><div><font color="#E30000">UPDATE employees SET department_id=70 WHERE employee_id=113;</font></div><div><font color="#E30000">可以一次更新多条数据。</font></div><div><font color="#E30000">UPDATE copy_emp SET department_id=110;</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>在UPDATE语句中使用子查询</b></font></div><div><font color="#E30000">在UPDATE中使用子查询，使更新基于另一个表中的数据。</font></div><div><font color="#E30000">UPDATE copy_emp SET department_id=(</font></div><div><font color="#E30000">  SELECT department_id FROM employees WHERE employee_id=100</font></div><div><font color="#E30000">) WHERE job_id=(</font></div><div><font color="#E30000">  SELECT job_id FROM employees WHERE employee_id = 200</font></div><div><font color="#E30000">); </font></div><div><font color="#1C3387"><br></font></div><div><font color="#1C3387"><b>6、DELETE</b></font></div><div><span style="color: rgb(227, 0, 0);">使用DELETE语句从表中删除数据。</span></div><div><img src="Oracle_files/Image [163].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>7、数据库事务</b></font></div><div><font color="#E30000">数据库事务由以下的部分组成：</font></div><div><font color="#E30000">一个或多个DML语句</font></div><div><font color="#E30000">一个DDL（数据定义语言）语句</font></div><div><font color="#E30000">一个DCL（数据控制语言）语句</font></div><div><img src="Oracle_files/Image [164].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [165].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [166].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [167].png" type="image/png" style="cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>8、数据库的隔离级别</b></font></div><div><font color="#E30000">数据库提供的4种事务隔离级别：</font></div><div><font color="#E30000">READ UNCOMMITTED(读未提交数据)</font></div><div><font color="#E30000">允许事务读取未被其他事物提交的变更、脏读、不可重复读和幻读的问题都会出现。</font></div><div><font color="#E30000">READ COMMITTED(读已提交数据)</font></div><div><font color="#E30000">只允许事务读取已经被其它事务提交的变更。可以避免脏读，但不可重复读和幻读问题仍然可能出现。</font></div><div><font color="#E30000">REPEATABLE READ(可重复读)</font></div><div><font color="#E30000">确保事务可以多次从一个字段中读取相同的值。在这个事务持续期间，禁止其他事务对这个字段进行更新。可以避免脏读和不可重复读，但幻读的问题仍然存在。</font></div><div><font color="#E30000">SERIALIZABLE(串行化)</font></div><div><font color="#E30000">确保事务可以从一个表中读取相同的行。在这个事务持续期间，禁止其他事务对该表执行插入，更新和删除操作。所有并发问题都可以避免，但性能十分低下。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">Oracle支持的2种事务隔离级别：READ COMMITTED，SERIALIZABLE。Oracle默认的事务隔离级别为：READ COMMITTED。</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">Mysql支持4种事务隔离界别。Mysql默认的事务隔离级别为：REPEATABLE READ。</font></div></div>
</div>
<hr>
<a name="6559"/>
<h1>十二、DDL语句</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、表名和列名的命名规则</b></font><div><font color="#E30000">必须以字母开头。</font></div><div><font color="#E30000">必须在1-30个字符之间。</font></div><div><font color="#E30000">必须只能包含A-Z，a-z，0-9，_，$，和#。</font></div><div><font color="#E30000">必须不能和用户定义的其他对象重名。</font></div><div><font color="#E30000">必须不能使Oracle的保留字。</font></div><div><font color="#E30000">Oracle默认存储是都存为大写。</font></div><div><font color="#E30000">数据库名只能是1~8位，datalink可以是128位，和其他一些特殊字符。</font></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#1C3387"><b>2、数据类型</b></font></div><div><img src="Oracle_files/Image [168].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#1C3387"><b>3、常用的数据库对象</b></font></div><div><img src="Oracle_files/Image [169].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#1C3387"><b><br></b></font></div><div><font color="#1C3387"><b>4、CREATE TABLE</b></font></div><div><font color="#E30000">必须指定：表名，列名，数据类型，数据类型的大小。</font></div><div><img src="Oracle_files/Image [170].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>查询其他用户的表。</b></font></div><div><font color="#E30000">其他用户的表不属于本用户的空间。</font></div><div><font color="#E30000">如果要查询其他用户下的表，要使用其他用户的用户名作为前缀。</font></div><div><br></div><div><font color="#1C3387"><b>使用子查询创建表</b></font></div><div><font color="#E30000">·使用As subquery选项，将创建表和插入数据结合起来。</font></div><div><font color="#E30000">·指定的列和子查询中的列要一一对应。</font></div><div><font color="#E30000">·通过列名和默认值定义列。</font></div><div><img src="Oracle_files/Image [171].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>5、rowid 行地址</b></font></div><div><img src="Oracle_files/Image [172].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>6、ALTER TABLE语句</b></font></div><div><font color="#E30000">·追加新的列</font></div><div><font color="#E30000">·修改现有的列</font></div><div><font color="#E30000">·删除一个列</font></div><div><img src="Oracle_files/Image [173].png" type="image/png" height="201" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="692"/></div><div><br></div><div><img src="Oracle_files/Image [174].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>7、删除表</b></font></div><div><font color="#E30000">·数据和结构都被删除</font></div><div><font color="#E30000">·所有正在运行的相关事务被提交</font></div><div><font color="#E30000">·所有相关索引被删除</font></div><div><font color="#E30000">·DROP TABLE语句不能回滚，但是可以闪回</font></div><div><img src="Oracle_files/Image [175].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [176].png" type="image/png" height="92" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="629"/></div><div><br></div><div><img src="Oracle_files/Image [177].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [178].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [179].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [180].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：管理员没有回收站。</font></div><div><br></div><div><font color="#1C3387"><b>8、改变对象的名称</b></font></div><div><font color="#E30000">·执行RENAME语句改变表，视图，序列，或同义词的名称。</font></div><div><font color="#E30000">RENAME dept TO detail_dept;</font></div><div><font color="#E30000">·必须是对象的拥有者</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>9、约束</b></font></div><div><font color="#E30000">·约束是表一级的限制</font></div><div><font color="#E30000">·如果存在依赖关系，约束可以防止错误的删除数据。</font></div><div><font color="#E30000">·约束的类型</font></div><div><font color="#E30000">①NOT NULL</font></div><div><font color="#E30000">②UNIQUE</font></div><div><font color="#E30000">③PRIMARY KEY</font></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><span style="color: rgb(227, 0, 0);">④CHECK</span></div><div><span style="color: rgb(227, 0, 0);">·定义每一行记录锁必须满足的条件。</span></div><div><span style="color: rgb(227, 0, 0);">·下面的表达式可以使用在check约束中：</span></div><div><span style="color: rgb(227, 0, 0);"> ·引用CURRVAL,NEXTVAL,LEVEL,和ROWNUM</span></div><div><span style="color: rgb(227, 0, 0);"> ·调用SYSDATE,UID,USER和USERENV函数</span></div><div><span style="color: rgb(227, 0, 0);"> ·另一个表的查询记录</span></div><div><img src="Oracle_files/Image [181].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><span style="color: rgb(227, 0, 0);"><br></span></div><div><span style="color: rgb(227, 0, 0);">⑤FOREIGN KEY</span></div><div><span style="color: rgb(227, 0, 0);">FOREIGN KEY:在子表中，定义了一个表级的约束。</span></div><div><span style="color: rgb(227, 0, 0);">REFERENCES:指定表和父表中的列。</span></div><div><span style="color: rgb(227, 0, 0);">ON DELETE CASCADE:当删除父表时，级联删除子表记录。</span></div><div><span style="color: rgb(227, 0, 0);">ON DELETE SET NULL:将子表的相关依赖记录的外键设置为null</span></div><div><img src="Oracle_files/Image [182].png" type="image/png" style="cursor: default;"/></div></div>
</div>
<hr>
<a name="6607"/>
<h1>十三、其他数据库对象</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、创建视图</b></font><div><font color="#E30000">·使用下面的语法格式创建视图</font></div><div><font color="#E30000">CREATE [OR REPLACE] [FORCE|NOFORCE] VIEW view</font></div><div><font color="#E30000">[(alias)[,alias]...]</font></div><div><font color="#E30000">As subquery</font></div><div><font color="#E30000">[WITH CHECK OPTION [CONSTRAINT constraint]]</font></div><div><font color="#E30000">[WITH READ ONLY [CONSTRAINT constraint]]</font></div><div><font color="#E30000"> ·FORCE：子查询不一定存在</font></div><div><font color="#E30000"> ·NOFORCE：子查询存在（默认）</font></div><div><font color="#E30000"> ·WITH READ ONLY:只能做查询操作</font></div><div><font color="#E30000">·子查询可以是复杂的SELECT语句</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">·创建视图时在子查询中给列定义别名</font></div><div><font color="#E30000">·在选择视图中的列时应使用别名</font></div><div><img src="Oracle_files/Image [183].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">注：如果某个用户没有创建视图的权限，那么就需要先给这个用户赋权限。</font></div><div><img src="Oracle_files/Image [184].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [185].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">·视图是一种虚表。</font></div><div><font color="#E30000">·视图建立在已有表的基础上，视图赖以建立的这些表成为基表。</font></div><div><font color="#E30000">·向视图提供数据内容的语句为SELECT语句，可以将视图理解为存储起来的SELECT语句。</font></div><div><font color="#E30000">·视图向用户提供基表数据的另一种表现形式。</font></div><div><font color="#E30000">·可以使用WITH READ ONLY选项屏蔽对视图的DML操作。</font></div><div><font color="#E30000">·任何DML操作都会返回一个Oracle Server错误。</font></div><div><br></div><div><font color="#1C3387"><b>2、简单视图和复杂视图</b></font></div><div><img src="Oracle_files/Image [186].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><font color="#E30000">注：不建议通过视图对表进行修改。</font></div><div><br></div><div><font color="#1C3387"><b>3、修改视图</b></font></div><div><font color="#E30000">·使用CREATE OR REPLACE VIEW子句修改视图</font></div><div><font color="#E30000">·CREATE VIEW子句中各列的别名应和子查询中各列相对应。</font></div><div><img src="Oracle_files/Image [187].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font color="#E30000">注：建议不要对视图进行DML操作，例如delete、update、insert。</font></div><div><br></div><div><font color="#1C3387"><b>4、删除视图</b></font></div><div><font color="#E30000">删除视图只是删除视图的定义，并不会删除基表的数据。</font></div><div><font color="#E30000">DROP VIEW view;</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>5、什么是序列？</b></font></div><div><font color="#E30000">序列：可供多个用户用来产生唯一数值的数据库对象。</font></div><div><font color="#E30000">·自动提供唯一的数值</font></div><div><font color="#E30000">·共享对象</font></div><div><font color="#E30000">·主要用于提供主键值</font></div><div><font color="#E30000">·将序列值装入内存可以提高访问效率</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>6、CREATE SEQUENCE语句</b></font></div><div><font color="#E30000">定义序列：</font></div><div><font color="#E30000">CREATE SEQUENCE sequence</font></div><div><font color="#E30000">     [INCREMENT BY n]      </font></div><div><font color="#E30000">     [START WITH n]</font></div><div><font color="#E30000">     [{MAXVALUE n|NOMAXVALUE}]</font></div><div><font color="#E30000">     [{MINVALUE n|NOMINVALUE}]</font></div><div><font color="#E30000">     [{CYCLE|NOCYCLE}]</font></div><div><font color="#E30000">     [{CACHE n|NOCACHE}];</font></div><div><img src="Oracle_files/Image [188].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>7、NEXTVAL和CURRVAL伪列</b></font></div><div><font color="#E30000">·NEXTVAL返回序列中下一个有效的值，任何用户都可以引用。</font></div><div><font color="#E30000">·CURRVAL中存放序列的当前值。</font></div><div><font color="#E30000">·NEXTVAL应在CURRVAL之前指定，二者应同时有效。</font></div><div><img src="Oracle_files/Image [189].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [190].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [191].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [192].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>8、使用序列</b></font></div><div><font color="#E30000">·将序列值装入内存可提高访问效率。</font></div><div><font color="#E30000">·序列在下列情况下出现裂缝：</font></div><div><font color="#E30000"> ·回滚</font></div><div><font color="#E30000"> ·系统异常</font></div><div><font color="#E30000"> ·多个表同时使用统一序列</font></div><div><font color="#E30000">·如果不将序列的值装入内存（NOCACHE），可使用表USER_SEQUENCES查看序列当前的有效值。</font></div><div><img src="Oracle_files/Image [193].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><img src="Oracle_files/Image [194].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>9、修改序列</b></font></div><div><font color="#E30000">修改序列的增量，最大值，最小值，循环选项，或是否装入内存。</font></div><div><font color="#E30000">ALTER SEQUENCE dept_deptid_seq</font></div><div><font color="#E30000">               INCREMENT BY 20</font></div><div><font color="#E30000">               MAXVALUE 999999</font></div><div><font color="#E30000">               NOCACHE</font></div><div><font color="#E30000">               NOCYCLE;</font></div><div><font color="#E30000">修改序列的注意事项</font></div><div><font color="#E30000">·必须是序列的拥有者或对序列有ALTER权限</font></div><div><font color="#E30000">·只有将来的序列值会被改变</font></div><div><font color="#E30000">·改变序列的初始值只能通过删除序列之后重建序列的方法实现。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>10、删除序列</b></font></div><div><font color="#E30000">·使用DROP SEQUENCE语句删除序列</font></div><div><font color="#E30000">·删除之后，序列不能再次被引用</font></div><div><font color="#E30000">DROP SEQUENCE dept_deptid_seq;</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>11、索引</b></font></div><div><font color="#E30000">·一种独立于表的模式对象，可以存储在与表不同的磁盘或表空间中。</font></div><div><font color="#E30000">·索引被删除或损坏，不会对表产生影响，其影响的只是查询的速度。</font></div><div><font color="#E30000">·索引一旦建立，Oracle管理系统会对其进行自动维护，而且由Oracle管理系统决定何时使用索引。用户不用在查询语句中指定使用哪个索引。</font></div><div><font color="#E30000">·在删除一个表时，所有基于该表的索引会自动被删除。</font></div><div><font color="#E30000">·通过指针加速Oracle服务器的查询速度。</font></div><div><font color="#E30000">·通过快速定位数据的方法，减少磁盘I/O。</font></div><div><img src="Oracle_files/Image [195].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><font color="#1C3387"><b>12、创建索引</b></font></div><div><font color="#E30000">·自动创建：在定义PRIMARY KEY或UNIQUE约束后系统自动在相应的列上创建唯一性索引。</font></div><div><font color="#E30000">·手动创建：用户可以在其他列上创建非唯一的索引，以加速查询。</font></div><div><font color="#E30000">·在一个或多个列上创建索引</font></div><div><font color="#E30000">  CREATE INDEX index ON table (column[,column]...);</font></div><div><font color="#E30000">·在表EMPLOYEES的列LAST_NAME上创建索引</font></div><div><font color="#E30000">  CREATE INDEX emp_last_name_idx ON employees(last_name);</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>13、什么时候创建索引</b></font></div><div><font color="#E30000">以下情况可以创建索引：</font></div><div><font color="#E30000">·列中数据值分布范围很广</font></div><div><font color="#E30000">·列经常在WHERE子句或链接条件中出现</font></div><div><font color="#E30000">·表经常被访问而且数据量很大，访问的数据大概占数据总量的2%到4%</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>14、什么时候不要创建索引</b></font></div><div><font color="#E30000">下列情况不要创建索引：</font></div><div><font color="#E30000">·表很小</font></div><div><font color="#E30000">·列不经常作为连接条件或出现在WHERE子句</font></div><div><font color="#E30000">·查询的数据大于2%到4%</font></div><div><font color="#E30000">·表经常更新</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>15、删除索引</b></font></div><div><font color="#E30000">·使用DROP INDEX命令删除索引</font></div><div><font color="#E30000">·删除索引UPPER_LAST_NAME</font></div><div><font color="#E30000">·只有索引的拥有者或拥有DROP ANY INDEX权限的用户才可以删除索引</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>16、同义词</b></font></div><div><font color="#E30000">使用同义词访问相同的对象：</font></div><div><font color="#E30000">·方便访问其他用户的对象</font></div><div><font color="#E30000">·缩短对象名字的长度</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>17、创建和删除同义词</b></font></div><div><font color="#E30000">·为视图DEPT_SUM_VU创建同义词</font></div><div><span style="color: rgb(227, 0, 0);">CREATE [PUBLIC] SYNONYM synonym FOR object;</span></div><div><img src="Oracle_files/Image [196].png" type="image/png" style="cursor: default;"/></div><div><font color="#E30000">·删除同义词</font></div><div><font color="#E30000">DROP SYNONYM d_sum;</font></div></div>
</div></body></html> 